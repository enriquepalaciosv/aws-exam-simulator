{"data":{"createNewExamAttempt":{"attempt":{"id":"007c5da6-d217-4048-b223-b3721809210c"},"exam":{"id":"b1286822-32e8-4a41-acd9-4113ac988887","title":"AWS Certified DevOps Engineer - Professional 2019","duration":10800,"totalQuestions":75,"questions":[{"id":"82e554d2-f867-4507-974f-04b0b9020cb9","domain":"MonitoringLogging","question":"Your company has a team of Windows Software Engineers which have recently switched from developing on-premise applications, to cloud native micro-services.  The Service Desk has been inundated with questions, but they can't troubleshoot because they don't know enough about Amazon CloudWatch.  The questions they have been receiving mainly revolve around why EC2 logs don't appear in log groups and how they can monitor .NET applications.  Choose the following options which will help troubleshoot the Amazon Cloudwatch issues.","explanation":"The question suggests we are utilising a Windows development environment, so we can discount any answers which have Linux only terms such as running shell scripts.  To run Amazon CloudWatch Application Insights for .NET and SQL Server, we will need to install the SSM Agent with the correct roles, IAM policies and Resource Groups.  We also need to ensure that the CloudWatch agent is running correctly, by starting it using the amazon-cloudwatch-agent-ctl.ps1 script, and as we are assuming defaults, Cloudwatch metrics can be found under the CWAgent namespace.  There are limits for many items in Cloudwatch, utilising Custom Metrics is not one of them.","links":[{"url":"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/troubleshooting-CloudWatch-Agent.html","title":"Troubleshooting the CloudWatch Agent"},{"url":"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch-application-insights.html","title":"Amazon CloudWatch Application Insights for .NET and SQL Server"}],"answers":[{"id":"aa7402fca9b873f6b49d144c5c67440e","text":"For each EC2 instance running .NET code, install the SSM Agent and attach the AmazonEC2RoleforSSM Role.  You will also need to create a Resource Group and IAM Policy.","correct":true},{"id":"ffd7b413b965db5c4e66d6dc2c8a73e8","text":"Check the aws-agent.yaml file exists and is configured correctly, and then run the following shell command; aws-cw-agent.sh start.","correct":false},{"id":"815da42a7b90966156b2d66da1a16b9e","text":"Check the common-config.toml file exists and is configured correctly, and then run the following Powershell command; amazon-cloudwatch-agent-ctl.ps1 -m ec2 -a start.","correct":true},{"id":"ff3e53ec436317efcebcc4a0bf3b52a8","text":"In the Amazon Cloudwatch console, select Metrics, AWS Namespaces and then your metrics should appear under 'CWAgent'.","correct":true},{"id":"33668d47f8774c94713045bff628ba97","text":"If you are utilising CloudWatch Custom Metrics, ensure that you have not reached the default limit.","correct":false}]},{"id":"a5ef00b0-c312-49fc-9553-6e7217f93561","domain":"HAFTDR","question":"Your organization has multiple weather stations installed around your state. You would like to move the data from your old relational database to a newer and hopefully faster NoSQL database. Which AWS solution would you choose for storing and migrating the data, and which keys do you use for your weather station ID and the timestamp of the reading?","explanation":"DynamoDB is the AWS NoSQL database. The Weather Station ID will be your Partition Key and the timestamp will be your Sort key.","links":[{"url":"https://aws.amazon.com/blogs/database/choosing-the-right-dynamodb-partition-key/","title":"Choosing the Right DynamoDB Partition Key"}],"answers":[{"id":"3399272a0609e8a363a59878ea5960ef","text":"Use Amazon DMS to migrate data to an Amazon ElasticCache table. Select your RDS instance as the source and ElasticCache as destination.  Create a task with an object mapping rule to copy the required relational database tables to DynamoDB.  Within your object-mapping set your weather station ID as the Primary Key of your table and timestamp of the reading as the Sort key.","correct":false},{"id":"a0d196957142835b951087cae863939c","text":"Use Amazon DMS to migrate data to an Amazon DynamoDB table. Select your RDS instance as the source and DynamoDB as destination.  Create a task with an object mapping rule to copy the required relational database tables to DynamoDB.  Within your object-mapping set your weather station ID as the Partition Key of your table and timestamp of the reading as the Sort key.","correct":true},{"id":"52f544e451b4aef2951330297f1b4235","text":"Use Amazon DMS to migrate data to an Amazon DynamoDB table. Select your RDS instance as the source and DynamoDB as destination.  Create a task with an object mapping rule to copy the required relational database tables to DynamoDB.  Within your object-mapping set your weather station ID as the Primary Key of your table and timestamp of the reading as the Sort key.","correct":false},{"id":"4ea68f2e23cb18631ed94c5aefa19cf8","text":"Use Amazon DMS to migrate data to an Amazon DataTables table. Select your RDS instance as the source and DataTables as destination.  Create a task with an object mapping rule to copy the required relational database tables to DynamoDB.  Within your object-mapping set your weather station ID as the Partition Key of your table and timestamp of the reading as the Sort key.","correct":false}]},{"id":"a1b1f253-8d88-4b6a-882a-146b02e9e327","domain":"MonitoringLogging","question":"Your company has been moving its core application from a monolith to an ECS based, microservices architecture.  Although functionally the application is operational in its new environment, you randomly see spikes of latency throughout the day and you are concerned with the overall performance of the application.  How can you rapidly gain information about the requests each microservice is serving?","explanation":"X-Ray is the AWS service that can deal with this sort of scenario, therefore we can discount any option that doesn't include it.  The best solution would be to deploy a Docker image running the X-Ray agent as an ECS service and this could ingest data from all sources.  You could then track the path of the application and filter on this data to find the cause.","links":[{"url":"https://aws.amazon.com/xray/faqs/","title":"AWS X-Ray FAQs"},{"url":"https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html","title":"AWS X-Ray Concepts"}],"answers":[{"id":"92f0c9098189dbfb752878b2b946957f","text":"Utilise the AWS SDK to communicate with the AWS X-Ray API.  These will generate the JSON segments into an S3 bucket and the use SQL statements within AWS Athena to search through the traces stored in the bucket.","correct":false},{"id":"6cd41e60c1ed008cbabe084fc5f7c5f5","text":"Enable Enhanced Cloudwatch functionality in each microservice, push all performance information into Cloudwatch Logs and use Log Insights to identify poorly performing APIs.","correct":false},{"id":"5a8dd485b25fce5ab3b460060dc89f4f","text":"Utilise AWS X-Ray by deploying a Docker image containing the X-Ray daemon to ECS, which will then gather segment data.  Then examine the traces generated to track the path of a request through the application and use Filter Expressions to find traces relating to specific paths.","correct":true},{"id":"bfef3f324b5e71c44d859b637f210e99","text":"Deploy the X-Ray daemon to all ECS Services and view the traces and performance data that is generated, within the X-Ray console.","correct":false}]},{"id":"46d6ca80-c3ad-4319-8a9e-b1ed0047f73a","domain":"SDLCAutomation","question":"You have been asked to deploy two, small internal applications on Elastic Beanstalk.  One is a Python application which requires Nginx, and the other is a Java application with the need to have special java parameters passed to it.  Which Platform option should you use as the Base Configuration to run each application?  Choose the option that is the quickest and easiest to deploy in each case.","explanation":"To choose the quickest and easiest deployment mechanism, you must understand what options the preconfigured solutions give you.  In the case of Python, it comes with Apache HTTP by default, but we required Nginx, so we cannot choose a preconfigured option for the Python application and we must build it as a contaniner.  For the Java application however, it will happliy be deployed as the preconfigured option with the java parameters specified in the 'Environment properties' section.","links":[{"url":"https://aws.amazon.com/elasticbeanstalk/faqs/","title":"AWS Elastic Beanstalk FAQs"},{"url":"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/command-options-specific.html","title":"Platform Specific Options"}],"answers":[{"id":"0df59da0902f3797038a0c11f8eb5874","text":"Create the Python application as a Docker container, and on the 'Platform' drop down, choose 'Generic - Docker' and upload the container.  For the Java application, choose 'Preconfigured - Node.js' and upload the code.","correct":false},{"id":"bcc14bebc6f2b9e9dc6564979d981d56","text":"Create the Python application as a Docker container, and on the 'Platform' drop down, choose 'Generic - Docker' and upload the container and for the Java application, carry out the same process.","correct":false},{"id":"8291c776c87c1530f5f2e159d308b3ed","text":"Create the Python application as a Docker container, and on the 'Platform' drop down, choose 'Generic - Docker' and upload the container.  For the Java application, choose 'Preconfigured - Java' and upload the code.","correct":true},{"id":"77e071eb26d8852300b66b6c64c84698","text":"On the 'Platform' drop down, choose 'Preconfigured - Python' for the Python application and then upload the code.  For the Java application, choose 'Preconfigured - Java' and upload the code.","correct":false}]},{"id":"61e75027-a31b-4647-9a9c-f5cb8c771339","domain":"IncidentEventResponse","question":"Your application uses Kinesis Data Streams to process incoming streaming data.  A colleague has noticed that GetRecords.IteratorAgeMilliseconds metric increases up to 10 minutes when traffic hits its peak during the day, and then reduces again when traffic gets less during the night.  This is a problem as it means data processing is being delayed during the times when the most amount of data is being ingested. What changes could you make to reduce the time lag in the stream?","explanation":"An increased GetRecords.IteratorAgeMilliseconds metric means that either the KCL consumers cannot keep up processing the data from the Kinesis stream or there aren't enough shards in the stream.  Choosing both of these options will satisfy the needs of the question.","links":[{"url":"https://aws.amazon.com/kinesis/data-streams/faqs/","title":"Amazon Kinesis Data Streams FAQs"},{"url":"https://docs.aws.amazon.com/streams/latest/dev/troubleshooting-consumers.html","title":"Troubleshooting Amazon Kinesis Data Streams Consumers"}],"answers":[{"id":"67a7d4be4c7d2f710e0f6a7ddc4f2086","text":"Increase the amount of KPL producers putting data onto the shards.","correct":false},{"id":"a3a32610b2f82f78ed6560f077bba3d2","text":"Increase the retention time of the stream from 24 hours to 7 days.","correct":false},{"id":"4e638cee5fe6dc1a0c8c05bbfc5d2192","text":"Rewrite code to handle all exceptions within processRecords.","correct":false},{"id":"3cef88c0f16832880d58c622e62f99f4","text":"Add more EC2 KCL consumers to allow each to process less shards per instance.","correct":true},{"id":"88282ae94db4da5f7717813516387595","text":"Increase parallelism by adding more shards per stream.","correct":true}]},{"id":"dae6c09f-c2e7-4b01-b0ec-95ed07a7bab2","domain":"HAFTDR","question":"Due to some recent performance issues, you have been asked to move your existing Product Information System to Amazon Aurora.  The database uses the InnoDB storage engine, with new products being added regularly throughout the day. As the database is read heavy, the decision has also been made to add a Read Replica during the migration process.  The changeover completes successfully, but after a few hours you notice that lag starts to appear between the Read/Write Master and the Read Replica.  What actions could you carry out to reduce this lag?","explanation":"One of the most obvious causes of Replication lag between two Aurora databases is because of settings and values, so making the storage size comparable between the source DB and Read Replica is a good start to resolving the issue, as is ensuring compatible DB Parameter settings, such as with the max_allowed_packet parameter.  Turning off the Query Cache is good for tables that are modified often which causes lag, because the cache is locked and refreshed often. No other options are correct.","links":[{"url":"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/CHAP_Troubleshooting.html","title":"Troubleshooting for Aurora"}],"answers":[{"id":"09fee716d530e8dbb655cb9541bb4d5c","text":"Unlike Amazon RDS for MySQL, Amazon Aurora does not exhibit replication lag.","correct":false},{"id":"5b3b3ef613f42a00bbda6ed80b4f3683","text":"Change the Read Replica instance class to have the same storage size as the source instance.","correct":true},{"id":"82a38022b7a8f6e84ec39753340df001","text":"Set query_cache_type=0 in the DB Parameter Group, to disable the query cache.","correct":true},{"id":"05acabf0a4eea6213f78770124a81bcd","text":"Ensure the max_allowed_packet parameter value for the Read Replica is the same as the source DB instance.","correct":true},{"id":"94692ead9b9079bf92302461566b94a5","text":"Add additional replicas and the alter the code to initiate Read/Write splitting of the Database.","correct":false}]},{"id":"ea7992e6-08c7-4f1b-9391-67be322b64ac","domain":"MonitoringLogging","question":"Your company runs a fleet of spot instances to process large amounts of medical data which can be killed at any time. The processing results are extremely important, and you find that sometimes the servers shut down too quickly for the logs to be copied over to S3 when a batch has completed. It's OK if a batch doesn't complete processing because it will be re-run on another spot instance, but the small case of completing and not getting the logs for that completion is causing headaches. Which is the best solution to implement to fix this issue?","explanation":"The CloudWatch logs agent will stream your logs straight into CloudWatch Logs so nothing will be missed if the server is terminated.","links":[{"url":"https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/QuickStartEC2Instance.html","title":"Install and Configure the CloudWatch Logs Agent on a Running EC2 Linux Instance"}],"answers":[{"id":"9808af87ddc6c3fed5dcb05510fc62b5","text":"Configure a cronjob to push the logs to S3 every minute","correct":false},{"id":"7da59d6d572879b3f9de3a904c1ed08e","text":"Configure the server to send the logs to SQS on completion and use a Lambda function to poll the SQS queue and save the queue contents to S3","correct":false},{"id":"2b9f925fe8658d7ca17378e9d8006c98","text":"Configure the CloudWatch logs agent on the AMI the spot instance is using and stream your logs to CloudWatch Logs directly","correct":true},{"id":"2b8f5ce19a375c3062f4d5f2f3d46d59","text":"Configure the application to ingest the logs directly into Kinesis streams, and use a master logging server to process those logs and copy them into S3","correct":false}]},{"id":"0917c160-74a4-439b-818b-248197d8fd54","domain":"IncidentEventResponse","question":"Your organization has a few million text documents in S3 that are stored in a somewhat random manner, and the amount of files is always growing. The developer that initially wrote the system in use stored everything with a random file name with some attempt at security through obscurity. Now your CEO and CFO both need to be able to search the contents of these documents, and they want to be able to do so quickly at a reasonable cost. What managed AWS services can assist with implementing a solution for your CEO and CFO, and what would the setup process involve?","explanation":"CloudSearch by itself is enough to fulfill the requirements put forward here. CloudSearch is managed, scalable can very quick to configure and get online. In comparison it would take some time to set up EC2 and install ElasticSearch or any other search tool, and would be much more difficult to scale. This involves creating a search domain and configuring the index as required, and then setting up the access policies.","links":[{"url":"https://aws.amazon.com/cloudsearch/","title":"AWS | Amazon CloudSearch - Search Service in the Cloud"}],"answers":[{"id":"280209643a35ef346f22e051eafca06e","text":"Create a search domain","correct":true},{"id":"8f9d7ad9c2c6d20b41851ce8e3572aaa","text":"Configure your index","correct":true},{"id":"ab25d01b99c512f0cb03129afc920a07","text":"Implement ElasticSearch","correct":false},{"id":"38b79d58ed1b5a50d6bbc91173d0c745","text":"Create a search index","correct":false},{"id":"705d488d75db0b38eb9811a38a863d57","text":"Implement MongoDB","correct":false},{"id":"a34f38b0356fb4da2ce3a29a66b4b415","text":"Configure your baseline","correct":false},{"id":"d912e8309bb58d3483307e1ea428bf8a","text":"Set up access policies","correct":true},{"id":"e26c5d07fc30848902a99c95897441b4","text":"Set up IAM roles","correct":false},{"id":"562f9538310fcd7c846445ad9768ab7c","text":"Implement Amazon CloudSearch","correct":true}]},{"id":"7d87ad95-0cc6-4a66-8e2e-a2b02fe78f38","domain":"SDLCAutomation","question":"You receive a PermissionError from CodePipeline that complains about not being able to access your GitHub repository. What are possible reasons for that and how can you resolve this error?","explanation":"CodePipeline uses GitHub OAuth tokens and personal access tokens to access your GitHub repositories. CodePipeline doesn't automatically expire your GitHub personal access token.","links":[{"url":"https://docs.aws.amazon.com/codepipeline/latest/userguide/troubleshooting.html?shortFooter=true#troubleshooting-gs2","title":"Troubleshooting CodePipeline"},{"url":"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html","title":"Managing Access Keys for IAM Users"},{"url":"https://docs.aws.amazon.com/codepipeline/latest/userguide/GitHub-rotate-personal-token-CLI.html","title":"Use GitHub and the CodePipeline CLI to Create and Rotate Your GitHub Personal Access Token on a Regular Basis"}],"answers":[{"id":"61e68f6697ca35f0212a17494ee8e14d","text":"The only way to authenticate CodePipeline in GitHub is to use your AWS access token. Use your IAM users' access key ID (not the secret!) to re-register CodePipeline as an OAuth application in GitHub.","correct":false},{"id":"8b118ac224db32b1b232ec2b4f288564","text":"CodePipeline can use GitHub personal access tokens to access your GitHub repositories and retrieve the latest changes. As with all tokens, these should be stored securely and rotated or regenerated routinely. Token rotation is recommended by RFC-6819 (OAuth 2.0 Threat Model and Security Considerations). If not refreshed regularly, CodePipeline expires your GitHub personal access token after 90 days of inactivity. Regenerate a new token and run the get-pipeline command on the pipeline where you want to change the personal access token.","correct":false},{"id":"7771d289cb96cfe426d515391a62d0a5","text":"The number of OAuth tokens is limited and if CodePipeline reaches that limit, older tokens will stop working, and actions in pipelines that rely upon that token will fail. To fix this issue, try to manually configure one OAuth token as a personal access token, and then configure all pipelines in your AWS account to use that token.","correct":true},{"id":"ea42611005235ed3043a63d37da1be8c","text":"CodePipeline uses OAuth tokens to integrate with GitHub. You might have revoked the permissions of the OAuth token for CodePipeline. Try signing in to GitHub, go to Applications under Settings, and choose Authorized OAuth Apps. If you do not see CodePipeline in the list, open the CodePipeline console, edit the pipeline, and choose Connect to GitHub to restore the authorization.","correct":true}]},{"id":"97b89b27-99f8-4cb9-88f3-9002eacb7713","domain":"MonitoringLogging","question":"You are part of a team working on an house valuation service that aggregates data via APIs from different external providers. Your Solution Architect specified that AWS Secrets Manager is to be used for the storage of all third-party API keys, client IDs and other secrets. One particular API requires two customer specific values - each of these is 1024 bytes long. Which of the following answer is correct?","explanation":"Secrets can be database credentials, passwords, third-party API keys, and even arbitrary text. The maximum length of a secret 7168 bytes.","links":[{"url":"https://docs.aws.amazon.com/secretsmanager/latest/userguide/intro.html","title":"What Is AWS Secrets Manager?"},{"url":"https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_limits.html","title":"Limits of AWS Secrets Manager"}],"answers":[{"id":"8c641d9b7e20b71b0bc352b7ed6f68dc","text":"Secrets must not exceed 256 characters in length.","correct":false},{"id":"147c08f6dcfd373071697491fcf3b414","text":"AWS Secrets Manager supports the management of database credentials (username and password) only. Max. length is 512 characters for each field.","correct":false},{"id":"45f37012d1d473b2ab3bc21659f75224","text":"You can store up to 7168 bytes in each secret.","correct":true},{"id":"42946ed8adcfa463fd89ecdf2afed049","text":"You will need to store the two values separately as two secrets and combine them programmatically.","correct":false}]},{"id":"74ff9710-cfb7-46df-a980-0811c45f45f0","domain":"HAFTDR","question":"For a number of years, your company has been running its Billing system using Amazon Aurora for MySQL, using additional Read Replicas to run reports and to generate invoices.  Your Manager has said that RDS is now showing a RDS-EVENT-0045 error after one of the team made a configuration change, then left to go on holiday.  After restarting the replication, you briefly get an RDS-EVENT-0046 notification which quickly returns another RDS-EVENT-0045 notification and replication stops again.  Your Manager wants you to troubleshoot the problem as soon as possible, because no bills can be generated.  What steps could you take to resolve the issue?","explanation":"All of the answers have something to do with failing replication, but we can immediately discount anything which requires a change in the code as the question states it was a configuration change which caused the initial issue.  It can't be a database engine issue, because replication will only run on a transactional engine like InnoDB.  Deleting and recreating the read replicas can resolve an issue, but only if there are data inconsistencies and performing only that operation, means that those errors will come back.  In this case, the only thing it could be, is that your colleague has changed the size of max_allowed_packet.","links":[{"url":"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/CHAP_Troubleshooting.html","title":"Troubleshooting for Aurora"}],"answers":[{"id":"52956a328038ae53dea8c74318f72c79","text":"Remove any queries using SYSDATE() from the code, redeploy and restart replication.","correct":false},{"id":"9ad744f1e763f7a5e0ede3939d14a3a3","text":"Switch the database engine from MyISAM to InnoDB and restart replication.","correct":false},{"id":"da283d585bf5dbb555cb1e9207f19fae","text":"Change and redeploy the code to stop writing to a Read Replica, then set read_only to 1.","correct":false},{"id":"1ed2f7210119575d1441c76431e4ab4d","text":"Delete and recreate the Read replicas using the same DB instance identifier.","correct":false},{"id":"73f213792c22de894e9255b4caa4c13e","text":"Ensure the max_allowed_packet parameter on a Read Replica is the same as that of the source DB.","correct":true}]},{"id":"d9e654d8-7cf1-4822-b834-308402b8ea9d","domain":"IncidentEventResponse","question":"You currently host a website from an EC2 instance. Your website is entirely static content. It contains images, static html files and some video files. You would like to make the site as fast as possible for everyone around the world in the most cost effective way. Which solution meets these requirements?","explanation":"S3 and CloudFront is the cheapest solution which will ensure the fastest content delivery around the world, but will also be cheaper due to no ongoing EC2 costs.","links":[{"url":"https://aws.amazon.com/premiumsupport/knowledge-center/cloudfront-serve-static-website/","title":"How do I use CloudFront to serve a static website hosted on Amazon S3?"}],"answers":[{"id":"08d5998199f3298235e31cd4c01b2e25","text":"Move the website into an S3 bucket and serve it through Amazon CloudFront.","correct":true},{"id":"67c4d281d5d766f7f403fce78108d67d","text":"Move your static assets into S3. Serve the website on your EC2 instance with Amazon CloudFront as your content delivery network.","correct":false},{"id":"5851d3ee6cc5b6445f30a454af7d8d08","text":"Keep your website hosting on EC2. Add Amazon CloudFront as your content delivery network.","correct":false},{"id":"f4f5a1b2cd8a58cfae42965d8f070404","text":"Move your dynamic assets into S3. Serve the website on your EC2 instance with Amazon CloudFront as your content delivery network.","correct":false}]},{"id":"b2d2d9d6-3ab6-4949-85a3-de49e4783ab9","domain":"ConfigMgmtandInfraCode","question":"In the past, your organisation has had security breaches due to unauthorised changes in infrastructure.  To reduce these, the InfoSec Team have implemented AWS Config so that all changes are recorded.  Any changes to the infrastructure are then monitored by the Service Desk.  However, the following errors; \"We are unable to complete the request at this time. Try again later or contact AWS Support\" are appearing in the console.  The Service Desk Manager has asked you for more information on why these errors are happening.  Choose the correct reasons from below.","explanation":"There are only two issues that would cause this error to appear in AWS Config.  The first is if you make multiple calls to the AWS Config API within a minute and the default rate limiting will then implement a temporary block.  The CloudTrail logs will show the following; \"You have exceeded the maximum request rate. Try again at a later time.\" and you should stop calling the API as frequently.  The second option will be if you exceed the set Aggregator limit (which is 50 by default).  CloudTrail will show; \"The configuration aggregator could not be created because the account already contains '50' configuration aggregators. Consider deleting configuration aggregators or contact AWS Config to increase the limit.\"  No other options listed accurately describe the message.","links":[{"url":"https://aws.amazon.com/premiumsupport/knowledge-center/config-console-error/","title":"How can I troubleshoot AWS Config console error messages?"},{"url":"https://aws.amazon.com/config/faq/","title":"AWS Config FAQs"}],"answers":[{"id":"bb66cca2e29dc015297e99a6c201a347","text":"This error is related to switching to a different region when Remediation is in Progress.","correct":false},{"id":"72a656f0e09c8f5382bf1978c403720f","text":"This error is related to the Aggregator limit being reached, and you should contact AWS Support to increase the Configuration Aggregator limit from the default value.","correct":true},{"id":"8d84028643f27b004e826c24087d49db","text":"This error is related to exceeding the rate limiting if you use the API call GetResourceConfigHistory or ListDiscoveredResources with a Lambda function.","correct":false},{"id":"c2b54e290aa3e1f5ba5b69b19e872a6a","text":"This error is related to the ConformancePackStatusReason, and you should check it to know more about the reason for failure.","correct":false},{"id":"92344dfafeacc6f8c91cc9d5159ce1ff","text":"This error is related to calling the StartConfigRulesEvaluation API more than once per minute.","correct":true}]},{"id":"78f41605-1f8d-4b51-8cba-700dc133f4f7","domain":"ConfigMgmtandInfraCode","question":"You are the only developer in your new team, and you are developing a PHP application with a Postgres database. You would like to just focus on your code and spend a minimal amount of time in the AWS console. You would also like any new developer who joins your team to be able to deploy to the environment in a simple way, as they are traditional developers and not cloud engineers. It also needs to support rolling deployments as you grow, giving you the ability to deploy your software to existing servers without taking them all offline, as well as rolling back if required. Which AWS service do you choose to meet these needs, and how do you roll back if required?","explanation":"AWS Elastic Beanstalk is the best candidate for this requirement. You can quickly deploy code without having to learn about the infrastructure that runs those applications. Rolling deployments are possible, and a manual redeploy of the old version of your code will be required to roll back.","links":[{"url":"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.deploy-existing-version.html","title":"Deploying Applications to AWS Elastic Beanstalk Environments - AWS Elastic Beanstalk"}],"answers":[{"id":"587b149ea3ac40bb8b426a5c63d9707e","text":"Build and deploy the application using AWS CloudFormation and AWS Autoscaling. Deploy using CloudFormation Update Stacks, and roll back on failure to the using the previous template automatically stored in S3","correct":false},{"id":"e86fdbe990df7cf472897ce49b953712","text":"Build and deploy your application using the AWS Elastic Beanstalk service. Deploy to your servers with Rolling deployment and initiate a roll back if required using manual redeploy.","correct":true},{"id":"257328bbb1bc59807cf7babc510d644f","text":"Build and deploy your application using the AWS CodeDeploy service. Deploy to your servers with CodeDeploy Rolling Deploy. Initiate a roll back if required using CodeDeploy Rollback.","correct":false},{"id":"8783d925cf8391b96952ef87581b9144","text":"Build and deploy your application using the AWS Elastic Beanstalk service. Deploy to your servers with All-at-once deployment and initiate a roll back if required using manual redeploy.","correct":false}]},{"id":"abfe783d-622d-4a39-9ee5-f210c96b3a6b","domain":"ConfigMgmtandInfraCode","question":"A company has created three Docker containers which need to be deployed.  The first is a core application for the company which will need to accommodate thousands of Websocket connections every minute.  The second is the main corporate Website which is based on a Node.js application running behind an Nginx sidecar. The final container is a small departmental application written by a single developer using the React framework.  You have been asked to deploy each container on the most suitable, cost effective and reliable AWS platform from the options below.","explanation":"In order to make the decision which options are the best, we should start with the deployment that has the most constraints and that is the application using Websockets as these require many network connections and should be installed as multiple tasks across the ECS Cluster.  With this constraint dealt with, we can eliminate all options that don't include the ECS Cluster.  Putting all containers on one ECS Cluster would work technically, but wouldn't be cost effective and would mean an internal departmental application lives on the same cluster as the main core production applications.  When we also exclude installing Docker directly on EC2 as there is no redundancy, this leaves the only option as using ECS for the core application, Fargate for the Website and Elastic Beanstalk for the internal application.","links":[{"url":"https://aws.amazon.com/ecs/faqs/","title":"Amazon Elastic Container Service FAQs"},{"url":"https://aws.amazon.com/elasticbeanstalk/faqs/","title":"AWS Elastic Beanstalk FAQs"},{"url":"https://aws.amazon.com/fargate/faqs/","title":"AWS Fargate FAQs"}],"answers":[{"id":"cc5e3933e49bdce4224537871a4f765b","text":"Deploy all three applications on a managed ECS Cluster.","correct":false},{"id":"a09251d393d8cef1692aee1706d87dec","text":"Deploy the Websocket application on a managed ECS Cluster, the Corporate Website on Fargate and the Departmental application on Elastic Beanstalk.","correct":true},{"id":"31d397d0bdcff1d57aeca0011626b830","text":"Deploy the Websocket application on a managed ECS Cluster, the corporate Website in Fargate and install Docker on a single EC2 instance to run the departmental application.","correct":false},{"id":"37d838ae967ac13002610a1398c9ffd2","text":"Deploy all of the Docker containers in Fargate.","correct":false},{"id":"d8af6733a20ec3d6677a1e9d0016f47a","text":"Deploy the Websocket application and the corporate Website on a managed ECS Cluster and deploy the departmental application in Fargate.","correct":false}]},{"id":"b8240606-8f74-4b39-ad43-d8374d4b275d","domain":"MonitoringLogging","question":"Your organization has been using AWS for 12 months. Currently, you store all of your custom metrics in CloudWatch. Per company policy, you must retain your metrics for 3 years before it is OK to discard or delete them. Is CloudWatch suitable?","explanation":"CloudWatch will retain metrics for 15 months, after which they will expire. If you need to keep metrics for longer you must pull them out of CloudWatch using their API and store them in a database somewhere else.","links":[{"url":"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch_concepts.html","title":"CloudWatch Concepts"}],"answers":[{"id":"d829ad2942daa681d42ad4237f50827c","text":"No, CloudWatch only retains metrics for 15 months. You will have to use the API to pull all metrics and store them somewhere else.","correct":true},{"id":"8faab65d1ba3ce5e0cb52e471493dd0b","text":"No, CloudWatch only retains metrics for 24 months. You will have to use the API to pull all metrics and store them somewhere else.","correct":false},{"id":"47ecaf50014e4dd77522488586ae375a","text":"Yes, CloudWatch will retain custom metrics for 3 years.","correct":false},{"id":"cf00bc1c445d1daf231db593c6f998d9","text":"Yes, CloudWatch will retain custom metrics for 5 years.","correct":false}]},{"id":"98efc6ca-1ded-4c51-94dd-7aa4ff3e835e","domain":"SDLCAutomation","question":"Your manager has asked you to investigate different deployment types for your application. You currently use Elastic Beanstalk so you are restricted to what that service offers. Your manager thinks it would be best to only deploy to a few machines at a time, so if there are any failures only the few that have been updated will be affected, making a rollback easier. To start with, your manager would like the roll-outs to occur on 2 machines at a time but would like the option to increase that to 3 at a time in the future. Deployments are done during quiet periods for your application, so reduced capacity is not an issue.  Which deployment type do you implement, and how can you get the most reliable indication that deployments have not introduced errors to the servers?","explanation":"The rolling deployment policy is suitable. Additional batch is not specified as a requirement.","links":[{"url":"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.rolling-version-deploy.html","title":"Elastic Beanstalk Deployment Policies and Settings"}],"answers":[{"id":"3ab638a2611327523fa489ffd5358081","text":"Implement Elastic Beanstalk's Rolling deployment policy. Within the Rolling update policy set Rolling based on Health with batch size of two.  Use Elastic Beanstalk's Enhanced Health Reporting to analyse web logs and Operating System metrics within the target servers as this will give the best guarantee that a deployment was successful.","correct":true},{"id":"7257c3141e580ca3d648f8ccd2e3e77e","text":"Implement Elastic Beanstalk's Two-at-once deployment policy. Within the Two-at-once update policy set update based on Health with batch size of two.  Use Elastic Beanstalk's Enhanced Health Reporting to analyse web logs and Operating System metrics within the target servers as this will give the best guarantee that a deployment was successful.","correct":false},{"id":"88b8bcbc9a5f8d43bd4e059cf5b1ee0f","text":"Implement Elastic Beanstalk's Rolling with additional batch deployment policy. Within the policy, set update based on Health with size of two.  Use Elastic Beanstalk's Enhanced Health Reporting to analyse web logs and Operating System metrics within the target servers as this will give the best guarantee that a deployment was successful.","correct":false},{"id":"afd11d75ca714f8fd9bc5435eb0279b3","text":"Implement Elastic Beanstalk's Immutable deployment policy. Within the update policy set batch size of two.  Use Elastic Beanstalk's Enhanced Health Reporting to analyse web logs and Operating System metrics within the target servers as this will give the best guarantee that a deployment was successful.","correct":false}]},{"id":"fddf85cb-72e6-4fa1-9c80-07536a84a6e8","domain":"HAFTDR","question":"You have a new website design you would like to test with a small subset of your users. If the test is successful, you would like to increase the amount of users accessing the new site to half your users. If that's successful and your infrastructure is able to scale up correctly, you would like to completely roll over to the new design and then decommission the servers hosting the old design. Which of these methods do you choose?","explanation":"A weighted routing policy combined with an auto-scaling group will meet your requirements and will continue to scale if your tests are successful and you completely roll over to the new design.","links":[{"url":"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy.html#routing-policy-weighted","title":"Weighted Routing"}],"answers":[{"id":"8d8f29ecca384ae73a4006c686df91b8","text":"Install the new website design in a new AutoScaling group. Create a Lambda function to modify your Route53 apex record to use the new AutoScaling group for 5% of the day. If that's successful then modify the function to change the apex record for half the day, and end with 100% of traffic going to the new AutoScaling group if tests are successful. Decommission the old EC2 servers.","correct":false},{"id":"07123797fd0770bb8b71a6b339d36bfc","text":"Install the new website design in a new AutoScaling group. Use a Weighted Routing policy in Route53 and use it to choose the percentage of users you would like during different testing phases. Start with 5%, then 50%, and end with 100% of traffic going to the new AutoScaling group if tests are successful. Decommission the old EC2 servers.","correct":true},{"id":"1a147be1638db0d199c9779bb5488bd7","text":"Install the new website design in a new AutoScaling group. Use a Weighted Routing policy in Route53 and use it to choose the percentage of users you would like during different testing phases. Start with 5%, then 20%, and end with 100% of traffic going to the new AutoScaling group if tests are successful. Decommission the old EC2 servers.","correct":false},{"id":"ff9caa8ea679855cc9425d3e553bf303","text":"Install the new website design in a new AutoScaling group. Use an A/B Test Routing policy in Route53 and use it to choose the percentage of users you would like during different testing phases. Start with 5%, then 20%, and end with 100% of traffic going to the new AutoScaling group if tests are successful. Decommission the old EC2 servers.","correct":false}]},{"id":"279ef48b-4c8c-4cf0-a14a-8144644ac2f1","domain":"MonitoringLogging","question":"You work for a company that uses a serverless architecture to process up to 4,000 events per second for its usage analytics service. At its core, it consists of a multitude of Lambdas that have been given various resource configurations, i.e. memory/CPU settings. For each function invocation, you want to monitor that allocation against the actual memory usage. Select the simplest feasible approach to achieve that.","explanation":"AWS Lambda doesn’t provide a built-in metric for memory usage but you can set up a CloudWatch metric filter. The AWS Lambda console provides monitoring graphs for Invocations, Duration, Error count and success rate (%), Throttles, IteratorAge and DeadLetterErrors.","links":[{"url":"https://docs.aws.amazon.com/lambda/latest/dg/resource-model.html","title":"AWS Lambda Function Configuration"},{"url":"https://docs.aws.amazon.com/lambda/latest/dg/monitoring-functions.html","title":"Monitoring and troubleshooting Lambda applications using Amazon CloudWatch"},{"url":"https://forums.aws.amazon.com/thread.jspa?threadID=226674","title":"Profiling memory usage for Lambda functions"},{"url":"https://gist.github.com/cgoering/4de674e3e3ca8d6255ea708997cca3b0","title":"AWS Lambda memory usage metric in CloudFormation"}],"answers":[{"id":"55b98a256995ac4e4c6f7afc1e1a5845","text":"AWS Lambda provides a built-in CloudWatch metric for memory usage.","correct":false},{"id":"e2113fd25833a45a179807bc633f635a","text":"Log entries written into the log group associated with a Lambda function don't include profiling info such as memory usage. You need to use AWS X-Ray for that.","correct":false},{"id":"2f5f4e15a960c888b86e315b993df292","text":"You can set up a custom CloudWatch metric filter using a pattern that includes 'REPORT', 'MAX', 'Memory' and 'Used:'.","correct":true},{"id":"65883e3f656c8f5b6f91c895b44649ff","text":"Use the 'Monitoring' tab in the AWS Lambda console and add the 'Resource' monitoring graph to your dashboard.","correct":false}]},{"id":"6313796d-1496-4bfc-b9e4-fe35e00f883b","domain":"HAFTDR","question":"Your team is excited about embarking upon their first greenfield AWS project after months of lift-and-shift migration from your old datacenter into AWS.  This will be your first true infrastructure as code project.  Your team consists of eight people who all will be making changes to infrastructure over time. You would like to use native AWS tooling for writing the infrastructure templates however you are concerned about how team member changes will actually affect the resources you have running already. You don't want to accidentally destroy important AWS resources due to a developer or engineer changing a CloudFormation property whose update property requires replacement. How can you ensure that engineers are aware of the impact of their updates before they implement them, and protect important stateful resources such as EBS volumes and RDS instances against accidental deletion?","explanation":"CloudFormation Change sets will let you submit your modified stack template, it will compare it for you and show you which stack settings and resources will change. You can then execute that change set if you are happy with the changes that will occur.","links":[{"url":"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets.html","title":"Updating Stacks Using Change Sets"}],"answers":[{"id":"08659d45b30150542b63689978cf172d","text":"Get the team to use AWS CloudFormation to build the infrastructure as code.  Mandate that the team include the UpdateReplacePolicy property on important resources such as RDS. Use an UpdateReplacePolicy of Retain in order to retain the old physical resource or snapshot in the AWS account, but remove it from AWS CloudFormation's scope. When your team wants to update the infrastructure templates, advise they first create a CloudFormation Change Set. This will will allow them to preview the effects of their changes to see whether resources will be replaced by the CloudFormation service.","correct":true},{"id":"1f2e9869f312d47386abc4a295c498d1","text":"Get the team to use AWS CloudFormation to build the infrastructure as code.  Mandate that the team include the UpdateReplacePolicy property on important resources such as RDS. Use an UpdateReplacePolicy of Retain in order to retain the old physical resource or snapshot in the AWS account, but remove it from AWS CloudFormation's scope. When your team wants to update the infrastructure templates, advise they use CloudFormation Drift Check to compare their old and new templates. This will will allow them to preview the effects of their changes to see whether resources will be replaced by the CloudFormation service.","correct":false},{"id":"3264bb68f07bc74ca58c6288d8f1074e","text":"Get the team to use AWS CloudFormation to build the infrastructure as code.  Mandate that the team include the UpdateReplacePolicy property on important resources such as RDS. Use an UpdateReplacePolicy of Retain in order to retain the old physical resource or snapshot in the AWS account, but remove it from AWS CloudFormation's scope. When your team wants to update the infrastructure templates, advise they use CloudFormation Modify Set to compare their old and new templates. This will will allow them to preview the effects of their changes to see whether resources will be replaced by the CloudFormation service.","correct":false},{"id":"a0fa6661560c21c0020855fcc08e5013","text":"Get the team to use AWS CloudFormation to build the infrastructure as code.  Mandate that the team include the UpdateReplacePolicy property on important resources such as RDS. Use an UpdateReplacePolicy of Retain in order to retain the old physical resource or snapshot in the AWS account, but remove it from AWS CloudFormation's scope. When your team wants to update the infrastructure templates, advise they use diff in the Linux terminal to compare their old and new templates. This will will allow them to preview the effects of their changes to see whether resources will be replaced by the CloudFormation service.","correct":false}]},{"id":"e98496ed-60b9-4d96-8cbb-3d3e260da18e","domain":"IncidentEventResponse","question":"Your organisation is 75% through moving its core services from a Data centre and into AWS.  The AWS stacks have been working well in their new environment but you have been told that the Data centre contract will expire in 3 months and therefore there is not enough time to re-implement the remaining 25% of services before this date. As they are already managed by Chef, you decide to move them into AWS and manage them using OpsWorks for Chef. However, when configuring OpsWorks you have noticed the following errors have appeared; \"Not Authorized to perform sts:AssumeRole\" and \"FATAL Could not find pivotal in users or clients!\". Choose the correct options to resolve the errors.","explanation":"With the \"Not Authorized to perform sts:AssumeRole\" error, you can assume its policy/role related and therefore creating a role and attaching the AWSOpsWorksCMServiceRole policy should resolve this issue. Finally, any message which states that you 'cannot find a pivotal user', requires you to add one to the default location. All other answers will not resolve the problems listed.","links":[{"url":"https://docs.aws.amazon.com/en_pv/opsworks/latest/userguide/troubleshoot-opscm.html","title":"Troubleshooting AWS OpsWorks for Chef Automate"},{"url":"https://docs.aws.amazon.com/en_pv/opsworks/latest/userguide/welcome_opscm.html","title":"AWS OpsWorks for Chef Automate"}],"answers":[{"id":"0ddbd3212ebd514950bf4aafc59e898c","text":"Install the knife-opc command and then run the command; knife opc org user add default pivotal","correct":true},{"id":"edd55a54eb6c02470c1f52081eed838d","text":"Create a new service role and attach the AWSOpsWorksCMServiceRole policy to the role. Verify that the service role is associated with the Chef server and it has that policy attached.","correct":true},{"id":"c565172b94c322361ca5823ed0126630","text":"Ensure you have at least one existing EIP address free by deleting unused addresses or by asking AWS Support for an increase.","correct":false},{"id":"0b86e189ee6ecc6aefa9be08d750c26f","text":"Ensure that the EC2 instance has the AWS service agent running and has outbound Internet access with DNS resolution enabled.","correct":false}]},{"id":"bea8f262-5e3e-48b1-81f5-51f1f6d4d662","domain":"PoliciesStandards","question":"Your accounting team is a bit concerned about your AWS bill. It has been growing steadily over the past 18 months and they would like to know if there's any way you could look into lowering it, either by optimizing the services you are using or removing things that aren't required anymore. You already have a Business support plan with AWS so you could make use of that to see where you could save some money. What would be the best immediate course of action?","explanation":"AWS accounts with a Business level support plan have full access to all Trusted Advisor recommendations, including Cost Optimization. This would be the best thing to look at first.","links":[{"url":"https://aws.amazon.com/premiumsupport/technology/trusted-advisor/","title":"Trusted Advisor"}],"answers":[{"id":"71733007126cf916f3721c71e396c076","text":"Open your Billing console and look at your past bills and cost explorer to find out which resources cost the most and look at scaling them down","correct":false},{"id":"4e47ecda32f62308a0f47e959c5d6f68","text":"Open your Trusted Advisor dashboard and look at the Cost Optimization suggestions.","correct":true},{"id":"405a81a0638ab334e9f45338e6094730","text":"Submit a business support ticket and ask for recommendations on cost savings from AWS support.","correct":false},{"id":"d8610318f35f225ce40f0ff76a2bd0f7","text":"Delete all of your unused AMI's from S3 and your old logs from CloudWatch Logs","correct":false}]},{"id":"21d1048a-2c33-4d84-af1a-ad6a039e0ddd","domain":"SDLCAutomation","question":"Your organization currently runs a hybrid cloud environment with servers in AWS and in a local data center. You currently use a cronjob and some bash scripts to compile your application and push it out to all of your servers via SSH. It's both difficult to log, maintain and extend to new servers when they are provisioned. You've been considering a move to CodePipeline to manage everything for you. Will it suit your requirements?","explanation":"CodeBuild is able to deploy to any server that can run the CodeDeploy agent, whether in AWS or in your own data centre.","links":[{"url":"https://docs.aws.amazon.com/codedeploy/latest/userguide/instances.html","title":"Working with Instances for CodeDeploy"}],"answers":[{"id":"299b7a966370e0bfb587d4c2d5ff774b","text":"Yes, CodeDeploy can deploy to any servers that can run the CodeDeploy agent","correct":true},{"id":"beba600b1da886e2a2ad8713309745a2","text":"Yes, CodePipeline will be able to interface with any servers that can run the CodePipeline agent","correct":false},{"id":"f81f6e25dfbc48337f9ed9f263923302","text":"No, CodeDeploy wont be able to deploy to the non-AWS managed servers in your data center","correct":false},{"id":"2c74ebd4177ccf3f0749b4ecdcd73e7c","text":"No, CodePipeline wont be able to deploy to the non-AWS managed servers in your data center","correct":false}]},{"id":"6e252f1f-63d8-43b5-8df5-aaa7d83874d1","domain":"HAFTDR","question":"Your application has a multi-region architecture and database reading and writing is becoming an issue. You are currently storing flat file key-pairs on a shared EFS volume across all of your application servers but it is simply too slow to handle the growth your company is experiencing. Additionally, latency of static files delivered to your customers from S3 has been noted as an issue. Which solution will be not only fast but scalable as you move forward?","explanation":"DynamoDB is the only option that supports multi-region replication and multi-master writes, and it does this using Global Tables.","links":[{"url":"https://aws.amazon.com/dynamodb/global-tables/","title":"Global Tables"}],"answers":[{"id":"d6880a6902e45e48a98990a1df3f6a3d","text":"Utilise Amazon CloudFront to optimise delivery of your static S3 content to your users, and use multi-region rw-replica RDS configuration to create a multi-master, cross-region data store for your application's back-end. DynamoDB streams will propagate changes between the replicas so that users will have high-performant and consistent application experience regardless of from where they access your services.","correct":false},{"id":"cdc9c7113a0cd60f29d5d56c49e1819b","text":"Utilise Amazon CloudFront to optimise delivery of your static S3 content to your users, and use Amazon DynamoDB Global Tables to create a multi-master, multi-region data store for your application's back-end. DynamoDB streams will propagate changes between the replicas so that users will have high-performant and consistent application experience regardless of from where they access your services.","correct":true},{"id":"cdfa2716b07fec163b72bf966bede22e","text":"Utilise Amazon CloudFront to optimise delivery of your static S3 content to your users, and use a multi-region write replica database for your application's back-end. DynamoDB streams will propagate changes between the replicas so that users will have high-performant and consistent application experience regardless of from where they access your services.","correct":false},{"id":"e1f2bdaf532480be3c4d53afd2d88645","text":"Utilise Amazon CloudFront to optimise delivery of your static S3 content to your users, and use a multi-region read-replica RDS configuration to create a multi-master, cross-region data store for your application's back-end. DynamoDB streams will propagate changes between the replicas so that users will have high-performant and consistent application experience regardless of from where they access your services.","correct":false}]},{"id":"d1e18980-dcfc-4893-afce-cb19efacb6a9","domain":"IncidentEventResponse","question":"Your CEO has heard how an ELK stack would improve your monitoring, troubleshooting and ability to secure your AWS environment. Before letting you explain anything about it, he demands you get one up and running as soon as possible using whatever AWS services you need to use. How do you go about it?","explanation":"The Amazon Elasticsearch service will give you managed Elasticsearch, Logstash and Kibana without the requirement of installing, maintaining or scaling any of them and their associated infrastructure.","links":[{"url":"https://aws.amazon.com/elasticsearch-service/resources/articles/the-benefits-of-the-elk-stack/","title":"The benefits of the ELK stack without the operational overhead"}],"answers":[{"id":"c18a97d462ec5c25526d8376971d37b2","text":"Install CloudSearch, Logstash and Kibana on an EC2 instance.","correct":false},{"id":"2c6e86f82d079bd47ee2f084bbe0fa2d","text":"Install Elasticsearch, Logstash and Kibana on an EC2 instance.","correct":false},{"id":"de19d8eddb68265815d3495f5ee053dd","text":"Use CloudSearch, CloudWatch Logs and CloudKibana managed services to create your ELK stack.","correct":false},{"id":"04de12d4521b9dc826f59dc0d42f97f5","text":"Use the Amazon Elasticsearch Service.","correct":true}]},{"id":"f6f2e5d0-a72e-4d44-aaea-2e2e8fa264c3","domain":"HAFTDR","question":"Your company utilizes EC2 and various other AWS services for its workloads. As the DevOps engineer it is your responsibility to ensure all company policies are implemented. You have noticed that while you are using S3 for data archival and backups, your company policy is that your backups need to reside on company owned servers, such as those you run in your local Equinix data center. You also have another company policy that backup and archival cannot traverse the internet. What do you do?","explanation":"AWS Direct Connect is the only way to access your AWS resources from a Data Center without traversing the internet, despite the encryption offered by the other solutions.","links":[{"url":"https://aws.amazon.com/directconnect/","title":"AWS Direct Connect"}],"answers":[{"id":"008894eae706c0e60a40a59c79342658","text":"Implement an AWS Client VPN with a company owned server in your data center. Push backups to your data center backup NAS through SSH via vpn.","correct":false},{"id":"32f6b2f1cc26546abf7ce835ae778156","text":"Install the EFS agent on your data center backup NAS, mount the volume on an EC2 server and copy the backups to the volume.","correct":false},{"id":"b51577fa11c831eba7efec0c73952602","text":"Implement a Site to site VPN with a company owned server in your data center. Push backups to your data center backup NAS through SSH via vpn.","correct":false},{"id":"f42f4a5866921fe7f0288f667c043aac","text":"Provision an AWS Direct Connect connection to your local router in your data center and your local VPC. Push backups via the Direct Connect connection.","correct":true}]},{"id":"3ab068b8-2849-4c61-8ffd-d4048963f8db","domain":"HAFTDR","question":"Due to the design of your application, your EC2 servers aren't treated as cattle as advised in the cloud world, but as pets. As such, you need DNS entries for each of them. Managing each DNS entry is taking a long time, especially when you have lots of servers, some of which may last a day, a week or a month. You don't want your Route53 records to be messy, and you would prefer some kind of automation to add and remove them. Which method would you choose to solve this in the best way?","explanation":"Tagging your instance with the required DNS record is a great way to help you automate the creation of Route53 records. A Lambda function can be triggered from a CloudWatch Events EC2 start/stop event and can add and remove the Route53 records on your behalf. This will meet your requirements and automate the creation and cleanup of DNS records.","links":[{"url":"https://aws.amazon.com/blogs/compute/building-a-dynamic-dns-for-route-53-using-cloudwatch-events-and-lambda/","title":"Building a Dynamic DNS for Route 53 using CloudWatch Events and Lambda"}],"answers":[{"id":"338d60d516c4c48ee9e575f75fe01c98","text":"Tag your instance with the DNS record required. Deploy a Lambda function which can add or remove DNS records in Route53 based on the DNS tag. Use a CloudWatch Events rule to monitor when an instance is started or stopped and trigger the Lambda function.","correct":true},{"id":"29aa731344e5dd9aad6885f0b8c7274c","text":"Make your instance ID the DNS record required. Deploy a Lambda function which can add or remove DNS records in Route53 based on the DNS tag. Use a CloudWatch Events rule to detect when an instance is started or stopped and trigger the Lambda function.","correct":false},{"id":"b1f933ed5c535439e1e097db065978eb","text":"Tag your instance with the DNS record required. Deploy a Lambda function which can add or remove DNS records in Route53 based on the DNS tag. Use CloudTrail API call logs to monitor when an instance is started or stopped and trigger the Lambda function.","correct":false},{"id":"d6e2786b315c66a437523d7a8fb675c1","text":"Make your instance ID the DNS record required. Deploy a Lambda function which can add or remove DNS records in Route53 based on the DNS tag. Use CloudTrail API call logs to detect when an instance is started or stopped and trigger the Lambda function.","correct":false}]},{"id":"977b9167-9509-4260-91b8-745ff4a10c16","domain":"ConfigMgmtandInfraCode","question":"You need to quickly test a proof of concept that your boss has given you. He's given you a zip file containing a php web application. You want to get it running in an AWS environment as fast a possible, however there's also a dependency on a library that must be installed as well. The library is available from a yum/apt repository.  Which service do you choose and how do you ensure dependencies are installed?","explanation":"AWS Elastic Beanstalk is a quick way to test the proof of concept, as webserver configuration is not required. Required Libraries can be installed quickly and automatically using ebextensions.","links":[{"url":"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/customize-containers-ec2.html","title":"Customizing Software on Linux Servers - AWS Elastic Beanstalk"}],"answers":[{"id":"4cc5c190534c4e744d352d96c3ebe2bc","text":"AWS CloudFormation, install dependency with custom resources.","correct":false},{"id":"4f921aa28b46ed7642eb7a3dc8583844","text":"AWS OpsWorks for deployment, install dependency with chef.","correct":false},{"id":"c2f64a6cd63768d866b164a5c278f252","text":"AWS EC2 and apache2, install dependency with apt-get or yum.","correct":false},{"id":"adde411da8e54597432c35347938b2ec","text":"AWS Elastic Beanstalk for deployment, install dependency with ebextensions.","correct":true}]},{"id":"b842350d-b112-40a7-999f-1d6e4259e260","domain":"IncidentEventResponse","question":"Your company sells and supports a number of Internet-enabled printers and scanners. Every time these devices have an issue, the data is sent back to a global endpoint which ingests it and places it into a Kinesis stream for processing.  Your sales team have have been meeting all of their targets and devices are sending more and more data back into your infrastructure.  You have therefore made the decision to scale out the Kinesis stream. Recently a new Cloud Engineer has joined the Operations Team and he has been given the task of re-sharding.  The task was completed successfully, but soon after he notices the following error in the logs; \"Cannot get the shard for this ProcessTask, so duplicate KPL user records in the event of re-sharding will not be dropped during de-aggregation of Amazon Kinesis records\".  The Engineer has asked you what the error is and what they should do to resolve it.  Chose your response from the following options.","explanation":"These errors are generated from code that handles KPL messages. When the KCL consumers are restarted or the lease entries are cleared, the ListShards operation will be run which will resolve the KPL messages. None of the other resolutions listed above will resolve these messages.","links":[{"url":"https://docs.aws.amazon.com/streams/latest/dev/introduction.html","title":"What Is Amazon Kinesis Data Streams?"}],"answers":[{"id":"8401e9c6e54a8974f4e537555ccf7a94","text":"To resolve these errors, ensure that records use the the multi-record operation PutRecords, or are aggregated into a larger file before using the single-record operation PutRecord.","correct":false},{"id":"0068cac99ac759e7c30c9361ca3e3fa7","text":"To resolve these errors, re-shard the Kinesis stream to the the number of shards that were originally set before the errors occurred.","correct":false},{"id":"ccbe7f04475bbc92d4b729572830b9b7","text":"To resolve these errors, ensure the producers use multiple threads to write to the Kinesis Data Streams service at the same time.","correct":false},{"id":"6bdec47e015462087aa8015af4c475c4","text":"To resolve these errors, either stop and start the KCL application or clear the lease entries from the DynamoDB lease table.","correct":true}]},{"id":"4c02fcad-e6c2-438b-927c-a343af2e4e89","domain":"SDLCAutomation","question":"About a dozen people collaborate on a company-internal side project using CodeCommit. The developer community is spread across multiple timezones and relies on repository notifications via email. Initially, it was configured for all event types but this resulted in a lot of emails and team members complained about too much 'noise'. Since then, commit comment notifications have been turned off. How can you improve this situation?","explanation":"You can create up to 10 triggers for each CodeCommit repository. The customData field is of type string and is used for information that you want included in the Lambda function such as the IRC channel used by developers to discuss development in the repository. It cannot be used to pass any dynamic parameters. This string is appended as an attribute to the CodeCommit JSON returned in response to the trigger. You can comment on an overall commit, a file in a commit, or a specific line or change in a file. For best results, use commenting when you are signed in as an IAM user. The commenting functionality is not optimized for users who sign in with root account credentials, federated access, or temporary credentials. By default, an Amazon SNS topic subscriber receives every message published to the topic. To receive a subset of the messages, a subscriber must assign a filter policy to the topic subscription","links":[{"url":"https://docs.aws.amazon.com/codecommit/latest/userguide/how-to-notify.html","title":"Manage Triggers for an AWS CodeCommit Repository"},{"url":"https://docs.aws.amazon.com/codecommit/latest/userguide/how-to-notify-lambda-cc.html","title":"Example: Create a Trigger in AWS CodeCommit for an Existing AWS Lambda Function"},{"url":"https://docs.aws.amazon.com/codecommit/latest/userguide/how-to-commit-comment.html","title":"Comment on a Commit in AWS CodeCommit"},{"url":"https://docs.aws.amazon.com/sns/latest/dg/sns-message-filtering.html","title":"Amazon SNS Message Filtering"},{"url":"https://docs.aws.amazon.com/codecommit/latest/userguide/how-to-repository-email.html","title":"Configuring Notifications for Events in an AWS CodeCommit Repository"}],"answers":[{"id":"a74a895989f0aff5ae55553849a46032","text":"For each team member, create an individual SNS topic and a CodeCommit trigger that uses a Lambda function to filter out notifications not authored by that developer. The remaining ones are send to that SNS topic. This allows users to selectivly subscribe to specific persons to follow their activities.","correct":false},{"id":"bb2ee7c9a6b15ed2c648ce414e7f5501","text":"Ask all team members to sign in to CodeCommit as IAM users.","correct":true},{"id":"a00a4fd86554d04bbf089d9b1f302ca3","text":"Assign Amazon SNS subscription filter policies to the 'commit comment' topic subscriptions so that team members receive only a subset of the messages.","correct":true},{"id":"421e56d9693bf5c7a95f304f8be452c8","text":"Create a CodeCommit trigger that invokes a Lambda function when a new comment is added to a commit. Configure it so that its 'Custom data' field is populated with the email address of the user who authored the original commit, i.e. ${commit.author.email}. In the function, use SNS to send the notification to that address.","correct":false}]},{"id":"429835e9-1d99-4916-8888-4121a456edcb","domain":"PoliciesStandards","question":"You have been asked to configure Amazon Workspaces so that users can logon using the same set of credentials as they use when on the corporate Active Directory network.  Choose the easiest and most effective solution to implement this.","explanation":"There are many different ways of connecting and authenticating against an on-premise AD domain from within AWS, however in this question the easiest and most cost effective solution is to use the AD Connector to connect back to the on-premise Domain Controllers.  Using AWS Managed Microsoft AD with a Trust Relationship or creating Domain Controllers on EC2 instances are less cost effective and more complicated, whilst Simple AD does not support Trust Relationships and is therefore incorrect.","links":[{"url":"https://docs.aws.amazon.com/directoryservice/latest/admin-guide/directory_ad_connector.html","title":"Active Directory Connector"},{"url":"https://aws.amazon.com/directoryservice/faqs/","title":"Amazon AWS Directory Service FAQs"}],"answers":[{"id":"4f1c410737796b258b658cb1dcc907bd","text":"Create an Active Directory server on EC2, join it to the on-premise domain and then point the Amazon Workspaces Directory setting to the local Domain Controller","correct":false},{"id":"9db640d1819586ed5c3cea31fd6712e8","text":"Create an AWS Managed Microsoft AD domain and then create a Trust Relationship between the AWS and on-premise domain.  Configure Amazon Workspaces to point to the domain created in AWS","correct":false},{"id":"dd58cc51f6b803b211b9e317432a2e01","text":"Create an AD Connector to act as an Active Directory proxy to your on-premise AD infrastructure and configure Amazon Workspaces to connect to the specified Directory","correct":true},{"id":"5a3773f21f2cfd3f80207d651ed13619","text":"Create a Simple AD domain and then create a Trust Relationship between the AWS and on-premise domain.  Configure Amazon Workspaces to point to the domain created in AWS","correct":false}]},{"id":"b8ae52d2-9638-47a9-b2b0-69c471a35eab","domain":"MonitoringLogging","question":"Your organization runs a large amount of workloads in AWS and has automated many aspects of its operation, including logging. As the in-house devops engineer, you've received a ticket asking you to log every time an EC2 instance state changes. Normally you would use CloudWatch events for something like this, but CloudWatch logs aren't a valid target in CloudWatch Events. How will you solve this?","explanation":"CloudWatch Events can use a Lambda function as a target, which will solve this issue.","links":[{"url":"https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/LogEC2InstanceState.html","title":"Tutorial: Log the State of an Amazon EC2 Instance Using CloudWatch Events"}],"answers":[{"id":"1fc1f373fd2b33a9a55daeb93aa03e7b","text":"Parse the EC2 CloudWatch changelog with a Lambda function each minute, and log the results to a separate log for instance state changes","correct":false},{"id":"b482ab43e71b8137c1bb08d0904d0576","text":"Use a CloudWatch dashboard, which will log EC2 state changes to CloudWatch logs if you create a text widget.","correct":false},{"id":"a68e57ea4a6bd4cfa8f565ef7cbc637e","text":"Create a Lambda function and run it on a schedule with CloudWatch Events. Make the Lambda function parse your CloudTrail logs for EC2 instance state changes and log them to another CloudWatch Logs log.","correct":false},{"id":"a4e104c9dd0f3e6a03765a0680648eed","text":"Use CloudWatch Events, but use a Lambda function target. Write a Lambda function which will perform the logging for you.","correct":true}]},{"id":"1c7dd43f-b2c7-49aa-b897-bd62f97ee183","domain":"ConfigMgmtandInfraCode","question":"A company has successfully deployed a two EC2 node Redis cluster, using CloudFormation.  In order for the cluster to work, Node one is started and populated with data before Node two is started. Some weeks later, a new Redis stack is created using the same template, but is populated by a different set of data.  In this case the stack consistantly fails to be created eventhough the template and parameters are identical to the original stack.  Which actions should be taken to ensure that the new cluster can successfully be created?","explanation":"If, as in this case, the order of resources is important, it should never be assumed that they will always stand up in the same order each time, the first stack may have deployed in the correct order by luck.  A 'DependsOn' resource should always be used to maintain order consistancy.  Also, the data that is populating Redis may be much larger and take more time in the second Stack.  Adding a Creation Policy with a large Timeout will ensure that data successfully completes the import and the EC2 instance is successfully created.","links":[{"url":"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-anatomy.html","title":"Template Anatomy"},{"url":"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-creationpolicy.html","title":"CreationPolicy Attribute"},{"url":"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html","title":"DependsOn Attribute"},{"url":"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-nested-stacks.html","title":"Working with Nested Stacks"}],"answers":[{"id":"a7e04cbb4e145efffd811f7596f2fbdf","text":"Use two CloudFormation templates, one for each EC2 Redis node and manually run one at at time.","correct":false},{"id":"9a01df5c5a78cacac35b87d8678c7d74","text":"Use a single CloudFormation template and add a Creation Policy and Deletion Policy with a Retain option to maintain both EC2 Redis nodes.","correct":false},{"id":"d1b2270b9abfe6f978128e05ec79268d","text":"Use a single CloudFormation template and add a Creation Policy with a large Timeout, to the first EC2 node.","correct":true},{"id":"002f82cd165be0c2dd0d4bfba60bde24","text":"Use a single CloudFormation template and add a 'DependsOn' resource for the second EC2 node which points to the first EC2 node.","correct":true},{"id":"af31ddbdf176fd17fce491dc05ba1388","text":"Use a CloudFormation root template which uses nested stacks.  Define each Redis node in a separate template which are linked to by the root template.","correct":false}]},{"id":"5e50532a-5d17-4a6f-a367-db3eb2c87698","domain":"SDLCAutomation","question":"Your organization has been using CodePipeline to deploy software for a few months now and it has been smoothly for the majority of releases, but when something breaks during the build process it requires lots of man hours to determine what the problem is, roll back the deployment and fix it. This is frustrating both management and your customers. Your supervisor would like to assign one developer to test the build works successfully before your CodePipeline proceeds to the deploy stage so you don't encounter this issue again. How would you implement this?","explanation":"CodePipeline allows for manual approval steps to be implemented for exactly this reason","links":[{"url":"https://docs.aws.amazon.com/codepipeline/latest/userguide/approvals-action-add.html","title":"Add a Manual Approval Action to a Pipeline in CodePipeline"}],"answers":[{"id":"ca05b5864508a85819911de3b31a9c02","text":"Ask the assigned developer to run a local build first to test all changes, and then commit it to the repository which is then deployed to production only when they know there are no errors.","correct":false},{"id":"adac0bfeeb378f849ee1f8575b660f83","text":"Create a test deploy stage as well as a manual approval stage in CodePipeline. Once the assigned developer checks the testing deploy worked, they can authorize the pipeline to continue and deploy to production.","correct":true},{"id":"61692576c930a7b4f4bb412881fa1829","text":"Configure SQS to email the assigned developer when CodePipeline has deployed to production. This will provide an immediate notification so they can check if there are any errors in testing. Then they can push the changes to the production git branch.","correct":false},{"id":"fb383cd098c54e0f94598a5029e3c99e","text":"Configure SES to email the assigned developer when CodePipeline has deployed to production. This will provide an immediate notification so they can check if there are any errors in testing. Then they can push the changes to the production git branch.","correct":false}]},{"id":"97a8a78b-a6d1-4bf7-aaff-a59191881a65","domain":"IncidentEventResponse","question":"Your company runs a popular website for selling cars and its userbase is growing quickly. It's currently sitting on on-premises hardware (IIS web servers and SQL Server backend.)  Your managers would like to make the final push into the cloud. AWS has been chosen, and you need to make use of services that will scale well into the future. Your site is tracking all ad clicks that your customers purchase to sell their cars. The ad impressions must be then consumed by the internal billing system and then be pushed to an Amazon Redshift data warehouse for analysis. Which AWS services will help you get your website up and running in the cloud, and will assist with the consumption and aggregation of data once you go live?","explanation":"Amazon Kinesis Data Firehose is used to reliably load streaming data into data lakes, data stores and analytics tools like Amazon Redshift. Process the incoming data from Firehose with Kinesis Data Analytics in order to provide real-time dashboarding of website activity.","links":[{"url":"https://aws.amazon.com/kinesis/data-firehose/","title":"Streaming Data Firehose - Amazon Kinesis - AWS"},{"url":"https://aws.amazon.com/solutions/real-time-web-analytics-with-kinesis/","title":"Real-Time Web Analytics with Kinesis | AWS Solutions"}],"answers":[{"id":"ed27547c1d649b6ee7f4c6106499701b","text":"Build the website to run in stateless EC2 instances which autoscale with traffic, and migrate your databases into Amazon RDS.  Push ad/referrer data using Amazon Athena Data Stream to S3 where it can be consumed by the internal billing system to determine referral fees. Additionally create another Kinesis delivery stream to push the data to Amazon Redshift warehouse for analysis.","correct":false},{"id":"5a744ec834a3bed2345133430519b13d","text":"Build the website to run in stateless EC2 instances which autoscale with traffic, and migrate your databases into Amazon RDS.  Push ad/referrer data using Amazon Kinesis Data Streamer to S3 where it can be consumed by the internal billing system to determine referral fees. Additionally create another Kinesis delivery stream to push the data to Amazon Redshift warehouse for analysis.","correct":false},{"id":"ee0e1b18c96ba916c7d61c5f11a173b3","text":"Build the website to run in stateless EC2 instances which autoscale with traffic, and migrate your databases into Amazon RDS.  Push ad/referrer data using Amazon Kinesis Data Firehose to S3 where it can be consumed by the internal billing system to determine referral fees. Additionally create another Kinesis delivery stream to push the data to Amazon Redshift warehouse for analysis.","correct":true},{"id":"3e05395168d2e92f31097dc8eaadfb28","text":"Build the website to run in stateless EC2 instances which autoscale with traffic, and migrate your databases into Amazon RDS.  Push ad/referrer data using Amazon Kinesis Data Firehose to S3 where it can be consumed by the internal billing system to determine referral fees. Additionally create a CloudTrail stream to push the data to Amazon Redshift warehouse for analysis.","correct":false},{"id":"029dca01b35ce55b6a3218b46cb66d8f","text":"Build the website to run in stateless EC2 instances which autoscale with traffic, and migrate your databases into Amazon RDS.  Push ad/referrer data using Amazon Kinesis Data Aggregator to S3 where it can be consumed by the internal billing system to determine referral fees. Additionally create another Kinesis delivery stream to push the data to Amazon Redshift warehouse for analysis.","correct":false}]},{"id":"57aa5551-ba69-43ce-acd0-daca2c3b1573","domain":"MonitoringLogging","question":"Your CFO wants to know when your estimated AWS charges go over $10,000. Immediately. Without delay. How do you configure this?","explanation":"After enabling billing alerts, you will be able to use the CloudWatch EstimatedCharges metric to track your estimated AWS charges. Creating an alarm to notify your CFO via SNS is also a good idea.","links":[{"url":"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/monitor_estimated_charges_with_cloudwatch.html","title":"Create a Billing Alarm to Monitor Your Estimated AWS Charges"}],"answers":[{"id":"3be9600096bae9c4f9c03bf973014324","text":"Set your Detailed Billing Threshold to $10,000 in the Billing console. Configure the CFO to be the Usage Alert email address.","correct":false},{"id":"544a9a7a06a5adfc0b19d06b964c90d6","text":"Use the default CloudWatch EstimatedCharges metric and create an alarm when it exceeds $10,000. Set the alarm to notify an SNS queue your CFO is subscribed to.","correct":false},{"id":"fdc8f5cad0921b3ad23acefc21d3875f","text":"Enable billing alerts. Use the default CloudWatch EstimatedCharges metric and create an alarm when it exceeds $10,000. Set the alarm to notify an SNS queue your CFO is subscribed to.","correct":true},{"id":"311b1ef14cf67f369bb179ff7248b867","text":"Use a Lambda function to poll the CloudWatch API for the EstimatedCharges metric. If it exceeds $10,000 notify an SNS queue your CFO is subscribed to.","correct":false}]},{"id":"ac6646a9-8e77-48b4-99fd-a477f558c477","domain":"SDLCAutomation","question":"Your CEO has come up with a brilliant idea for when your company migrates its first application to the Cloud. He is a big fan of infrastructure as code and automation, and thinks your deployments will never fail again if you spin up completely new servers, deploy your software to them, redirect your DNS to the new servers and then shut down the old servers. Unfortunately for him, you know this has existed for a long time and had already planned to implement this in the coming weeks. Which build and deployment strategy report do you grab from your desk to show him?","explanation":"Blue/Green deployments are certainly what your CEO thinks he has invented. Updating your Route53 alias record to a new load balancer","links":[{"url":"https://d1.awsstatic.com/whitepapers/AWS_Blue_Green_Deployments.pdf","title":"AWS Blue Green Deployments"}],"answers":[{"id":"6ccc35631fac4729d9b44594506d7a15","text":"Build the data tier using Amazon RDS via CloudFormation. Deploy your web tier behind a load balancer, hosted on EC2 instances.  During deployments, utilise a blue/green deployment strategy by deploying an entirely new load balancer and group of EC2 instances which run your new code base.  Once the build and deployment of the fresh environment is complete, testing can be performed by accessing the site from the new load balancer URL. You can update your Route 53 simple routing policy to direct people from the old load balancer to another once your testing team completes their checks.","correct":true},{"id":"648583c850bab8423500a7340e307a54","text":"Build the data tier using Amazon RDS via CloudFormation. Deploy your web tier behind a load balancer, hosted on EC2 instances.  During deployments, utilise a Mirrored deployment strategy by deploying an entirely new load balancer and group of EC2 instances which run your new code base.  Once the build and deployment of the fresh environment is complete, testing can be performed by accessing the site from the new load balancer URL. You can use a Route 53 alias to direct people from one load balancer to another once your testing team completes their checks.","correct":false},{"id":"0b5318c4c58764e77d91057e51dcc6ba","text":"Build the data tier using Amazon RDS via CloudFormation. Deploy your web tier behind a load balancer, hosted on EC2 instances.  During deployments, utilise a blue/green deployment strategy by deploying an entirely new load balancer and group of EC2 instances which run your new code base.  Once the build and deployment of the fresh environment is complete, testing can be performed by accessing the site from the new load balancer URL. You can use a Route 53 failover routing policy to redirect people from your old load balancer to another once your testing team completes their checks.","correct":false},{"id":"6b741114a9154860a54dfc92186ad064","text":"Build the data tier using Amazon RDS via CloudFormation. Deploy your web tier behind a load balancer, hosted on EC2 instances.  During deployments, utilise a rolling deployment strategy by deploying an entirely new load balancer and group of EC2 instances which run your new code base.  Once the build and deployment of the fresh environment is complete, testing can be performed by accessing the site from the new load balancer URL. You can use a Route 53 alias to direct people from the old load balancer to another once your testing team completes their checks.","correct":false}]},{"id":"ec0b5238-f2d5-437c-9d06-6d0011f2ae8c","domain":"IncidentEventResponse","question":"Your organisation has dozens of AWS accounts owned and run by different teams and paying for their own usage directly in their account.  In a recent cost review it was noticed that your teams are all using on-demand instances. Your CTO wants to take advantage of any pricing benefits available to the business from AWS. Another issue that keeps arising involves authentication. It's difficult for your developers to use and maintain their logins all of their accounts, and it's also difficult for you to control what they have access to. What's the simplest solution which will solve both issues?","explanation":"AWS Single Sign-On allows you to centrally manage all of your AWS accounts managed through AWS Organizations, and it will also allow you to control access permissions based on common job functions and security requirements.","links":[{"url":"https://aws.amazon.com/single-sign-on/","title":"AWS Single Sign-On."}],"answers":[{"id":"87c78562df56f4879a6773d20c92b308","text":"Use AWS Organizations to keep your accounts linked and billing consolidated. Create a Billing account for the Organization and invite all other team accounts into the Organization in order to use Consolidated Billing.  You can then obtain volume discounts for your aggregated EC2 and RDS usage.  Use AWS Single Sign-On to allow developers to sign in to AWS accounts with their existing corporate credentials and access all of their assigned AWS accounts and applications from one place.","correct":true},{"id":"398b5351a11512e388505258eb119be1","text":"Use AWS Organizations to keep your accounts linked and billing consolidated. Create a Billing account for the Organization and invite all other team accounts into the Organization in order to use Consolidated Billing.  You can then obtain volume discounts for your aggregated EC2 and RDS usage.  Switch to role-based authentication policies in IAM to allow developers to sign in to AWS accounts with their existing corporate credentials and access all of their assigned AWS accounts and applications from one place.","correct":false},{"id":"e31c64ffefb763cb85b2e44f4a6f7bb6","text":"Use AWS Organizations to keep your accounts linked and billing consolidated. Raise a Support request with Amazon in order to link the accounts for the Organization and invite all other team accounts into the Organization in order to use Consolidated Billing.  You can then obtain volume discounts for your aggregated EC2 and RDS usage.  Use LDAP to allow developers to sign in to AWS accounts with their existing corporate credentials and access all of their assigned AWS accounts and applications from one place.","correct":false},{"id":"76f5be58299aec4cdb3dc958b35a5f6a","text":"Use AWS Organizations to keep your accounts linked and billing consolidated. Create a Billing account for the Organization and invite all other team accounts into the Organization in order to use Consolidated Billing.  You can then obtain volume discounts for your aggregated EC2 and RDS usage.  Use group-based authentication policies in IAM to allow developers to sign in to AWS accounts with their existing corporate credentials and access all of their assigned AWS accounts and applications from one place.","correct":false}]},{"id":"dd926464-3558-4d65-8dff-ab54005ac1a3","domain":"ConfigMgmtandInfraCode","question":"ADogGuru is developing a new Node.js application which will require some servers, a mySQL database and a load balancer. You would like to deploy and maintain this in the easiest way possible, have the ability to configure it with basic configuration management code, which is a new concept for ADogGuru. You also need to allow non-technical people to deploy software to servers and for managers to administer access. A key component of this setup will also be the ability to rollback deploys should you need to. Which service(s) and configuration management system will you choose to achieve this with  the LEAST operational overhead?","explanation":"OpsWorks can achieve all of stated requirements, deployments are possible with a few clicks in the UI, and can be rolled back. It also supports Chef solo as a built-in configuration management system, which is the recommended solution for those not already using Puppet or Chef. Running a separate Chef Automate instance is unnecessary overhead and cost when Chef Solo will suffice.","links":[{"url":"https://docs.aws.amazon.com/opsworks/latest/userguide/welcome.html","title":"What Is AWS OpsWorks? - AWS OpsWorks"}],"answers":[{"id":"b2721cac2e6b9e28bd6af5140227bde4","text":"Use AWS Elastic Beanstalk to create an application using pre-built layer templates to create your servers, mySQL RDS instances and load balancer. Use the OpsWorks Puppet Enterprise server for configuration management. Grant your non-technical staff the 'deploy' permission level, and the administrator the 'Manage' permission level.","correct":false},{"id":"e570ae2d7902cce0694b0d33367b527d","text":"Use AWS OpsWorks to create an application using pre-built layer templates to create your servers, mySQL RDS instances and load balancer. Use recipes running in Chef solo for configuration management. Grant your non-technical staff the 'deploy' permission level, and the administrator the 'Manage' permission level.","correct":true},{"id":"4b57fb90ae5763059a11fa1dd441ad86","text":"Use AWS OpsWorks to create an application using pre-built layer templates to create your servers, mySQL RDS instances and load balancer. Also deploy OpsWorks for Chef Automate and run recipes for configuration management. Grant your non-technical staff the 'deploy' permission level, and the administrator the 'Manage' permission level.","correct":false},{"id":"0df4ca579bacd9555bc9b14d5e3c3441","text":"Use AWS OpsWorks to create an application using pre-built layer templates to create your servers, mySQL RDS instances and load balancer. Use OpsWorks for Puppet Enterprise for configuration management. Grant your non-technical staff the 'deploy' permission level, and the administrator the 'Manage' permission level.","correct":false}]},{"id":"25964f23-34d0-4ed9-9f24-4cee82e76511","domain":"ConfigMgmtandInfraCode","question":"You are building acatguru, which your organization describes as facebook for cats. As part of the sign-up process your users need to upload a full size profile image. You already have these photos being stored in S3, however you would like to also create thumbnails of the same image, which will be used throughout the site. How will you automate this process using AWS resources?","explanation":"S3 triggering Lambda to create thumbnails is a perfect example of how to automate this process","links":[{"url":"https://docs.aws.amazon.com/lambda/latest/dg/with-s3-example.html","title":"Using AWS Lambda with Amazon S3"}],"answers":[{"id":"a24cc963be9859fff809b1da36be8137","text":"Configure S3 to publish its event stream to an SNS topic. Subscribe a Lambda function to the SNS topic which will trigger when a file is uploaded. The function will create the thumbnail from the source image and store it in a different S3 bucket.","correct":false},{"id":"62751bd29f8b4728e9393f35cf7bf035","text":"Use CloudTrail to monitor PUT and POST calls sent to S3 and trigger a Lambda function when you identify an upload. The function will create the thumbnail from the source image and store it in a different S3 bucket.","correct":false},{"id":"30a4f470d1bf4e4d01dab0088e331a6d","text":"Create an S3 bucket notification trigger to execute a Lambda function when an object is created. The function will create the thumbnail from the source image and store it in a different S3 bucket.","correct":false},{"id":"9d2bb40a4f2a61f4e70855a070faa693","text":"Create an S3 event trigger to execute a Lambda function when an object is created. The function will create the thumbnail from the source image and store it in a different S3 bucket.","correct":true}]},{"id":"836be367-5c22-4432-bde3-9be7e7c18889","domain":"SDLCAutomation","question":"Your application is being built with CodeBuild. You would like your artifacts to be stored with the region they were built in added to the filename so you can easily locate them later on. The CodeBuild documentation refers to an environment variable called $(AWS_REGION) that you could use. How and where will you implement this?","explanation":"You can specify the artifact name in the artifacts section of the buildspec.yaml file.","links":[{"url":"https://docs.aws.amazon.com/codebuild/latest/userguide/build-spec-ref.html","title":"Build Specification Reference for CodeBuild"}],"answers":[{"id":"0cd9fb161ae6c87e00e659ccb22d878e","text":"In the post_build phase in the phases section of the buildspec.yaml file. Specify 'name: build-$(AWS_REGION)'","correct":false},{"id":"45f22a55f14531223e9a323369b431d3","text":"In the artifacts section of the buildspec.yaml file. Specify 'name: build-$(AWS_REGION)'","correct":true},{"id":"56b7a49bf330e1e6de9009853f296dcb","text":"In the artifacts section of the post_build phase of the buildspec.yaml file. Specify 'name: build-$(AWS_REGION)'","correct":false},{"id":"63a8a2011e441323f7461896a7d71e16","text":"In the artifacts phase of the buildspec.yaml file. Specify 'name: build-$(AWS_REGION)'","correct":false}]},{"id":"9e3970ae-d3c6-4365-bd1d-ece6971ce4a0","domain":"ConfigMgmtandInfraCode","question":"Which of the following AWS services allow native encryption of data, while at rest?","explanation":"EBS, S3 and EFS all allow the user to configure encryption at rest using either the AWS Key Management Service (KMS) or, in some cases, using customer provided keys.  The exception on the list is ElastiCache for Memcached which does not offer a native encryption service, although ElastiCache for Redis does.","links":[{"url":"https://aws.amazon.com/ebs/faqs/","title":"Amazon EBS FAQs"},{"url":"https://docs.aws.amazon.com/AmazonElastiCache/latest/mem-ug/SelectEngine.html","title":"Comparing Memcached and Redis"},{"url":"https://docs.aws.amazon.com/AmazonS3/latest/dev/serv-side-encryption.html","title":"Protecting Data Using Server-Side Encryption"},{"url":"https://aws.amazon.com/efs/faq/","title":"Amazon EFS FAQs"}],"answers":[{"id":"4b222d59a012c5cc128037a5a473cde7","text":"Elastic Block Store (EBS)","correct":true},{"id":"1e26da0c1f6b77f6ef2ad9a3b8cf5a98","text":"ElastiCache for Memcached","correct":false},{"id":"e9880f1e01aac341f6553ec8a6a7e622","text":"Elastic File System (EFS)","correct":true},{"id":"e2ab7c65b21ed8cc1c3b642b5e36429e","text":"S3","correct":true}]},{"id":"47fefdcc-2b9b-40bc-ab6d-9c70bad210a3","domain":"SDLCAutomation","question":"CodeBuild is used to manage your project builds. In the past, quite a few builds completed successfully but you are currently dealing with a failed one after a source code change. Which of the below are INVALID statements about AWS CodeBuild build phase transitions?","explanation":"PROVISIONING comes before DOWNLOAD_SOURCE and a failed PRE-BUILD phase transitions to the FINALIZING phase.","links":[{"url":"https://docs.aws.amazon.com/codebuild/latest/userguide/view-build-details.html#view-build-details-phases","title":"View Build Details in CodeBuild: Build Phase Transitions"}],"answers":[{"id":"8e289066c9ed3349987194d5056b8fe5","text":"This failed build could be a result of a failed PROVISIONING phase which comes after the DOWNLOAD_SOURCE phase.","correct":true},{"id":"5e1175d25bc1d48d660e2eebac6142eb","text":"If a command fails during the INSTALL phase, CodeBuild transitions to the FINALIZING phase and none of the commands in the pre_build, build, and post_build phases are run for that build's lifecycle.","correct":false},{"id":"346f35bdae6107a46bb68a12559c154d","text":"CodeBuild transitions from a failed PRE-BUILD phase to the POST_BUILD phase.","correct":true},{"id":"38d29cdacb55007ab2949624e436d1c0","text":"The UPLOAD_ARTIFACTS phase is always attempted, even if the BUILD phase fails.","correct":false}]},{"id":"430df32b-2784-4be3-83cc-ce359d07d95a","domain":"PoliciesStandards","question":"You work for a medical imaging company, dealing with X-rays, MRI's, CT scans and so on. The images and other related patient reports and documents are stored in various S3 buckets in the US West region. Your organization is very security conscious and wants to ensure that while the S3 buckets are locked down, there's no other way that the documents are being shared internally or externally other than the approved methods already in place. Audits are also important, so whatever methods of data protection are in place must work together with this, as well as providing actionable alerts if there any observed issues. How do you best achieve this? Which AWS services can help?","explanation":"Amazon Macie is a security service that uses machine learning to discover personally identifiable information in your S3 buckets. It also provides you with dashboards and alerts that show how your private data is being accessed.","links":[{"url":"https://docs.aws.amazon.com/macie/latest/userguide/what-is-macie.html","title":"What Is Amazon Macie?"}],"answers":[{"id":"2cd9c2c19e59cae06d93cba7c9861016","text":"Write a lambda function to monitor CloudTrail API calls to S3 and trigger an SNS notification if anything out of the ordinary is detected.","correct":false},{"id":"4a68228f60a7ed4f82aa09dbc1d18425","text":"Implement Amazon Macie across your S3 buckets.","correct":true},{"id":"4535ec14d07cb09bc414719290a94777","text":"Write a lambda function which is triggered when new data is uploaded into your S3 buckets to apply an S3 policy to ensure the data is secure.","correct":false},{"id":"2e08a3430fb173fad3d2a91519ecc6e5","text":"Don't store sensitive data in S3, the public cloud is not secure enough. Look into moving storage in-house.","correct":false}]},{"id":"69f350ad-db3a-4b83-bf8e-15ea0c0df866","domain":"PoliciesStandards","question":"Your company is preparing to become ISO 27001 certified and your manager has asked you to propose a comprehensive solution to log configuration and security changes in a separate audit account.  Specifically, the solution should ensure IAM users have MFA enabled, identify S3 buckets which aren't encrypted and enforce the addition of specific tagging.  Identify which option solves the problem.","explanation":"AWS Config is the only service that will meet all of the requirements in the question as it records configuration changes and snapshots the configuration at regular intervals set by you. Data aggregation means that AWS Config data from multiple accounts can be stored in a single account.  The following built in rules; s3-bucket-server-side-encryption-enabled and iam-user-mfa-enabled identify any S3 buckets not encrypted and any IAM accounts that do not have MFA enabled.  Tagging is also available for AWS Config resources that describe AWS Config rules.","links":[{"url":"https://aws.amazon.com/config/faq/","title":"AWS Config FAQs"},{"url":"https://aws.amazon.com/cloudtrail/faqs/","title":"AWS CloudTrail FAQs"}],"answers":[{"id":"8c9a63c97e58123416200044d646218a","text":"Enable Enhance Logging in AWS Cloudwatch to track all security and configuration changes and view these using Cloudwatch Logs Insights.","correct":false},{"id":"2f426c67cf1036d34927bdb5aac020ba","text":"Enable AWS Cloudtrail to check for MFA enabled IAM users, configure Server access logging in S3 to view the encryption status and use a CloudFormation Templates to add tagging.","correct":false},{"id":"efd3ca0f78115a7a32bffa7905edd17b","text":"Enable AWS Config and create three default rules to check whether IAM users have MFA enabled, S3 buckets have server side encryption and tagging is added to resources.","correct":true},{"id":"0e1d676582953a5a30bcd07fa6996329","text":"Enable AWS Config and AWS Cloudtrail to track changes in all resources and to identify IAM user API calls with MFA enabled.","correct":false}]},{"id":"8c127356-141c-4199-bfd4-f1d8e0a8560d","domain":"IncidentEventResponse","question":"You have taken over a half finished project to implement Kinesis Data Streams.  Data is being successfully and efficiently placed onto the streams using KPL based code, but when running the KCL code to read off the shards, you are experiencing issues.  The main issues relate to slower than expected reading from the shards, but you are also seeing records being skipped.  Which options allow you to resolve both of these problems?","explanation":"Many of the above solutions answer Kinesis related questions, but we specifically need to know what could cause a slow down in reading from a shard, and why records would be skipped.  For this, there are only two correct answers.  For slow reading, it could be due to the maxRecords value being set too low or the code logic, which is calling processRecords, being inefficient and causing high CPU usage or blocking.  However, there is only one correct answer for the skipping of records and that is usually due to processRecords calls having un handled exceptions.","links":[{"url":"https://docs.aws.amazon.com/streams/latest/dev/troubleshooting-consumers.html","title":"Troubleshooting Amazon Kinesis Data Streams Consumers"}],"answers":[{"id":"989df0ef5880a136eb3db849ff45dc66","text":"Ensure the maxRecords value for the GetRecords call isn't set below the default setting.  Also, check that the processRecords call is not throwing an unhandled exception.","correct":true},{"id":"b579dde17faaedc85ca4956edf187830","text":"Ensure the maxRecords value for the GetRecords call isn't set below the default setting.  Also, make sure you aren't seeing a sudden large increase in the GetRecords.IteratorAgeMilliseconds metric.","correct":false},{"id":"61bd51378999bcd6a2d6551c0cc12100","text":"Check the logic of the code to ensure the processRecords call isn't CPU intensive or I/O blocking.  Also, check that the processRecords call is not throwing an unhandled exception.","correct":true},{"id":"abd17cf52b5933e670c26b2caed0264c","text":"Choose a failover time that is less than 10 seconds, to ensure reading from a shard maintains a 1 to 1 relationship.  Also, make sure the consumers do not exceed the read per-shard limit.","correct":false},{"id":"c6314cbc442d2cd7efa28180d7a5abcf","text":"Ensure you have made a GetRecords call at least every 5 minutes.  Also, check that the processRecords call is not throwing an unhandled exception.","correct":false}]},{"id":"5d8f54bd-8e1d-43f7-ac42-5e95cb9b571d","domain":"PoliciesStandards","question":"Your fleet of Windows EC2 instances are running well. They're automatically built from an AMI and generally don't require much interaction, except for when they need to be patched with the latest Windows updates or have new software installed or updated. Ideally, you'd like to automate the process to install or update applications and apply windows updates and patches during the quiet hours when your customers are sleeping, which means around 3am. How would you best automate this process?","explanation":"Patch Manager combined with Maintenance Windows in AWS Systems manager is the recommended way to automate this requirement.","links":[{"url":"https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-patch-scheduletasks.html","title":"Patching Schedules Using Maintenance Windows"}],"answers":[{"id":"b33df3531d79b8884a9ea73b9b3eb281","text":"Implement AWS Systems Manager Patch Manager and AWS Systems Manager Maintenance Windows","correct":true},{"id":"ef3de69841ef1a22eb05e975b235c5ec","text":"Implement a Lambda function to run PowerShell update commands on a schedule using CloudWatch Events rules for each server","correct":false},{"id":"f958a87732086d7eac94980dcc15d1af","text":"Implement AWS Systems Manager Run Commands to execute the PowerShell scripts to run updates at 3am","correct":false},{"id":"2c14be2bb2789102f0b7f5d920b26df9","text":"Implement AWS Systems Manager Patch manager and AWS Systems Manager Run Commands","correct":false}]},{"id":"6e3db01a-b168-46b2-87a2-8ee861d18334","domain":"SDLCAutomation","question":"You have set up a new AWS CodeCommit repository for your company's development team. All but one member can connect to it from an SSH command line terminal on their local machines and you are now troubleshooting the problem for that user. What are some of the possible reasons for this not working and how can you resolve the issue?","explanation":"The simplest and easiest connection method to use with CodeCommit is HTTPS connections and Git credentials. It is supported by most IDEs and development tools. However, the SSH protocol is also supported. If you want to use SSH connections for your repository, you can connect to AWS CodeCommit without installing the AWS CLI.","links":[{"url":"https://docs.aws.amazon.com/codecommit/latest/userguide/setting-up-gc.html","title":"Setup for HTTPS Users Using Git Credentials"},{"url":"https://docs.aws.amazon.com/codecommit/latest/userguide/setting-up-https-unixes.html","title":"Setup Steps for HTTPS Connections to AWS CodeCommit Repositories on Linux, macOS, or Unix with the AWS CLI Credential Helper"},{"url":"https://docs.aws.amazon.com/codecommit/latest/userguide/setting-up-without-cli.html","title":"Setup for SSH Users Not Using the AWS CLI"}],"answers":[{"id":"a607ed26280fc1c3e5fe316de5339c82","text":"Because CodeCommit requires AWS Key Management Service, a policy might be attached to the already existing IAM user that expressly denies the KMS actions required by CodeCommit. If required, update the users' policies and ensure that all required permissions are granted. For a new IAM user, attach the AWSCodeCommitFullAccess or another managed policy for CodeCommit access.","correct":true},{"id":"6ebf3ce5aed5449aa5c0fc11fbd81b2b","text":"Instead of using the SSH protocol, the user tried unsuccessfully another connection method. With SSH connections, you create public and private key files on the users' local machine that Git and CodeCommit use for SSH authentication. You simply associate the public key with the IAM user and store the private key on the users' local machine. Besides the use of the CodeCommit console, this is currently the only supported connection method to use with CodeCommit.","correct":false},{"id":"136c49d59bc5936c51a8afe887d7fada","text":"The user might have previously configured his local computer to use the credential helper for CodeCommit. In this case, edit the .gitconfig file to remove the credential helper information from the file before using Git credentials. On macOS, you might need to clear cached credentials from Keychain Access.","correct":true},{"id":"c87085b06d5895f92cf3cc838ee49464","text":"The user didn't install the AWS CLI. You cannot connect to AWS CodeCommit without installing the AWS CLI when using SSH connections for your repository. You must install the AWS CLI first, then associate the public key in OpenSSH format with the IAM user and finally add CodeCommit to the SSH configuration.","correct":false}]},{"id":"3e8ee2fb-8946-43b2-ba85-78ce64b74626","domain":"ConfigMgmtandInfraCode","question":"You are discussing error scenarios and possible retry strategies for your Step Functions machine with your colleague. Which of her claims are incorrect?","explanation":"Errors can arise because of state machine definition issues, task failures or because of transient issues. When a state reports an error, the default course of action for AWS Step Functions is to fail the execution entirely.","links":[{"url":"https://docs.aws.amazon.com/step-functions/latest/dg/amazon-states-language-errors.html","title":"AWS Step Functions: Amazon States Language - Errors"}],"answers":[{"id":"5673ef332c854836ed6963374170526a","text":"Any state can encounter runtime errors. Examples are when a Lambda function throws an exception or if a transient network issue exists. AWS Step Functions distinguishes these clearly from Failures such as state machine definition issues that are handled differently.","correct":true},{"id":"8c65f4ebde68eb7bc8a58c7747c9f843","text":"A Retry field with an 'IntervalSeconds' and 'MaxAttempts' value of 3 and 'BackoffRate' value of 1.5 will make three retry attempts after waits of 3, 4.5 and 6.75 seconds.","correct":false},{"id":"51e213b667c0c51b9814eb2430f2d081","text":"A Retrier must contain the 'ErrorEquals' field which is a non-empty array of strings that match Error Names, e.g. 'States.Timeout'. When a state reports an error, Step Functions scans through the Retriers and, when the Error Name appears in this array, it implements the retry policy described in this Retrier.","correct":false},{"id":"c1c080d749a342bf5e9fc2509c11fe40","text":"When a state reports an error, the default course of action for AWS Step Functions is to log the error and perform a single retry after 1 second. If that doesn't succeed, AWS Step Functions will fail the execution entirely.","correct":true}]},{"id":"4cfee0f4-02a3-43bc-af10-a34d888a0086","domain":"HAFTDR","question":"The Marketing Team of Mega-Widgets Inc. have recently released an advertising campaign in the APAC region, in addition to their home market of Europe.  The CTO has told you that they have started receiving complaints from Australian customers that the site located in eu-west-1 is slow, and they think by utilising the existing Disaster Recovery infrastructure in ap-southeast-2, they can speed up response time for these customers.  As time is of the essence, they have asked you to assist.  You have already confirmed that data is synchronising between both sites.  What is the quickest way to reduce the latency for these customers?","explanation":"As we are not told otherwise, we can assume that the European site is fast for people within Europe and therefore we can assume a high latency is the cause of the problem.  Route 53 Latency-Based Routing sounds like the perfect candidate when utilising the Disaster Recovery site as the main site for Asia Pacific.  CloudFront could offer some help if we only had one site and the Edge locations could cache some content, but in this case the CTO wanted to use the Disaster Recovery infrastructure already in place.","links":[{"url":"https://aws.amazon.com/route53/faqs/","title":"Amazon Route 53 FAQs"},{"url":"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/Tutorials.html","title":"Tutorials"}],"answers":[{"id":"d718f6cb2c4337528dfde78cbe94dfad","text":"Create a CloudFront endpoint with the origin pointing to the European site and then point www.mega-widgets.com to that endpoint.","correct":false},{"id":"0e6075956527bb40627bfab8871eab13","text":"In Route 53, create eu.mega-widgets.com and ap.mega-widgets.com and point them to the same CloudFront endpoint.","correct":false},{"id":"6752c886fe176d4a7c3fd5d847abf946","text":"In Route 53, create two records for www.mega-widgets.com, a latency record pointing to the European IP and a latency record pointing to the Asia Pacific IP.","correct":true},{"id":"883bf6152c030fbe021fafb5fb55c8d4","text":"In Route 53, create two sub-domain A records of mega-widgets.com, one with the European IP and the other with the Asia Pacific IP. Create two aliases pointing www.mega-widgets.com to both sub-domains.","correct":false}]},{"id":"5c90df95-736b-4b27-a7cf-095c4dc3d4c4","domain":"HAFTDR","question":"You run a load balanced, auto-scaled website in EC2. Your CEO informs you that due to an upcoming public offering, your website must not go down, even if there is a region failure. What's the best way to achieve this?","explanation":"A latency based routing policy will keep your website as fast as possible for your customers, and will act as redundancy should one of the regions go down.","links":[{"url":"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy.html","title":"Choosing a Routing Policy"}],"answers":[{"id":"20703f2de437222f1e63b4b81216e053","text":"Deploy your load balancers and auto-scaled website in two different availability zones. Create a Route53 weighted Routing Record. Point the record to each of your Elastic LoadBalancers.","correct":false},{"id":"230b3ec4e1a08538bc506cca11e9c1a1","text":"Deploy your load balancers and auto-scaled website in two different availability zones. Create a Route53 GeoProximity Routing Record. Point the record to each of your Elastic LoadBalancers.","correct":false},{"id":"560436ce37b94afeee434582179ddc95","text":"Deploy CloudFront in front of your instances. It will cache requests even if a region goes down and your users will not notice.","correct":false},{"id":"f20603c9e3176b9a3bdd585343418443","text":"Deploy your load balancers and auto-scaled website in two different regions. Create a Route53 Latency Based Routing Record. Point the record to each of your Elastic LoadBalancers.","correct":true}]},{"id":"6005330f-05be-4392-8817-d871f1dfff8f","domain":"PoliciesStandards","question":"The medical devices company you work for has decided to move all applications development to AWS. Agile methodology is used by all teams and projects are managed with Jira, which will also be deployed on AWS. The company already possesses a Jira Data Center license and an Atlassian account. VPCs and subnets have been setup for development environments, but not for Jira. Which architecture will provide the most scalable and secure environment for the Jira software?","explanation":"The Atlassian Standard Infrastructure (ASI) calls for a single VPC with a public and a private subnet in two separate Availability Zones. Also included in the public subnets are NAT Gateways for outbound Internet access from private subnet EC2 instances, and bastion hosts as part of a single Auto Scaling Group for SSH access into the private subnet EC2 instances. ASI also specifies an internal ELB for load balancing between the Jira instances, and to be used as an SSL termination reverse proxy. An ELB Application Load Balancer accomplishes this. Jira applications are installed on EC2 instances in the private subnets and joined to an Auto Scaling Group. Jira requires a supported relational database, and Aurora PostgreSQL is supported for Jira Data Center. Jira applications use a shared file system to store artifacts in a common location, and EFS fulfills this requirement. Deploying Jira in two regions is overkill since it's not customer facing for this use case, and excellent reliability will be accomplished with a single region, multiple Availability Zone deployment. The Jira application is not broken up into request and backend components. AWS Systems Manager Session Manager can provide access into private subnet EC2 instances, but a PrivateLink connection needs to be established first.","links":[{"url":"https://aws.amazon.com/quickstart/architecture/jira/","title":"Jira products on AWS"},{"url":"https://aws.amazon.com/autoscaling/","title":"AWS Auto Scaling"},{"url":"https://aws.amazon.com/rds/aurora/","title":"Amazon Aurora"}],"answers":[{"id":"6d62318e3f91e2401f62dde0ed3b3064","text":"Implement a public and a private subnet in two separate Availability Zones of a VPC. Install a NAT Gateway and a bastion host in each of the public subnets. Provision EC2 instances from a Jira Amazon Machine Image in the private subnets, and place them in an Auto Scaling Group. Configure an ELB Application Load Balancer in front of the Jira nodes. Use an Amazon Aurora PostgreSQL database, and create Amazon EFS mount targets in the private subnets for Amazon Elastic File System.","correct":true},{"id":"79eabca96dec2f6d7205aeeb5c7dfc8b","text":"Create a public and a private subnet in two separate Availability Zones of VPCs in two separate AWS Regions. Install a NAT Gateway in each of the public subnets. Install EC2 instances from a Jira Amazon Machine Image in the private subnets, and place them in an Auto Scaling Group. Use AWS Systems Manager Session Manager for SSH access into the EC2 instances. Configure an ELB Network Load Balancer in front of the Jira nodes, and setup a Route 53 failover routing policy between the two regions. Use an Amazon RDS PostgreSQL database with Multi-AZ, and create Amazon EFS mount targets in the private subnets for Amazon Elastic File System.","correct":false},{"id":"e94d6fa1cc1d3a8d14d0817e8fc76fc2","text":"Deploy a public and a private subnet in two separate Availability Zones of a VPC. Install a NAT Gateway in each of the public subnets. Provision Jira Request Servers on EC2 instances in the public subnets, and Jira backend servers on EC2 instances in the private subnets from Jira Amazon Machine Images. Place both the request and backend servers in Auto Scaling Groups. Use AWS Systems Manager Session Manager for SSH access into the EC2 instances. Configure an ELB Network Load Balancer in front of the request servers and another ELB Network Load Balancer in front of the backend servers. Use an Amazon RDS PostgreSQL database with Multi-AZ, and create Amazon EFS mount targets in the private subnets for Amazon Elastic File System.","correct":false},{"id":"0ee04404b372a7211ef7cddeb4374529","text":"Configure a public and a private subnet in two separate Availability Zones of VPCs in two separate AWS Regions. Install a NAT Gateway and a bastion host in each of the public subnets. Implement Jira Request Servers as Lambda functions fronted by Amazon API Gateway. Provision the Jira backend servers on EC2 instances in the private subnets from Jira Amazon Machine Images. Place the backend servers in Auto Scaling Groups. Configure an ELB Application Load Balancer in front of the backend servers, and setup a Route 53 failover routing policy between the two regions. Use an Amazon Aurora PostgreSQL database, and create Amazon EFS mount targets in the private subnets for Amazon Elastic File System.","correct":false}]},{"id":"f6b4a9c9-32fd-433d-93fd-4b61bad8db8a","domain":"PoliciesStandards","question":"You are employee #2 in a new startup, right after the founders and their first developer. You've been given the task of checking over the AWS account that has been used so far and determining what service limits you are currently breaching (if any) and producing a report on the current service limit levels. How do you obtain this information?","explanation":"Trusted advisor makes Service Limit checks free for all users at any support level.","links":[{"url":"https://aws.amazon.com/blogs/mt/monitoring-service-limits-with-trusted-advisor-and-amazon-cloudwatch/","title":"Monitoring Service Limits"}],"answers":[{"id":"1812a1f14ddc45354e11146b11914c56","text":"Sign up for a business support plan to access the Service Limit Checks in Trusted Advisor","correct":false},{"id":"6ca7f9bfe1536150652a1e4ecaf6789c","text":"Enable detailed billing and look at the Service Limit reporting page, which is free for all users.","correct":false},{"id":"0ee62b6775e4ea63a1288cd941f273a5","text":"Sign up for a business support plan to access the detailed billing reports in your billings console.","correct":false},{"id":"de4b26655e419de8a97e82d3598b1eda","text":"Enable Trusted Advisor and look at the Service Limit page, which is free for all users.","correct":true}]},{"id":"ee99751c-1258-4f81-adf9-31a8c57b2605","domain":"ConfigMgmtandInfraCode","question":"Your CloudFormation template is becoming quite large, so you have been tasked with reducing its size and coming up with a solution to structure it in a way that works efficiently. You have quite a few resources defined which are almost duplicates of each other, such as multiple load balancers using the same configuration. What CloudFormation features could you use to help clean up your template?","explanation":"Nested stacks should be used to reuse common template patterns.","links":[{"url":"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html#nested","title":"AWS CloudFormation Best Practices"}],"answers":[{"id":"8a32bed4f4f47b1c84105ed6173ba8c4","text":"Use custom resources. They can be called by your stack to define resources without having to reuse their code.","correct":false},{"id":"86793dc47df7cca5d373cdb3f8fc8f61","text":"Use Intrinsic functions. This allows dedicated functions to be called and parameters passed to generate resources.","correct":false},{"id":"b8d5d665b7d8b4abfc48daa77a64c021","text":"Use nested stacks. This will allow a dedicated templates to be defined for services that are used multiple times","correct":true},{"id":"242cb2d9063dee2cfd0a6b0cabacb580","text":"Use goto policies. These allow you to refer to different sections of your template for reuse.","correct":false}]},{"id":"3072e673-774e-4865-a7ed-85fafa597eeb","domain":"SDLCAutomation","question":"Your companies Security Officer just mandated a policy whereby all in use encryption keys within your organisation must be rotated every 120 days. How does that affect your CodePipelines Artifact store?","explanation":"An artifact store for your pipeline, such as an Amazon S3 bucket, is not the source bucket for your source code and is required for each pipeline. When you create or edit a pipeline, you must have an artifact bucket in the pipeline Region, and then you must have one artifact bucket per AWS Region where you are running an action. Unlike the console, running the create-pipeline command in the AWS CLI does not create an Amazon S3 bucket for storing artifacts. The bucket must already exist. When you enable automatic key rotation for a customer managed CMK, AWS KMS generates new cryptographic material for the CMK every year.","links":[{"url":"https://docs.aws.amazon.com/codepipeline/latest/userguide/pipelines-create.html","title":"Create a Pipeline in CodePipeline"},{"url":"https://docs.aws.amazon.com/codepipeline/latest/userguide/S3-artifact-encryption.html","title":"Configure Server-Side Encryption for Artifacts Stored in Amazon S3 for CodePipeline"},{"url":"https://docs.aws.amazon.com/codepipeline/latest/userguide/S3-view-default-keys.html","title":"View Your Default Amazon S3 SSE-KMS Encryption Keys"},{"url":"https://docs.aws.amazon.com/kms/latest/developerguide/rotate-keys.html","title":"Rotating Customer Master Keys"},{"url":"https://docs.aws.amazon.com/codepipeline/latest/userguide/S3-rotate-customer-key.html","title":"Configure Server-Side Encryption for S3 Buckets When Using AWS CloudFormation or the CLI"}],"answers":[{"id":"7cb596ab386cdf5e14c65e9384a96895","text":"Your artifact store can either be a CodeCommit, GitHub or an Amazon ECR repository. It can also be an S3 source bucket where your source code is stored. Every 120 days, you need to generate new access keys and change the connection details to your repository if you are not using S3 as your artifact store. No further action is required if you use S3.","correct":false},{"id":"30285e906f24c643049a339b0551b048","text":"You can use any already existing artifact store as long as it is in the same Region as your pipeline. When you create a pipeline using AWS CloudFormation or the CLI, you must configure server-side encryption for your artifact store manually. Use an appropriate bucket policy and then create your own customer-managed SSE-KMS encryption keys. Instead of using the default Amazon S3 key, choose to use your own keys so that you can rotate these every 120 days as per your organisations security requirements.","correct":true},{"id":"83305810e49f3d0e2dc10c7f564a2616","text":"CodePipeline Artifact stores are regional. When you use the CodePipeline console in a specific region to create a pipeline and choose 'Default location' when asked for an Artifact store, a new default one will be created for you in that region if none existed beforehand. CodePipeline creates default AWS-managed SSE-KMS encryption keys when you create a pipeline using the Create Pipeline wizard. The master key is encrypted along with object data and managed by AWS. However, you can also create and manage your own customer-managed SSE-KMS keys in AWS KMS to encrypt or decrypt artifacts in your artifact store and rotate these keys as necessary.","correct":true},{"id":"75c9d50127886728d1cfde275bdb7915","text":"You must have a separate artifact store for each CodePipeline. When using the AWS CLI, these are automatically created during the creation of your pipelines. CodePipeline also configures default AWS-managed SSE-KMS encryption keys for your artifact store. If you enable automatic key rotation and specify a refresh rate of 120 days, AWS KMS generates new cryptographic material and saves the key's older cryptographic material so that it can be used to decrypt data that it encrypted.","correct":false},{"id":"03be9a17c0b30ac5a6639484c188ed1c","text":"AWS recommends to use the same default global artifact store for all your CodePipelines. This is created for you when you create your first pipeline in any region. By default, CodePipeline uses server-side encryption with the AWS KMS-managed keys (SSE-KMS) using the default key for Amazon S3 (the aws/s3 key). This key is created and stored in your AWS account. When artifacts are retrieved from the artifact store, CodePipeline uses the same SSE-KMS process to decrypt the artifact. Change that key every 120 days.","correct":false}]},{"id":"860e8b11-9faf-4176-8c11-716aeccf799b","domain":"HAFTDR","question":"You're assisting a developer working on a very large and read-heavy application which uses an Amazon Aurora database cluster. The feature currently being worked on requires reading but no writing, however it will be called by the application frequently and from multiple different servers so the reads need to be load balanced. Additionally your reporting team need to make ad-hoc, expensive queries which need to be isolated so that reads for production are not affected by reporting.  Which Aurora configuration fulfils both needs with minimal extra configuration?","explanation":"The Reader endpoint is appropriate in this situation. The reader endpoint provides load balanced support for read only connections to the database cluster. A custom endpoint can be used to connect to an isolated replica for report generation or ad hoc (one-time) querying,","links":[{"url":"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/Aurora.Overview.Endpoints.html","title":"Amazon Aurora Connection Management - Amazon Aurora"}],"answers":[{"id":"5ff29b324290cc87e7f79502c91662fd","text":"Use the Custom endpoint for your Production system to make its reads against a single high-capacity replica, and create another custom endpoint pointing to a dedicated reporting replica for isolation of ad-hoc reporting.","correct":false},{"id":"794b7ab3749de5b254f0dd3f2337bc74","text":"Use the Reader endpoint for your Production system to make its load-balanced reads against high-capacity read replicas, and create a custom endpoint pointing to a separate replica for isolation of ad-hoc reporting.","correct":true},{"id":"2b1242d9bda15b98989935f538280b8f","text":"Use the Cluster endpoint for your Production system to make its reads against high-capacity read replicas, and create an Aurora reporting endpoint pointing to a separate replica for isolation of ad-hoc reporting.","correct":false},{"id":"af531b8d353cecad595506c5239ca5f2","text":"Use the Aurora Instance endpoint for your Production system to make load-balanced reads against a read replicas, and create another custom endpoint pointing to a dedicated reporting replica for isolation of ad-hoc reporting.","correct":false}]},{"id":"80f664b2-633c-4476-ae74-6d249087e79f","domain":"IncidentEventResponse","question":"You are a day trader working from home with a software engineering background. You are considering making use of some cloud services to alert you of stock price changes so you know immediately when the price of certain stocks has risen or fallen more than 1%. You know you can ingest your data to a Kinesis Data stream, but how will you query it?","explanation":"You can query your streams directly from your application using SQL and Kinesis Data Analytics","links":[{"url":"https://docs.aws.amazon.com/kinesisanalytics/latest/dev/continuous-queries-concepts.html","title":"Continuous Queries - Amazon Kinesis Data Analytics for SQL Applications Developer Guide"}],"answers":[{"id":"e010acc5480838d8d1679bd03d0730ba","text":"Use JSON with Kinesis Data Analytics","correct":false},{"id":"ce8028a6137a5e1bb29aa083a15ccd3c","text":"Use RDS with Kinesis Data Analytics","correct":false},{"id":"04efd74e70cd57a041797aa4b35f74e7","text":"Use SQL with Kinesis Data Analytics","correct":true},{"id":"1069736ede5f32f059462eb2901e8b93","text":"Use YAML with Kinesis Data Analytics","correct":false}]},{"id":"b21d657a-8e37-4f2b-9641-6e37ff00825c","domain":"SDLCAutomation","question":"Your manager wants to implement a CI/CD pipeline for your new cloud-native project using AWS services, and would like you to ensure that it is performing the best automated tests that it can. He would like fast and cheap testing, where bugs can be fixed quickly. He suggests starting with individual units of your software and wants you to test each one, ensuring they perform how they are designed to perform. What kind of tests do you suggest implementing, and what part of your CI/CD pipeline will you implement them with?","explanation":"Unit tests are built to test individual units of your software and quickly identify bugs. These can be implemented with CodeBuild.","links":[{"url":"https://d1.awsstatic.com/whitepapers/DevOps/practicing-continuous-integration-continuous-delivery-on-AWS.pdf","title":"Practicing CI/CD on AWS"}],"answers":[{"id":"464e499150ad3f7270dbfb985c67bcb0","text":"Start by creating a code repository in AWS CodeCommit for your software team to perform source-control.  Build some compliance tests for current code base and ensure that your developers produce component tests as early as possible for software as it is built.  Implement the execution of unit testing using AWS CodeBuild","correct":false},{"id":"437e248b28463ad899879dda97bea983","text":"Start by creating a code repository in AWS CodeCommit for your software team to perform source-control.  Build some unit tests for the existing code base and ensure that your developers produce component tests as early as possible for software as it is built.  Implement the execution of unit testing using AWS CodeCommit","correct":false},{"id":"962f2ea0d522b0054011f4e7935fd81e","text":"Start by creating a code repository in AWS CodeCommit for your software team to perform source-control.  Build some unit tests for the existing code base and ensure that your developers produce unit tests as early as possible for software as it is built.  Implement the execution of unit testing using AWS CodeBuild","correct":true},{"id":"673e10c0ae89a727cede17ac866f1ae4","text":"Start by creating a code repository in AWS CodeCommit for your software team to perform source-control.  Build source tests for current code base and ensure that your developers produce source tests as early as possible for software as it is built.  Implement the execution of unit testing using AWS CodeCommit","correct":false}]},{"id":"d4166e07-35b5-4196-b355-a04793003f88","domain":"HAFTDR","question":"You currently have a lot of IoT weather data being stored in a DynamoDB database. It stores temperature, humidity, wind speed, rainfall, dew point and air pressure. You would like to be able to take immediate action on some of that data. In this case, you want to trigger a new high or low temperature alert and then send a notification to an interested party. How can you achieve this in the most efficient way?","explanation":"Using a DynamoDB stream is the most efficient way to implement this. It allows you to trigger the lambda function only when a temperature record is created, thus saving Lambda from triggering when other records are created, such as humidity and wind speed.","links":[{"url":"https://aws.amazon.com/blogs/database/dynamodb-streams-use-cases-and-design-patterns/","title":"DynamoDB Streams Use Cases and Design Patterns"}],"answers":[{"id":"bfa4fc6ae9d9c31b4764750964fc2583","text":"Use CloudWatch custom metrics to plot your temperature readings and generate an event alert if it breaches your high and low thresholds.","correct":false},{"id":"3cca31ba4defd9f00540ba540543c0af","text":"Modify your IoT devices to also log their data to Kinesis Data Firehose and trigger a Lambda function which will check for new high or low temperatures. Send a SNS notification.","correct":false},{"id":"86d964e70883ad4a58b196f134df686c","text":"Write an application to use a DynamoDB scan and select on your Sort key to determine the maximum and minimum temperatures in the table. Compare them to the existing records and send an SNS notification if they are breached. Run the application every minute.","correct":false},{"id":"295bff0a7cd575c34ecae937a4f12f8e","text":"Use a DynamoDB stream and Lambda trigger only on a new temperature reading. Send a SNS notification if a record is breached.","correct":true}]},{"id":"9a41a543-3d2a-4090-b97a-16d86d7a7ab0","domain":"SDLCAutomation","question":"CodeBuild has been configured as the Action provider for your Integration Test Action which has been added to your CodePipelines' 'Test' stage. These tests connect to your RDS test database that is isolated on a private subnet and because executing that stage alone takes nearly 2 hours, you want to run it during the night before developers come into the London office in the morning. How might you go about this?","explanation":"Enabling Amazon VPC access in your CodeBuild project requires the ID of the VPC, subnets, and security groups. You cannot use the internet gateway instead of a NAT gateway or a NAT instance because CodeBuild does not support assigning elastic IP addresses to the network interfaces that it creates, and auto-assigning a public IP address is not supported by Amazon EC2 for any network interfaces created outside of Amazon EC2 instance launches. The ordered cron expression fields are: minutes, hours, day of month, month, day of week, year.","links":[{"url":"https://aws.amazon.com/about-aws/whats-new/2017/03/aws-codepipeline-adds-support-for-unit-testing/","title":"AWS CodePipeline Adds Support for Unit and Custom Integration Testing with AWS CodeBuild"},{"url":"https://docs.aws.amazon.com/codebuild/latest/userguide/how-to-create-pipeline.html","title":"Use CodePipeline with CodeBuild to Test Code and Run Builds"},{"url":"https://docs.aws.amazon.com/codepipeline/latest/userguide/pipelines-trigger-source-schedule-cli.html","title":"Create a CloudWatch Events Rule That Schedules Your Pipeline to Start (CLI)"},{"url":"https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html","title":"Schedule Expressions for Rules"},{"url":"https://docs.aws.amazon.com/cli/latest/reference/codebuild/start-build.html","title":"AWS CLI Command Reference: start-build"},{"url":"https://docs.aws.amazon.com/codepipeline/latest/APIReference/API_StartPipelineExecution.html","title":"AWS CodePipeline: API Reference: Actions: StartPipelineExecution"},{"url":"https://docs.aws.amazon.com/codebuild/latest/userguide/vpc-support.html","title":"Use CodeBuild with Amazon Virtual Private Cloud"}],"answers":[{"id":"680092a0588f13a4230a986961172023","text":"To allow CodeBuild access to your database, you have to specify the VPC ID and the ID of the subnet of your private RDS instance. Then create a CloudWatch events rule to schedule a CodeBuild project build using the following cron expression: 3 10 * * ? *","correct":false},{"id":"7a12726d6a6e0d62c071bfa26f1daf46","text":"By default, CodeBuild projects can access VPCs in the same account. Use the AWS CLI CodeBuild command 'start-build' with the --repeat=true, --hours=3, --minutes=10 and --frequency=weekdays option.","correct":false},{"id":"e49c56dbee3e27e947c2cda2784975fb","text":"CodeBuild supports assigning elastic IP addresses to the network interfaces that it creates. Therefore, you need to configure your build project with the allocated EIP and VPC details of your RDS instance. Call the AWS CodePipeline 'StartPipelineExecution' API with {'stage': 'Test', 'schedule': '5 23 ? * SUN-THU *' }.","correct":false},{"id":"f10014d4b7fb41a95a0f4102b36a8460","text":"Amazon VPC access in your CodeBuild project needs to be enabled. Specify your VPC ID, subnets, and security groups in your build project and set up a rule in Amazon CloudWatch Events to start the pipeline on a schedule. Use the following command for that: aws events put-rule --schedule-expression 'cron(10 3 ? * MON-FRI *)' --name IntegrationTests","correct":true}]},{"id":"50424d57-02c2-4af2-84ff-10d935637fc6","domain":"IncidentEventResponse","question":"Your company has been producing Internet-enabled Microwave Ovens for two years.  These ovens are constantly sending streaming data back to an on-premises endpoint behind which sit multiple Kafka servers ingesting this data.  The latest Microwave has sold more than expected and your Manager wants to move to Kinesis Data Streams in AWS, in order to make use of its elastic capabilities.  A small team has deployed a Proof of Concept system but are finding throughput lower than expected, they have asked for your advice on how they could put data on the streams quicker.  What information can you give to the team to improve write performance?","explanation":"You should always use the Kinesis Producer Library (KPL) when writing code for Kinesis where possible, due the Performance Benefits, Monitoring and Asynchronous performance.  You should choose any answers which include KPL as a solution.  You should also check all relevant Service Limits to ensure no throttling is occurring.  Only three of these options are shown in the question, but there are many more possibilities.  The remaining options will work, but generally will give slower performance.","links":[{"url":"https://docs.aws.amazon.com/streams/latest/dev/troubleshooting-producers.html","title":"Troubleshooting Amazon Kinesis Data Streams Producers"}],"answers":[{"id":"c6a098ae823197ee09ed9de745ce2cc8","text":"Use a Small Producer with the Kinesis Producer Library, but using the PutRecords operation.","correct":true},{"id":"19d55c732ada47508097e33c6e04a120","text":"Check the GetShardIterator, CreateStream and DescribeStream Service Limits.","correct":true},{"id":"95940bef689407d24dcd08ee0da18ca5","text":"Develop code using the SDK to put data onto the streams with the Kinesis Data Streams API.","correct":false},{"id":"7080b30b6deaa847a5edb074ea4be9d8","text":"Use a Large Producer without the Kinesis Producer Library, but using the PutRecord operation.","correct":false},{"id":"8309467932d5a97196aca6a575a318af","text":"Develop code using the Kinesis Producer Library to put data onto the streams.","correct":true}]},{"id":"6a6f97fb-45c8-4509-91c7-4507629d60fa","domain":"HAFTDR","question":"Your current workload with DynamoDB is extremely latency bound, and you need it to be as fast as possible. You do not have time to look at other AWS services but instead have been instructed to use features and configuration changes of the services you are currently using. What do you do?","explanation":"Implementing a DAX cluster is the ideal solution here. It meets the requirement of using the existing DynamoDB service feature, while having the ability to reduce latency from milliseconds to microseconds. DynamoDB Scan times can also be optimised by reducing the number of attributes in your table and grouping attributes as JSON blobs within a single attribute.","links":[{"url":"https://aws.amazon.com/dynamodb/dax/","title":"Amazon DynamoDB Accelerator (DAX) – Fully managed in-memory cache for DynamoDB"},{"url":"https://aws.amazon.com/blogs/database/optimizing-amazon-dynamodb-scan-latency-through-schema-design/","title":"Optimize Amazon DynamoDB scan latency through schema design | AWS Database Blog"}],"answers":[{"id":"4e7fca450cdf45d6ded7827b5ef88c16","text":"Minimise the number of separate attributes in your table by grouping for example into JSON blobs to optimise scan times.  Implement a DAX cluster for caching of common queries and to reduce latency on common queries.  Consider replacing certain sequential slow scan operations with parallel scans of separate segments of the table, and suggest the development team use the AWS SDK to make available X-Ray tracing of their DynamoDB calls.","correct":true},{"id":"b5002075c11491df649c4c4f6e960472","text":"Minimise the number of separate attributes in your table by grouping for example into JSON blobs to optimise scan times.  Implement DynamoDB Cached for caching of common queries and to reduce latency on common queries.  Consider replacing certain sequential slow scan operations with parallel scans of separate segments of the table, and suggest the development team use the AWS SDK to make available X-Ray tracing of their DynamoDB calls.","correct":false},{"id":"357461d5fd66eb609146fe0e65854901","text":"Minimise the number of separate attributes in your table by grouping for example into JSON blobs to optimise scan times.  Implement Elasticache Redis for caching of common queries and to reduce latency on common queries.  Consider replacing certain sequential slow scan operations with parallel scans of separate segments of the table, and suggest the development team use the AWS Insights to make available Insights tracing of their DynamoDB calls.","correct":false},{"id":"3d69fc095075fdb4cc8e97f241e0fb76","text":"Minimise the number of separate attributes in your table by grouping for example into JSON blobs to optimise scan times.  Implement Elasticache Memcached for caching of common queries and to reduce latency on common queries.  Consider replacing certain sequential slow scan operations with parallel scans of separate segments of the table, and suggest the development team use the AWS SDK to make available X-Ray tracing of their DynamoDB calls.","correct":false},{"id":"1c8d38560c0975ffecdfff42f01c5965","text":"Minimise the number of separate attributes in your table by grouping for example into JSON blobs to optimise scan times.  Implement a DAX cluster for caching of common queries and to reduce latency on common queries.  Consider replacing certain sequential slow scan operations with parallel scans of separate segments of the table, and suggest the development team use the AWS Insights to make available Insights tracing of their DynamoDB calls.","correct":false}]},{"id":"fbc8bae9-74cb-430a-aaf3-7c16cd49f9f9","domain":"MonitoringLogging","question":"You have built a serverless Node.js application which uses Lambda, S3 and a DynamoDB database. You'd like to log some simple metrics so you can possibly graph them at a later date, or analyze the logs for faults or errors. You aren't able to install the CloudWatch Logs agent into a Lambda function however. What do you do instead?","explanation":"console.log will work perfectly in Lambda and is the easiest way to log directly to CloudWatch Logs","links":[{"url":"https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-logging.html","title":"AWS Lambda Function Logging in Node.js"}],"answers":[{"id":"32ad7a8632717703ab0efe26deafc538","text":"Use the CloudWatch Logs API, which will provide putLogEvents where you can upload logs to CloudWatch.","correct":false},{"id":"d694da5d9149fb6683cce0b6ec647e92","text":"Use an API gateway configured to log to CloudWatch Logs","correct":false},{"id":"f86fadfb6bf4f2aff4fc541fb9f962d9","text":"Use the log.console commands in Lambda, it will log your logs straight to CloudWatch Logs.","correct":false},{"id":"856b826225eea424a5e5472bb8242afa","text":"Use the console.log commands in Lambda, it will log your logs straight to CloudWatch Logs.","correct":true}]},{"id":"b299b67c-9e64-46b9-8397-b3d92e5a8e9a","domain":"SDLCAutomation","question":"You have multiple teams of developers and at the moment they all have the ability to start and stop any EC2 instance that they can see in the EC2 console, which is all of them. You would really like to implement some security measures so they can only start and stop the instances based on their cost center. What AWS features would you use to achieve this?","explanation":"You can simplify user permissions to resources by using tags and policies attached to roles. the aws:PrincipalTag is a tag that exists on the user or role making the call, and an iam:ResourceTag is a tag that exists on an IAM resource. In this case we want the CostCenter tag on the resource to match the ConstCenter tag assigned to the developer.","links":[{"url":"https://aws.amazon.com/blogs/security/simplify-granting-access-to-your-aws-resources-by-using-tags-on-aws-iam-users-and-roles/","title":"Simplify granting access to your AWS resources by using tags"}],"answers":[{"id":"d106bcfe8a672539187a3453ec7498d0","text":"Implement roles which you can assign to each resource which will allow a developer to start or stop the instance if they are also assigned to it.","correct":false},{"id":"3e3f004e8462587e3c0ee0b9692cde3b","text":"Implement EC2 policies which you can assign to each resource which will allow a developer to start or stop the instance if they are also assigned to it.","correct":false},{"id":"1597cc0291688fb61d2e070e6fefc038","text":"Implement tags and restrict access by comparing the aws:PrincipalTag and the iam:ResourceTag in a policy attached to your developer role and seeing if they match.","correct":true},{"id":"3c58e079022c3f48db6068b4e061539c","text":"Implement tags and restrict access by comparing the iam:PrincipalTag and the aws:ResourceTag in a policy attached to your developer role and seeing if they match.","correct":false}]},{"id":"0e604476-a66d-48c8-b59d-dbb5efe66d38","domain":"SDLCAutomation","question":"AWS CodeBuild is used for a project that you look after which has a known issue with its build performance. You can trace it back to an environment variable named AWS_CODEBUILD_MAX_MEM_ALLOC that is defined in multiple places. It has a value of '4096' in your build spec declaration, '2048' in the build project definition and a value of '1024' in the start build operation call. Which of the following statements is correct?","explanation":"Its value is '1024'. Do not set any environment variable with a name that starts with 'CODEBUILD_' as this prefix is reserved for internal use.","links":[{"url":"https://docs.aws.amazon.com/codebuild/latest/userguide/build-spec-ref.html","title":"Build Specification Reference for CodeBuild: Build Spec Syntax: env"}],"answers":[{"id":"a09a6c2e72b77a064358b20cbf7ffeea","text":"The value in the start build operation call takes highest precedence, followed by the value in the build project definition while the value in the build spec declaration takes lowest precedence. Therefore its value is determined as '1024'.","correct":true},{"id":"7201fd1c5d65552aba9eb7f9f1b7c846","text":"Its value is '4096' because the value in the build spec declaration takes highest precedence, followed by the value in the build project definition while the value in the start build operation call takes lowest precedence.","correct":false},{"id":"3e4a9e589e2cb112cdc5aff1387285fc","text":"The variable is undefined as the 'AWS_CODEBUILD_' prefix of its name is reserved for internal use.","correct":false},{"id":"91e162eb52d2dd94ba6973eae901a468","text":"The value of AWS_CODEBUILD_MAX_MEM_ALLOC  is '2048' as the build project definition takes highest precedence, followed by the value in the build spec declaration while the value in the start build operation call takes lowest precedence.","correct":false},{"id":"6d6b3a85646a3254ab985c43b3a11a20","text":"The value in the build project definition takes highest precedence, followed by the value in the start build operation call while the value in the build spec declaration takes lowest precedence. Because of this, its value is '2048'.","correct":false}]},{"id":"09effc45-51a5-418a-b1e5-b27430e92d3b","domain":"IncidentEventResponse","question":"Your organisation utilises Kinesis Data Streams to ingest large amounts of streaming data.  Each of the Kinesis Streams is consumed by a Java application running on multiple EC2 instances, utilising the KCL library.  The CloudWatch logs for the KCL application normally only show 'INFO' entries, but you have noticed that some errors have started to appear recently, and you need to investigate.  The errors are all of the form; \"getShard - Cannot find the shard given the shardId\" and include the ID of shard which still appears to exist.  What may have caused these errors to appear in the logs?","explanation":"This error usually appears just after a re-sharding event has completed when the consumer code is using an older version of KCL.  This appears to be caused when the KinesisProxy has a cache of shards which is not updated when leases change in the KCL DynamoDB table.  Although this error appears to have no affect on the data within the shards, it can usually be resolved by restarting the KCL consumers.","links":[{"url":"https://docs.aws.amazon.com/streams/latest/dev/building-consumers.html","title":"Reading Data from Amazon Kinesis Data Streams"},{"url":"https://docs.aws.amazon.com/streams/latest/dev/kinesis-record-processor-scaling.html","title":"Re-sharding, Scaling, and Parallel Processing"}],"answers":[{"id":"45bc1b263334c69f60939ca82c41189a","text":"These errors are caused by the shard iterator expiring before your code is ready to utilise it.","correct":false},{"id":"54eebd43d1e7d3fcae9de2fcadc3409b","text":"These errors can be seen in the Kinesis Consumer log usually after a re-sharding event and are generated by the KinesisProxy.","correct":true},{"id":"409329597050c414284e9b625163dbfe","text":"These errors are seen when in Enhanced Fan-Out mode and more than 20 consumers are registered per stream.","correct":false},{"id":"d8d212ca3330be75fe9cb3a00d49676d","text":"These errors are generated when migrating the Record Processor from version 1.x to version 2.x of the KCL.","correct":false}]},{"id":"2783a2d1-d7aa-42d9-8a75-041a2c73010e","domain":"MonitoringLogging","question":"During a compliance audit, a deficiency is identified stating that insufficient log monitoring and alarming exists for your entire application portfolio on AWS. You have workloads running on Amazon EC2 in ten different AWS accounts and in three AWS regions. Resolving the audit deficiency requires the creation of a centralized log monitoring capability for the AWS-based applications and infrastructure, and for certain on-premises systems that they interface with. You've been tasked with creating an automated solution that will satisfy the auditors. Which architecture will you implement for the solution?","explanation":"Amazon Elasticsearch is a fully managed service that lets you collect and analyze logs and metrics, giving you a comprehensive view into your applications and infrastructure, reducing mean time to detect (MTTD) and resolve (MTTR) issues. Amazon CloudWatch collects API events from CloudTrail, networking events from VPC Flow Logs, and application and system logs from EC2 instances via the CloudWatch Logs agent. Using a single CloudWatch log group ensures that system logs share the same retention, monitoring, and access control settings. Lambda functions in each account can move log data from CloudWatch into Elasticsearch for indexing and visualization with Kibana. CloudWatch log streams are sequences of events from the same source, whereas a log group is a collection of log streams. Logstash works well for collecting logs, but is usually paired with Elasticsearch for log monitoring and analysis. AWS Systems Manager agents send status and execution information back to Systems Manager, but not the application logs, which the CloudWatch Logs agents are capable of sending.","links":[{"url":"https://aws.amazon.com/cloudwatch/","title":"Amazon CloudWatch"},{"url":"https://aws.amazon.com/elasticsearch-service/","title":"Amazon Elasticsearch Service"},{"url":"https://aws.amazon.com/solutions/centralized-logging/","title":"Centralized Logging"}],"answers":[{"id":"bc1e38ce114c629b8597b80ee4242dc1","text":"Implement CloudWatch Logs agents on all EC2 instances and set up a single log stream. Also deploy CloudWatch Logs agents on the on-premises systems and send their logs to the same log stream. Configure Amazon CloudWatch Events to trigger an AWS Lambda function on a regular schedule. Have the Lambda function load AWS CloudTrail, VPC Flow Log, and CloudWatch Log data from CloudWatch in all accounts into an Amazon Elasticsearch domain in the primary account. Create Kibana dashboards to visualize log data summaries and send alerts for identified issues.","correct":false},{"id":"b1ea8cd72d3e0e0233c2c1dd38b80375","text":"Configure Logstash on an EC2 instance in an Auto Scaling Group in the primary account. Implement CloudWatch Logs agents on all EC2 instances and set up a single log group. Also install CloudWatch Logs agents on the on-premises systems and send their logs to the same log group. Create an AWS System Manager Automation document in the primary account to load AWS CloudTrail, VPC Flow Log, and CloudWatch Log data in all accounts into Logstash. Create Kibana dashboards to visualize log data summaries and send alerts for identified issues.","correct":false},{"id":"08a40cc3203d8aca0e7363189d9cff8e","text":"Install Logstash on an EC2 instance in an Auto Scaling Group in the primary account. Implement AWS Systems Manager agents on all EC2 instances and point them to Systems Manager in the primary account. Also install AWS Systems Manager agents on the on-premises systems and point them to Systems Manager in the primary account. Create an AWS Systems Manager Automation document in the primary account to load AWS CloudTrail, VPC Flow Log, and EC2 log data from all accounts into Logstash. Create Kibana dashboards to visualize log data summaries and send alerts for identified issues.","correct":false},{"id":"9dd2205bea19fc01a45c85453e73a8a0","text":"Deploy CloudWatch Logs agents on all EC2 instances and set up a single log group. Also install CloudWatch Logs agents on the on-premises systems and send their logs to the same log group. Configure Amazon CloudWatch Events to trigger an AWS Lambda function on a regular schedule. Have the Lambda function load AWS CloudTrail, VPC Flow Log, and CloudWatch Log data from CloudWatch into an Amazon Elasticsearch domain in the primary account. Use CloudWatch Events to trigger Lambda functions in each of the other accounts to send CloudWatch data to Elasticsearch in the primary account. Create Kibana dashboards to visualize log data summaries and send alerts for identified issues.","correct":true}]},{"id":"6e4406f4-c446-4f58-9533-e04e5b45eb0d","domain":"ConfigMgmtandInfraCode","question":"After many years of running co-located servers, your company has decided to move their services into AWS.  The prime reasons for doing this is to scale elastically and to define their new infrastructure as code using CloudFormation.  Your colleagues have been defining infrastructure in a test account but now they are ready to deploy into production, they are identifying some problems.  They have have attempted to deploy the main CloudFormation Template but they are seeing the following errors; 'Invalid Value or Unsupported Resource Property', 'Resource Failed to Stabilize' and when these errors are encountered, the stack fails to rollback cleanly.  Assist your team by choosing the best ways to troubleshoot these problems.","explanation":"Most of these answers are valid troubleshooting solutions for various CloudFormation issues, but there is only one answer for the problems listed in the question. 'Invalid Value or Unsupported Resource Property' errors appear only if there is a parameter naming mistake or that the property names are unsupported. 'Resource Failed to Stabilize' errors appear because a timeout is exceeded, the AWS service isn't available or is interrupted.  Finally, any update which fails to rollback could be because of a number of reasons, but the most popular is due to the deployment account having permissions to create stacks, but not to modify or delete stacks. The answer which includes all of these pieces of advice is correct.","links":[{"url":"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html","title":"Troubleshooting AWS CloudFormation"}],"answers":[{"id":"9f3b9793c5af6485de0b1b166a4e36be","text":"Ensure that your AMI has the CloudFormation helper scripts installed and that your VPC has a defined route to the Internet.  Also ensure that the user deploying the CloudFormation stack has enough permissions to modify resources.","correct":false},{"id":"c271e5866ef0c9376f5675822c410c2f","text":"Check that resources exist when specified as parameters, ensure that there is no maintenance being undertaken on any of the defined AWS services and that the user deploying the CloudFormation stack has enough permissions to modify resources.","correct":true},{"id":"7114f5881fc7b95daef2e696e207bac9","text":"Check that a DependsOn attribute has been included in the Template, and that you are not waiting for a resource which usually takes longer than the default timeout period. Finally, ensure that the user deploying the CloudFormation stack has enough permissions to create resources.","correct":false},{"id":"a577e14c499181ee450e6306c9e57820","text":"Ensure that you do not have termination protection enabled, that a DependsOn attribute has been included in the Template and that there is no maintenance being undertaken on any of the defined AWS services.","correct":false}]},{"id":"e742c07d-c719-4c53-9615-292147e77480","domain":"ConfigMgmtandInfraCode","question":"In the Amazon States Language, InputPath, Parameters, ResultPath, and OutputPath filter and control the flow of JSON from state to state. Which of the following definitions are correct?","explanation":"The definition of OutputPath and ResultPath are swapped around, i.e. an OutputPath can filter the JSON output to further limit the information that is passed to the output while the ResultPath selects what combination of the state input and the task result to pass to the output","links":[{"url":"https://docs.aws.amazon.com/step-functions/latest/dg/concepts-input-output-filtering.html","title":"Input and Output Processing in Step Functions"},{"url":"https://docs.aws.amazon.com/step-functions/latest/dg/input-output-inputpath-params.html","title":"InputPath and Parameters"}],"answers":[{"id":"84df9b15c00389ac9ecd3ba94d81a165","text":"OutputPath selects what combination of the state input and the task result to pass to the output.","correct":false},{"id":"1063b9865beb745109392a1abe5501c8","text":"ResultPath can filter the JSON output to further limit the information that is passed to the output.","correct":false},{"id":"9d857343a25dab2067293a92f66a0fbf","text":"InputPath selects which parts of the JSON input to pass to the task of the Task state.","correct":true},{"id":"cfd8d208af0b74c2e7d0fdc920690032","text":"Parameters enable you to pass a collection of key-value pairs, where the values are either static values that you define in your state machine definition, or that are selected from the input using a path.","correct":true}]},{"id":"c3e23238-408e-4b66-86f9-c652a8649dc5","domain":"MonitoringLogging","question":"Your organization deals with petabytes of data which needs to be shared with a vendor. They require full access to your private S3 buckets to perform their development work. They have extensive AWS experience already. How will you give them access?","explanation":"The best way to accomplish this is to create a cross-account IAM role with permission to access the bucket, and grant the vendor's AWS ID permission to use the role.","links":[{"url":"https://aws.amazon.com/premiumsupport/knowledge-center/cross-account-access-s3/","title":"Provide Cross-Account Access to Objects In S3 Buckets"}],"answers":[{"id":"087a96fb587651ee51b6ca0824c7b131","text":"Grant the role permission to the bucket","correct":true},{"id":"18e8d083cfe353b0d12b4ee66f546b75","text":"Create a cross-account IAM Role","correct":true},{"id":"10b2007be424d0cd17f0473bf718ef66","text":"Edit the bucket policy to allow the vendor AWS ID read access","correct":false},{"id":"c81b77222ee909b09dcad4f625bfe641","text":"Enable cross region replication","correct":false},{"id":"8f55be78212f11fd250d67174c0dc930","text":"Create an IAM Role","correct":false},{"id":"38cbb5ba1eb48a6fd20b712b0433a77d","text":"Grant permission to the vendors AWS ID in the S3 bucket policy","correct":false},{"id":"9744a37e79095f8e3ca34aadf736f9b6","text":"Grant permission to vendor AWS ID to use the role","correct":true}]},{"id":"e94bdca3-b267-4c84-8485-4e53c9319db4","domain":"ConfigMgmtandInfraCode","question":"You have an application built on docker. You would like to not only launch your docker instances at scale but load balance them as well. Your director has also enquired as to whether it is possible to build and store the containers programmatically using AWS API calls in future or if additional products are required. Which AWS services will enable you to store and run the containerized application and what do you tell the director?","explanation":"Amazon ECS and ECR are the Amazon Elastic Container Service and Registry, which will meet all of the requirements specified. It also has an API which can be used to implement your requirements.","links":[{"url":"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/Welcome.html","title":"What is Amazon Elastic Container Service? - Amazon Elastic Container Service"}],"answers":[{"id":"2786f753087512c515526c6e2f9909a3","text":"Build EC2 instances with docker using EC2 and AutoScaling and store them using AWS ECR (Elastic Container Registry). Run the containers using Autoscaling EC2. Automated container builds are not possible with AWI services and APIs however third-party build engines such as Jenkins and BuildKite will achieve your director's goal.","correct":false},{"id":"9d3a19960e725c6a8f4133c71337a88e","text":"Build containers and store them using AWS ECR (Elastic Container Registry). Run the containers using Amazon ECS. Yes automated container builds are possible with AWS CodeBuild pushing to ECR and using ECS APIs.","correct":true},{"id":"2b2965d7b7b01e772fd99e1883745cc6","text":"Build EC2 instances with docker using EC2 and AutoScaling and store them using AWS ECR (Elastic Container Registry). Run the containers on docker desktop on EC2. Yes automated container builds are possible with AWS CodeBuild pushing to ECR and using ECS APIs.","correct":false},{"id":"361a8c7414d01c019db585e4f410d8c0","text":"Build containers and store them using AWS ECR (Elastic Container Registry). Run the containers using Amazon ECS. Automated container builds are not possible with AWS services and APIs however third-party build engines such as Jenkins and BuildKite will achieve your director's goal.","correct":false}]},{"id":"85ec1f79-e327-44c4-a934-46e826ec0dd3","domain":"HAFTDR","question":"You currently run an autoscaled application which is database read heavy. Due to this, you are making use of a read replica for all application reads. It's currently running at around 60% load with your user base but you expect your company growth to double the amount of users every 6 months. You need to forward plan for this and determine methods to ensure the database doesn't become a bottleneck while still maintaining some redundancy. What is the best way to approach this issue?","explanation":"More read replicas will ease the load on your current ones, and load balancing them with a weighted routing policy will ensure they're not a single point of failure for your application.","links":[{"url":"https://aws.amazon.com/premiumsupport/knowledge-center/requests-rds-read-replicas/","title":"How can I distribute read requests across multiple Amazon RDS read replicas?"}],"answers":[{"id":"77851b21f9bb1d7557b828c6ad224a60","text":"Create more read replicas. Use a Route53 weighted routing policy to ensure the load is spread across your read replicas evenly.","correct":true},{"id":"c67fa8f440af68765fc377331fb22bb7","text":"Deploy an additional Multi-AZ RDS read replica and modify your application to use it instead.","correct":false},{"id":"17ef3669be9b09f4623719b5771bcb40","text":"Create another read replica and deploy a second autoscaled version of your application. Point it at your second read replica.","correct":false},{"id":"43d1e6030522d9685ec499098adce943","text":"Monitor your database read replica usage in CloudWatch alerts. When it's close to 90% capacity perform an online resize to a larger instance type.","correct":false}]},{"id":"fc10726c-c2c6-4c3e-a514-ef41e8e8ba30","domain":"IncidentEventResponse","question":"You work for a company who sells various branded products via their popular Website.  Every time a customer completes a purchase, streaming data is immediately sent back to your endpoint and is placed onto a Kinesis Data Stream.  Most of the year, traffic remains static and no scaling of the Stream is necessary.  However, during the Black Friday period, scaling is required and this is accomplished by increasing the KCL instances and also re-sharding the Kinesis Stream.  This year, when sharding some of the streams, it was noticed that an extra shard was left after the operation finished, and this meant that if an even number of shards was requested, the number of open shards became odd.  You have been asked to troubleshoot the issue and find the cause and resolution from the list below.","explanation":"This is an issue which occurs from time to time when re-sharding.  The difference between the StartingHashKey and EndingHashKey values is normally large (depending on the number of shards you have in the stream).  Occasionally, the difference can be a very low value such as 1 and this causes the UpdateShardCount to end up with an extra shard.  This can usually be resolved by finding the ShardID with next adjacent Hash Key value, and merging the small shard with the larger shard.","links":[{"url":"https://docs.aws.amazon.com/streams/latest/dev/introduction.html","title":"What Is Amazon Kinesis Data Streams?"},{"url":"https://docs.aws.amazon.com/streams/latest/dev/troubleshooting-consumers.html","title":"Troubleshooting Amazon Kinesis Data Streams Consumers"}],"answers":[{"id":"8d38887be863e96d47c5353c44733dd0","text":"This occurs when a producer application writes to an encrypted stream without permissions on the KMS master key. This is resolved by assigning the correct permissions to an application to access a KMS key.","correct":false},{"id":"c5d9d335c1cea4d9ab165da89fc4240f","text":"This occurs when an unhandled exception is thrown in the KCL from the processRecords code, and a record is skipped. This is resolved by handling all exceptions within processRecords appropriately.","correct":false},{"id":"0e5554f90414fbfc45af06379bc77584","text":"This occurs if a shard iterator expires immediately before you can use it.  This may be resolved by ensuring the DynamoDB storing the lease information has enough capacity to store this data, by increasing the write capacity assigned to the shard table.","correct":false},{"id":"4c33b9c64a3047658345b8abf257490c","text":"This occurs when the width of a shard is very small in size in relation to other shards in the stream. This is resolved by merging with any adjacent shard.","correct":true}]},{"id":"927aeb0d-23f7-48f5-9ca7-aa76c6403385","domain":"SDLCAutomation","question":"You are contracting for APetGuru, an online pet food store. Their website works fine, but you really want to update the look and feel to be more modern. They have given you strict guidelines that their website can not be offline at all or they will lose sales. You are thinking of using a rolling deployment so some of their servers are always online during the rollout. Just before you trigger the roll out, you receive a phone call asking if you can only install your updates on a few servers first for testing purposes. It is suggested that a few customers can be redirected to the updated site and everyone else can still use the old site until you confirm the new one is working properly. Once you're happy with the operation of the updated website, you can complete the rollout to all servers. What do you do?","explanation":"A canary deployment will allow you to complete the roll out in the way you want to.","links":[{"url":"https://d1.awsstatic.com/whitepapers/DevOps/practicing-continuous-integration-continuous-delivery-on-AWS.pdf","title":"Practicing continuous integration / continuous delivery on AWS"}],"answers":[{"id":"562add4453cef6369a9860f6a26dbe36","text":"Use a Batch Deployment. This allows you to install your new website to the small batch which traffic will be directed to, and will allow you to roll back the small batch if there's an error. Otherwise, you can complete the rollout on the large batch.","correct":false},{"id":"807b35728975296049d217f0dfbb3bc8","text":"Use an In-Place Deployment. You can deploy to the \"In-Place\" servers first for testing, then once testing is verified you can continue the deployment to the \"Out-Place\" externally facing servers.","correct":false},{"id":"a93e067980f0010b2f812e5f3eef9b9f","text":"Use a Blue/Green deployment. This allows you to install the new website to the blue servers, and once you're happy with it working you can finalise the install on the green servers. If there's an issue you can roll back the blue installation.","correct":false},{"id":"864cd30cc708bcfb524df58f775ae226","text":"Use a Canary Deployment. This allows deployment to a few servers where you can observe how the website is running while still receiving a small amount of customers. If there's an error it can be rolled back. Otherwise, the rollout will continue on new servers.","correct":true}]},{"id":"eef970b2-0cae-40bb-a9bc-a2fedbd2bc02","domain":"ConfigMgmtandInfraCode","question":"Your manager wants you to look into including and provisioning a new authentication service in your CloudFormation templates. Generally this would be simple, but the authentication service he has signed a 3 year deal with is not an AWS service at all, which could make things difficult. The authentication service has an API you can use, which will hopefully ease the pain of solving this problem. How do you solve it?","explanation":"This is an excellent use case for a CloudFormation custom resource","links":[{"url":"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html","title":"Custom Resources"}],"answers":[{"id":"6200195512a7053624054d12f6d6d0c7","text":"Provision the authentication service externally to your AWS resources. You will have to maintain them in parallel.","correct":false},{"id":"2bbfc07a49181a40ef8a9ecaefe0c6f9","text":"Use the API to provision the service with an AWS Lambda function. Use a CloudFormation wait conditions to trigger the Lambda function during the provisioning process.","correct":false},{"id":"8c7dd37aaf9be0d28c45046384cb9056","text":"Use the API to provision the service with a python script using the boto framework. Run the python script with a CloudWatch Events schedule.","correct":false},{"id":"ccb593ba89acf906fb6a643256d93f44","text":"Use the API to provision the service with an AWS Lambda function. Use a CloudFormation custom resource to trigger the Lambda function.","correct":true}]}]}}}}
