{"data":{"createNewExamAttempt":{"attempt":{"id":"0c633d41-4495-4ac3-8dea-8d5b4c94f2ed"},"exam":{"id":"0af01bf4-b8aa-41f5-b12a-e879340d02fc","title":"AWS Certified Solutions Architect - Professional Exam","duration":10800,"totalQuestions":77,"questions":[{"id":"f3efb368-9a43-4e1d-bf0a-1cf55bb918a8","domain":"awscsapro-domain4","question":"An AWS customer makes use of a wide variety of AWS services across multiple AWS regions. As the usage cost keeps increasing, the customer wants to get the detailed billing and cost information of his AWS account. In the meantime, the customer needs to quickly analyze the cost and usage data, visualize it, and share it through data dashboards so that he can get a better understanding of the billing and resource utilization. Which of the following methods would you choose?","explanation":"Users can get the billing and usage information from the AWS Cost and Usage Reports. The reports downloaded in an S3 bucket can be further processed and analyzed by QuickSight. The reports cannot be created in AWS Cost Explorer or billing dashboard. The question also asks for data visualization and dashboards. QuickSight, AWS's Business Intelligence service, is the most appropriate service for this requirement. Athena, Redshift or Elastic MapReduce are not suitable.","links":[{"url":"https://aws.amazon.com/blogs/aws/new-upload-aws-cost-usage-reports-to-redshift-and-quicksight/","title":"Upload AWS Cost & Usage Reports to QuickSight"}],"answers":[{"id":"d3ef8ffbe6a0ff9378c5e248f2f7e165","text":"Download the AWS Cost and Usage Reports from the AWS billing dashboard in an S3 bucket which is owned by the administrators. Integrate the reports with an Amazon Redshift cluster. Analyze and view the data in the Redshift data warehouse.","correct":false},{"id":"fc09f5c144565de3b8472bde413e896a","text":"Create a data pipeline that downloads the monthly cost and usage reports from AWS Cost Explorer and uploads the reports to an S3 bucket. Set up a specific billing table with Amazon Athena and analyze the billing and usage data using SQL query commands.","correct":false},{"id":"78f31d3919e8b532d502611700598d75","text":"Create the hourly AWS Cost and Usage Reports and enable the data integration with Amazon QuickSight. Analyze and visualize the data in QuickSight by creating interactive dashboards and generating custom reports.","correct":true},{"id":"36fb0d3b243e97c8ed14e32e6a2bc329","text":"Generate the billing reports from the AWS management console and upload the files to an S3 bucket. Create an Amazon Elastic MapReduce (EMR) cluster by specifying data inputs and outputs. Process the data in the cluster and generate reports for the admin IAM user.","correct":false}]},{"id":"f7e5105f-7ae9-4c04-b1e7-2d6165db236c","domain":"awscsapro-domain2","question":"You work for a specialty retail organization. They are building out their AWS VPC for running a few applications. They store sensitive customer information in two different encrypted S3 buckets. The applications running in the VPC access, store and process sensitive customer information by reading from and writing to both the S3 buckets. The company is also using a hybrid approach and has several workloads running on-premises. The on-premises datacenter is connected to their AWS VPC using Direct Connect.\nYou have proposed that an S3 VPC Endpoint be created to access the two S3 buckets from the VPC so that sensitive customer data is not exposed to the internet.\nSelect two correct statements from the following that relate to designing this solution using VPC Endpoint.","explanation":"S3 VPC Endpoint is a common topic tested in the SA-P Exam, as it enables S3 access over a private network, which is a common security requirement in many organizations. It is also a cost-effective way to establish outbound connection to S3, as the alternative is to use NAT Gateways, which are charged by the hour even if there is no traffic using them.\nOn vertical scanning of the answer choices, it should be obvious that one of the two closely worded choices is correct, and one of the other two choices is correct as well. That is because if there are 2 or 3 or 4 closely worded choices, only one (or in some rare cases, two) is correct - this is a common pattern in the SA-P test.\nFor the closely worded pair - the bucket policy of an S3 bucket will always specify who can or cannot access the bucket. It will not dictate how a VPC Endpoint behaves. Hence, the choice that suggests that a bucket policy can control a VPC Endpoint is incorrect.\nBetween the other two choices, remember that a VPC Endpoint can connect to any number of S3 buckets by default. One Endpoint for each bucket is simply not scalable, and should stand out as incorrect.\nThe remaining choice is correct because the S3 VPC Endpoint is of type Gateway Endpoint as opposed to Interface Endpoint, and a subnet needs Routes in the Routing Table for sources in the subnet to be able to connect to it. Read the links provided to understand the differences","links":[{"url":"https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies-vpc-endpoint.html","title":"Example bucket policies including ones that discuss use of sourceVpce attribute"},{"url":"https://aws.amazon.com/blogs/aws/new-vpc-endpoint-for-amazon-s3/","title":"How to set up VPC Endpoint for S3 access including Route Table for subnets accessing S3"},{"url":"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints.html","title":"VPC Endpoint documentation discussing differences between gateway endpoints and interface endpoints"}],"answers":[{"id":"55b07e707272bf499484e3f28a8fac88","text":"Bucket policies on the two S3 buckets can specify the id of each VPC Endpoint using AWS attribute sourceVpce to further restrict which VPC Endpoints can access each bucket","correct":true},{"id":"28b96a455027a61e12e57f73ae7956fc","text":"You need two VPC Endpoints, one for each S3 bucket, as a single VPC Endpoint can only access a single S3 bucket","correct":false},{"id":"19bc72413543fc85eb58b5edf43fb2db","text":"Each VPC Endpoint is a Gateway Endpoint that also requires correct routes in the Route Table associated with each subnet that wants to access the endpoint","correct":true},{"id":"96bd9d9981d98c1d98550618acedc673","text":"Bucket policies on the two S3 buckets can specify the id of each VPC Endpoint using AWS attribute sourceVpce to further restrict which S3 buckets can be accessed by the VPC Endpoint","correct":false}]},{"id":"254eeafd-1183-4117-936e-f6f7ffa9d88a","domain":"awscsapro-domain2","question":"A client is having a challenge with performance of a custom data collection application.  The application collects data from machines on their factory floor at up to 1000 records per second.  It uses a Python script to collect data from the machines and write records to a DynamoDB table.  Unfortunately, under times of peak data generation, which only last 1-2 minutes at a time, the Python application has timeouts when trying to write to DynamoDB.  They don't do any analytics on the data but only have to keep it for potential warranty issues.  They are willing to re-architect the whole solution if it will mean a more reliable process.  Which of the following options would you recommend to give them the most scalable and cost-efficient solution?","explanation":"The application is likely running into throttling when writing to DynamoDB.  Kinesis Firehose makes for a good option in this case to accommodate streaming records.  Since we do not have to perform any analytics, we can simply store it on S3 using Firehose.","links":[{"url":"https://docs.aws.amazon.com/firehose/latest/dev/what-is-this-service.html","title":"What Is Amazon Kinesis Data Firehose? - Amazon Kinesis Data Firehose"}],"answers":[{"id":"6ac1d0de8c41824a325523f050a3784e","text":"Change the application design to write the data records to EMR.  Use a Pig script to transfer the data from EMR to DynamoDB periodically.","correct":false},{"id":"80999a665ea6597ad65e91f9d4a84b3f","text":"Change the application design to use Kinesis Streams to take in the data.  Provision at least 5 shards to ensure enough peak capacity.  Configure the Kinesis Streams to load the data into DynamoDB.  Increase the RCU and WCU for the DynamoDB table to match peak needs.","correct":false},{"id":"0bd59f25e091570f7b171c3dd76b0206","text":"Change the application design to use SQS and a custom process on an EC2 spot fleet to throttle inbound messages into DynamoDB.","correct":false},{"id":"b30cd1d2aae071493c960798a422ade4","text":"Change the application design to use SWF to take in the data.  Use Amazon Elasticache in front of the DynamoDB database as a buffer to throttle the writes.","correct":false},{"id":"61f03e55a88efffb8060d5d3e07f247d","text":"Turn on DynamoDB Auto Scaling and configure appropriate upper and lower limits.","correct":false},{"id":"7e2676bbdbc658bd6a68274495e2376f","text":"Change the application design to use Kinesis to take in the data.  Use Kinesis Firehose to spool the data files out to S3.  Use S3 Lifecycle to transition the files to Glacier after a few days.","correct":true}]},{"id":"d58acd29-561d-4017-a55d-bcff8eb40f90","domain":"awscsapro-domain4","question":"Last month's AWS service cost is much higher than the previous months. You check the billing information and find that the used hours of Elastic Load Balancer (ELB) increases dramatically. You manager asks you to plan and control the ELB usage. When the ELB service has been used for over 5000 hours in a month, the team should get an email notification immediately and further actions will be taken accordingly. Which of the following options is the easiest one for you to choose?","explanation":"AWS Budgets include the types of cost budget, usage budget, reservation budget and savings plan budget. The usage budget enables you to plan the usage of ELB service and receive budget alerts when the actual usage becomes more than a threshold (5000 hours in this scenario). The cost budget type is incorrect as it evaluates the cost instead of usage and you cannot receive budget alerts from either Cost Explorer or AWS Config.","links":[{"url":"https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/budgets-managing-costs.html","title":"Managing your costs with Budgets"}],"answers":[{"id":"15fe48e7010a90e06774d9aa9668704a","text":"Create a usage budget in AWS Budgets. Check the ELB running hours for every month and set the budgeted amount to be 5000 hours. Configure an email alert or an Amazon Simple Notification Service (SNS) notification when the actual usage is more than the threshold.","correct":true},{"id":"baf09736ecf556311eb6e77579877ccd","text":"In AWS Config, monitor the usage of all ELB resources within the AWS account. Create a custom Config rule via a Lambda function that calculates the ELB usage and sends an alert message to an SNS topic when the usage is over 5000 hours.","correct":false},{"id":"0f88bd3ee9fd3724922aa89baa9f656d","text":"Launch the Cost Explorer in AWS billing dashboard, filter the EC2 ELB service and configure a CloudWatch alert to track its actual monthly usage. When the monthly ELB usage grows more than 5000 hours, raise the CloudWatch alert and notify an SNS topic.","correct":false},{"id":"39f1073c8a5f51031cb743e7cf45dce2","text":"Calculate the estimated ELB cost when the total ELB usage is 5000 hours in a month. Configure a cost budget in AWS Budgets for the EC2 ELB service and set the number as the threshold. When the cost is greater than the user-defined threshold, send an email alert to the team.","correct":false}]},{"id":"a976aaea-e25f-4b84-879b-4f4843809b1f","domain":"awscsapro-domain2","question":"You need to create several file systems in Amazon Elastic File System (Amazon EFS) for an application. The storage class of the EFS file systems is standard. The Amazon EFS mount helper has already been installed in all Amazon EC2 instances and you are going to mount EFS file systems using the mount helper. According to the company policy, all file systems should be encrypted in transit. How would you achieve this requirement for the EFS file systems?","explanation":"Amazon EFS supports two forms of encryption, encryption in transit and encryption at rest. Both types of encryption are not enabled by default. When mounting the Amazon EFS file systems with the mount helper in EC2 instances, you need to explicitly add a TLS option \"-o tls\" to enable the encryption in transit. A customer managed key (CMK) is required for the encryption at rest. However, no CMK is needed for the encryption in transit.","links":[{"url":"https://docs.aws.amazon.com/efs/latest/ug/encryption.html","title":"Encrypting Data and Metadata in EFS"}],"answers":[{"id":"164503f2e48af52368a3dc0ba046e275","text":"EFS file systems only support the encryption at rest with a KMS AWS managed key or customer managed key. Encryption in transit is not supported so that EFS file systems should not be used in this scenario.","correct":false},{"id":"d54fdbebc155feccf6b1a973a118e9f2","text":"Encryption in transit is not enabled by default. Users can enable the encryption in transit in the AWS Management Console by selecting a customer managed key in KMS. The CMK must have a key policy to allow the AWS EFS service to fetch the key.","correct":false},{"id":"26cc1a439bf3ff5489f933a0268b20f1","text":"When mounting the file systems using the Amazon EFS mount helper, enable Transport Layer Security (TLS) by adding the  \"-o tls\" option such as \"sudo mount -t efs -o tls fs-12345678:/ /mnt/efs\".","correct":true},{"id":"05ca59a3b9132178fb264eeebdaeac45","text":"EFS enables the encryption both in transit and at rest by default if the EFS file systems are mounted by the Amazon EFS mount helper. No extra actions are required.","correct":false}]},{"id":"a7c939f1-277e-469f-a209-9b290e8136c9","domain":"awscsapro-domain5","question":"Your company has contracted with a third-party Security Consulting company to perform some risk assessments on existing AWS resources.  As part of a routine list of activities, they inform you that they will be launching a simulated attack on one of your EC2 instances.  After the Security Group performed all their activities, they issue their report.  In their report, they claim that they were successful at taking the EC2 instance offline because it stopped responding soon after the simulated attack began.  However, you're quite certain that machine did not go offline and have the logs prove it.  What might explain the Security company's experience?","explanation":"AWS Shield and other counter-measure technologies work to protect all AWS customers from DDoS attacks.  Unless AWS was aware of the test time and expected duration, its likely the traffic was blocked as suspicious.  AWS Firewall Manager is used to manage WAF ACLs and not dynamically blacklist IPs.  Similarly, VPC Flow Logs cannot automatically implement NACL changes as described here. Despite being a permitted service, traffic suspected of being malicious will still be blocked","links":[{"url":"https://aws.amazon.com/premiumsupport/knowledge-center/penetration-testing/","title":"Submit a Penetration Testing Request"}],"answers":[{"id":"82a05cb45adab6d248655e827de16c6f","text":"AWS Firewall Manager is dynamically adding a blacklist entry for the Security Company's testing machine because it sees the traffic as a threat.","correct":false},{"id":"e3facacbe52b6423f9cf2e700d8e0b81","text":"The Security Company's traffic was seen as a threat and blocked dynamically by AWS.  AWS must grant permission before any penetration testing is done.","correct":true},{"id":"7d4826f179b8dc854c9cfb6e43678373","text":"The VPC Flow Logs record the spike in suspicious traffic and implement an update to the inbound NACL to block the remote IP address.","correct":false},{"id":"f3f963b71e307f8c28109631df115418","text":"The EC2 instance is using an ENI and the Security Company temporarily exceeded the throughput limit resulting in a throttling of their connection.","correct":false}]},{"id":"f7d7767b-9159-4e53-8e37-ff9bf41ace17","domain":"awscsapro-domain5","question":"You are working with a client to help them design a future AWS architecture for their web environment.  They are open with regard to the specific services and tools used but it needs to consist of a presentation layer and a data store layer.  In a brainstorming session, these options were conceived.  As the consulting architect, which of these would you consider feasible?","explanation":"The only two options which contain feasible options are the Beanstalk and S3/Dynamo methods.  One would not create a new K8s deployment for for a new web update.  CodeBuild and AWS Config are not the correct tools for how they are being suggested.","links":[{"url":"https://aws.amazon.com/codebuild/","title":"AWS CodeBuild – Fully Managed Build Service"}],"answers":[{"id":"d6a73928290b05c25d87e26ece9e94a6","text":"Create a monolithic architecture using Elastic Beanstalk configured in the console.  Create an RDS instance outside the Beanstalk environment and configure it for multi-AZ availability.  When a new landscape change is required, use a command line script to implement the change.","correct":true},{"id":"f5c7f9be39386b15747c0fe57d5040ba","text":"Deploy Kubernetes on an auto-scaled group of EC2 instances.  Define pods to represent the multiple tiers of the landscape.  Use ElastiCache for Memcached to offload queries from a Multi-AZ RDS instance.  To deploy changes to the landscape, create a new EKS deployment containing all the updated service containers and deploy them to replace all the previous existing tiers.  Ensure the DevOps team understands the rollback procedures.","correct":false},{"id":"01a7f4c09f65e41884b0a72843a8d55b","text":"Deploy an auto scaling group of EC2 instances behind an Application Load Balancer.  Provision a Mulit-AZ RDS instance to act as the data store, configuring a caching layer to offload queries from the database.  Use a User Script in the AMI definition to download the latest web assets from S3 upon boot-up.  When changes are required, use AWS Config to automatically fetch a new version of web content from S3 when a new version is created.","correct":false},{"id":"ca4cc92538f3b73d221c9b5d4378e1f8","text":"Setup a traditional three tier architecture with a CloudFormation template per tier and one master template to link in the others.  Configure a CodeBuild stack and set this stack to perform automated Blue Green deployments whenever any code change is made.","correct":false},{"id":"c27a151a7715575fb1ebf0225c6aee09","text":"Use the AngularJS framework to create a single-page application.  Use the API Gateway to provide public access to DynamoDB to serve as the data layer.  Store the web page on S3 and deploy it using CloudFront.  When changes are required, upload the new web page to S3.  Use S3 Events to trigger a Lambda function which expires the cache on CloudFront.","correct":true}]},{"id":"d8bfc54e-024a-4fbb-9daa-9a218a10b738","domain":"awscsapro-domain5","question":"Your company has an Inventory Control database running on Amazon Aurora deployed as a single Writer role. Over the years more departments have started querying the database and you have scaled up when necessary.  Now the Aurora instance cannot be scaled vertically any longer, but demand is still growing.  The traffic is 90% Read based.  Choose an option from below which would meet the needs of the company in the future.","explanation":"This question is about scaling, and if you have scaled up to the maximum level (db.r4.16xlarge) the next step is to consider scaling out.  In this case the application is Read heavy, which lends itself perfectly to adding extra Read replicas and using Read-Write splitting to help future growth.  Changing the max_connections value or using Query plan optimisation may make performance more efficient, but they are not long term solutions. Adding Multi-AZ simply adds High Availability.","links":[{"url":"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/Aurora.Managing.Performance.html","title":"Managing Performance and Scaling for Aurora DB Clusters"},{"url":"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/aurora-replicas-adding.html","title":"Adding Aurora Replicas to a DB Cluster"}],"answers":[{"id":"15cd367246a8991991de371856908334","text":"Create multiple additional Readers within the Aurora cluster and alter the application to make use of Read-Write splitting","correct":true},{"id":"c6229282cfe5ed1024d22e629709b94d","text":"Increase the maximum number of connections into the database by changing the max_connections parameter","correct":false},{"id":"ce644fa65dde55c85ae051c5081ba860","text":"Use Query plan management to allow the optimizer to choose the most efficient plan for each job and make transactions quicker","correct":false},{"id":"d1fe9035612273c2d0c6b9f4229e1d3d","text":"Convert Aurora to a Multi-AZ Deployment in three or more zones","correct":false}]},{"id":"580790f0-3491-4b4c-a9b8-42b36a787cf5","domain":"awscsapro-domain2","question":"A new project needs a simple, scalable Amazon Elastic File System (EFS) to be used by several Amazon EC2 instances located in different availability zones. The EFS file system has a mount target in each availability zone within a customized VPC. You have already attached a security group to EC2 instances that allows all outbound traffic. In the meantime, how would you configure the EFS volume to allow the ingress traffic from these EC2 instances?","explanation":"EC2 instances connect to the Amazon EFS file system through the mount targets using the Network File System (NFS) port. The mount targets use a security group to control the access from EC2 instances. It should have an inbound rule to allow the NFS port (TCP:2049). The source of the security group would be the EC2 security group rather than the VPC CIDR. Either IAM role or network ACL cannot be used to control inbound access to an EFS system.","links":[{"url":"https://docs.aws.amazon.com/efs/latest/ug/network-access.html","title":"Security Groups for Amazon EC2 Instances and EFS Mount Targets"}],"answers":[{"id":"0fb49dc49facb19b17db23bdff392a1d","text":"Configure a new security group to allow inbound traffic from the VPC CIDR IP range such as 10.10.0.0/16. Associate the security group with the EFS file system directly to allow the ingress traffic from EC2 instances in the VPC.","correct":false},{"id":"10fa29df072c2421e53a66048a92cbe3","text":"Make sure the attached IAM role in EC2 instances has the \"elasticfilesystem:*\" permission. The ingress traffic in the EFS volume is automatically allowed if the IAM role has enough permissions to interact with Elastic File Systems.","correct":false},{"id":"b346d4a177db41a1cfb51b80ae95708a","text":"Add an inbound rule in the network ACL to allow the ingress traffic from the NFS TCP port 2049. The source of the rule should be 0.0.0.0/0. Apply the network ACL in all the subnets where the EFS mount targets exist.","correct":false},{"id":"070a2bfc6b40165751997ed4d5d4e295","text":"Attach a security group to the mount targets in all availability zones. Allow the NFS port 2049 for its inbound rule. Identify the EC2 security group name as the source in the rule of the security group.","correct":true}]},{"id":"49f16801-2cc1-48c8-a517-f9192f516318","domain":"awscsapro-domain3","question":"A tire manufacturing company needs to migrate a .NET simulation application to the AWS cloud. The application runs on a single Windows Application Server in their datacentre. It reads large quantities of data from local disks that are attached to the on-premises Application Server. The output from the application is small in size and posted in a queue for downstream processing. On the upstream side, the data acting as the input for the .NET simulation app is generated in the tire-testing Lab during the daytime by processes running on a Linux Lab Server. This data is then copied from the Linux Lab Server to the Windows Application Servers by a nightly process that also runs on the Linux Lab Server. This nightly process mounts the Application Server disks using a Samba client, this is made possible by the Application Server also acting as a Windows File Share Server. When the nightly process runs, it overwrites the input data from last night because of disk space constraint on the Application Server. This is undesirable as the data is permanently lost on a daily basis.\nThe migration is being undertaken because the .NET simulation application needs more CPU and RAM. The company does not want to spend on expensive hardware any more. However, the nightly process is not migrating, nor is the Linux Lab Server. The code of the simulation applications, as well as the nightly process, may change a little as a result of the migration, but leadership wants to keep these changes to a minimum. They also want to stop losing the daily test data and keep it somewhere for possible analytical processing later on.\nAs the AWS architect hired to shepherd this migration and many more possible migrations in the future, which of the following architectures would you choose as the best one, considering the minimization of code changes as the topmost goal, followed by cost-effectiveness as the second but important priority? The data has no security requirement.","explanation":"The two parts of this question are - (a) Do I use EFS or EBS for storing the data from the Lab Servers? (b) Do I copy data from each night to S3 using a NAT Gateway (thereby using the public internet) or a VPC Endpoint (thereby using the private network to copy)?\nThe answer to the first question is EBS because Windows EC2 instances cannot mount EFS, as EFS only supports Linux EC2 instances.\nThe answer to the second question is VPC Endpoint because NAT Gateways are very costly - they are charged 24-7 for just running, in addition to having data transfer rates. S3 VPC Endpoints are a cost-effective mechanism to copy data to S3. Note that the S3 put-object cost will be the same for both cases. The question tries to distract the candidate by stating that there is no security requirement, trying to confuse the candidate into selecting NAT Gateway in case they perceive the only distinction between NAT Gateway and S3 VPC Endpoint to be the usage of public network versus private.\nThis is an example of highly verbose question describing a complex scenario. There will definitely be quite a few such questions in the AWS SA-P exam that are challenging in terms of time management. You may use vertical scanning of the answer choices to spot the differences first. That way, you can focus on determining which of the variations is correct because you would know what is different between them.","links":[{"url":"https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/AmazonEFS.html","title":"EFS Support for Windows EC2 Instances"},{"url":"https://aws.amazon.com/vpc/pricing/","title":"Search for NAT Gateway Pricing here"}],"answers":[{"id":"220d73c7cceb53661a402d59038118ee","text":"Use Windows EC2 instances for running the simulation applications. Store the data from the on-premises Lab Servers in AWS Elastic File System (EFS), modifying the nightly process to use an NFS client instead of Samba client. Create a VPN connection between on-premises and AWS so that the nightly process can access the EFS share. Also, modify the simulation application to move the data each night, after the calculations are complete, to an S3 bucket using a NAT Gateway, deleting it from its own disks after the copy is complete. Modify the nightly application to skip deleting data from last night as the data would have already moved to S3 by the time it runs.","correct":false},{"id":"c7311a2612bfc63a966317d468a5b4dd","text":"Use Windows EC2 instances for running the simulation applications. Store the data from the on-premises Lab Servers in AWS Elastic File System (EFS), modifying the nightly process to use an NFS client instead of Samba client. Create a VPN connection between on-premises and AWS so that the nightly process can access the EFS share. Also, modify the simulation application to move the data each night, after the calculations are complete, to an S3 bucket using an S3 VPC Endpoint, deleting it from its own disks after the copy is complete. Modify the nightly application to skip deleting data from last night as the data would have already moved to S3 by the time it runs.","correct":false},{"id":"fabdb7e05e5bb1c78dd6e166134202ca","text":"Use Windows EC2 instances for running the simulation applications. Mount general purpose EBS disks on each of these instances to store the data from Lab Servers. Create a VPN connection between on-premises and AWS so that the nightly process can access the EBS disks the same way it accesses the Application Server Disks currently. Also, modify the simulation application to move the data each night, after the calculations are complete, to an S3 bucket using a NAT Gateway, deleting it from its own disks after the copy is complete. Modify the nightly application to skip deleting data from last night as the data would have already moved to S3 by the time it runs.","correct":false},{"id":"3ae5ae41663ec801882e10e7fa394613","text":"Use Windows EC2 instances for running the simulation applications. Mount general purpose EBS disks on each of these instances to store the data from Lab Servers. Create a VPN connection between on-premises and AWS so that the nightly process can access the EBS disks the same way it accesses the Application Server Disks currently. Also, modify the simulation application to move the data each night, after the calculations are complete, to an S3 bucket using an S3 VPC Endpoint, deleting it from its own disks after the copy is complete. Modify the nightly application to skip deleting data from last night as the data would have already moved to S3 by the time it runs.","correct":true}]},{"id":"e24f7f76-6908-4ad9-820a-11790bfdcec6","domain":"awscsapro-domain3","question":"You are helping a client migrate over an internal application from on-prem to AWS.  The application landscape on AWS will consist of a fleet of EC2 instances behind an Application Load Balancer.  The application client is an in-house custom application that communicates to the server via HTTPS and is used by around 40,000 users globally across several business units.  The same exact application and landscape will be deployed in US-WEST-2 as well as EU-CENTRAL-1.  Route 53 will then be used to redirect users to the closest region.  When the application was originally built, they chose to use a self-signed 2048-bit RSA X.509 certificate (SSL/TLS server certificate) and embedded the self-signed certificate information into the in-house custom client application.  Regarding the SSL certificate, which activities are both feasible and minimize extra administrative work?","explanation":"You can import private certificates into Certificate Manager and assign them to all the same resources you can with generated certificates, including an ALB.  Also note that Certificate Manager is a regional service so certificates must be imported in each region where they will be used.  The other options in this question would either require you to update the certificate on the client or requires unnecessary steps to resolve the challenge.","links":[{"url":"https://docs.aws.amazon.com/acm/latest/userguide/import-certificate.html","title":"Importing Certificates into AWS Certificate Manager - AWS Certificate  Manager"}],"answers":[{"id":"0663551d15f5b15af587ac8bf75a2566","text":"Purchase a new public SSL/TLS certificate from a third-party CA.  Upload the certificate to Certificate Manager and assign that certificate to the Application Load Balancers.","correct":false},{"id":"d4976a6c33ee189e6b681dffc83cbac5","text":"Import the existing certificate and private key into Certificate Manager in both regions.  Assign that imported certificate to the Application Load Balancers using their respective regionally imported certificate.","correct":true},{"id":"0c4320d1dd787a5bae2b43479b645d94","text":"Use Service Catalog to push an update of the in-house app which includes an updated certificate and CA chain.  Generate a new private certificate using OpenSSL. Import the new certificate to Certificate Manager in US-EAST-1.  Assign the new certificate to the Application Load Balancers in all regions.","correct":false},{"id":"28694bd7f280694a43741563f6933ad6","text":"Create a new public SSL/TLS certificate using Certificate Manager and configure the common name and OU to match the existing certificate.  Assign the new certificate to the Application Load Balancers in all regions.","correct":false},{"id":"111997579381183b07a22fad8574e76c","text":"Create a new Certificate Authority within Certificate Manager and import the existing certificate.  Generate a new certificate, CA chain and private key and push an update for the application.  Assign the new certificate to the Application Load Balancers in all regions.","correct":false}]},{"id":"374fde7d-232a-4cfe-b5d6-7755d564c6ca","domain":"awscsapro-domain1","question":"You are consulting for a company that has decided to partially migrate some resources to AWS from their two data centers (DC1 and DC2).  Their first order of business is to design a robust, redundant and cost-effective network connection between their data centers and AWS.  They already have redundant links between DC1 and DC2.  Which of the following architectures provides the highest availability at the least cost?","explanation":"A common and cost effective way to provide a redundant link to AWS with Direct Connect is a VPN connection.  In the event that the Direct Connect path fails at DC1, your on-prem router can redirect traffic over the VPN at DC2 via the DC1-DC2 link.  Having dual Direct Connect links is definitely redundant but more expensive than a VPN.","links":[{"url":"https://aws.amazon.com/answers/networking/aws-multiple-data-center-ha-network-connectivity/","title":"Multiple Data Center HA Network Connectivity – AWS Answers"}],"answers":[{"id":"77c9fb7459e1b19f6f655d63556016e8","text":"Configure a Direct Connect connection from DC1 to a Virtual Private Gateway on AWS.  Setup a VPN connection from DC2 to a Virtual Private Gateway on AWS.  Configure a dynamic route across DC1 and DC2 for both paths with a route priority favoring the Direct Connect path to AWS.","correct":true},{"id":"425adb8435a7c170eef3698fa729f5ea","text":"Configure a Direct Connect connection from both DC1 and DC2 to a Virtual Private Gateway on AWS. Configure a default route in both DC1 and DC2 to route traffic to the local Direct Connect link.","correct":false},{"id":"abd8b38f393b6a0d0b42f68dca5ec24d","text":"Configure a Direct Connect connection from both DC1 and DC2 to a Virtual Private Gateway on AWS. Configure BGP to dynamically route traffic across the nearest Direct Connect link.","correct":false},{"id":"bcac2f1d84c5f367ede3342f0adda492","text":"Ensure that DC1 and DC2 have separate ISPs.  Setup VPN connections from DC1 and DC2 to a Virtual Private Gateway on AWS.  Create static routes at each DC to use the local VPN to AWS.  Use CloudTrail to monitor traffic on the Virtual Private Gateway and trigger a script to update the static route if one of the VPN connections goes down.","correct":false}]},{"id":"9624e171-081f-43e5-a74c-b4b792676b63","domain":"awscsapro-domain2","question":"A connected home solutions company is creating a central console to manage smart home environments. Some of the capabilities needed include capturing device telemetry data, making that data available to query from client applications, alerting on undesirable device situations, and providing device analytics. The company has decided to run the console's application backend on AWS. Devices will communicate with the console via MQTT protocol. Which architecture will provide the best scalability and the highest operational efficiency for the smart home console?","explanation":"AWS IoT Core provides all the capability needed to create a smart home console. IoT rules can be configured to send device messages to DynamoDB for client application querying, and to send device messages to IoT Events for alerting and notification. IoT Analytics is fully integrated with IoT Core to receive messages from connected devices as they stream in. These are all managed services which maximize operational efficiency. AWS IoT Greengrass can perform all the required functions, but must run on a local device, which may not be desirable to customers since another piece of hardware would need to be acquired. Amazon Athena cannot query from DynamoDB directly. IoT Events and IoT Analytics are IoT-centric services which will be better solutions than CloudWatch Events and Amazon Redshift.","links":[{"url":"https://aws.amazon.com/iot-core/","title":"AWS IoT Core"},{"url":"https://docs.aws.amazon.com/iotevents/latest/developerguide/what-is-iotevents.html","title":"What is AWS IoT Events?"},{"url":"https://docs.aws.amazon.com/iotanalytics/latest/userguide/welcome.html","title":"What Is AWS IoT Analytics"},{"url":"https://d1.awsstatic.com/architecture-diagrams/ArchitectureDiagrams/connected_home_telemetry_ra.pdf?did=wp_card&trk=wp_card","title":"Measuring and collecting data from smart home devices"}],"answers":[{"id":"1e93269720ca34bcc18e1d67c5ccee18","text":"Implement AWS IoT Core to receive MQTT messages from the devices. Create an IoT rule to store the device messages in Amazon DynamoDB. Make an Amazon API Gateway API available to client applications. Have API Gateway invoke an AWS Lambda function to query DynamoDB. Create a second IoT rule in IoT Core to forward telemetry information to AWS IoT Events. Publish to Amazon Simple Notification Service topics when device issues are identified by IoT Events. Have AWS IoT Analytics receive device messages from IoT Core for visualization with Amazon QuickSight.","correct":true},{"id":"518de0ee58995da859fef3f8b0108750","text":"Implement AWS IoT Greengrass to receive MQTT messages from the devices. Create Lambda functions on IoT Greengrass to send device information to Amazon DynamoDB, Amazon CloudWatch Events, and AWS IoT Analytics. Make an Amazon API Gateway API available to client applications. Have API Gateway invoke a Lambda function to query DynamoDB. Publish to Amazon Simple Notification Service topics when device issues are identified by CloudWatch Events. Send IoT Analytics summaries to Amazon QuickSight for visualization.","correct":false},{"id":"678fa8ab5656d7f8a5fd360c0cbb3586","text":"Implement AWS IoT Core to receive MQTT messages from the devices. Create an IoT rule to store the device messages in Amazon DynamoDB. Have client applications use Amazon Athena to query DynamoDB. Create a second IoT rule in IoT Core to forward telemetry information to AWS IoT Events. Publish to Amazon Simple Notification Service topics when device issues are identified by IoT Events. Have AWS IoT Analytics receive device messages from IoT Core for visualization with Amazon QuickSight.","correct":false},{"id":"d70e3ad71c36d95078725805fcfaebf8","text":"Implement AWS IoT Greengrass to receive MQTT messages from the devices. Create Lambda functions on IoT Greengrass to send device information to Amazon DynamoDB and Amazon CloudWatch Events. Have client applications use Amazon Athena to query DynamoDB. Publish to Amazon Simple Notification Service topics when device issues are identified by CloudWatch Events. Use an AWS Glue job to aggregate the device information in DynamoDB and write summaries to Amazon Redshift. Create visualizations of the Redshift summaries in Amazon QuickSight.","correct":false}]},{"id":"baf2349f-71ba-4583-bfe6-31fb5a555bbd","domain":"awscsapro-domain5","question":"The information security group at your company has implemented an automated approach to checking Amazon S3 object integrity for compliance reasons. The solution consists of scripts that launch an AWS Step Functions state machine to invoke AWS Lambda functions. These Lambda functions will retrieve an S3 object, compute its checksum, and validate the computed checksum against the entity tag checksum returned with the S3 object. However, an unexpected number of S3 objects are failing the integrity check. You discover the issue is with objects that where uploaded with S3 multipart upload. What would you recommend that the security group do to resolve this issue?","explanation":"For S3 objects, the entity tag (or ETag) contains an MD5 hash of the object in most cases. But if an object is created by either the Multipart Upload or Part Copy operation, the ETag is not an MD5 digest of the object. The ETag value returned by S3 for objects uploaded using the multipart upload API is computed differently than for objects uploaded with PUT object, and does not represent the MD5 of the object data. The checksum for an object created via multipart upload can be stored in a custom metadata parameter for later integrity checks. The Content-MD5 metadata parameter can not be modified by a user after the object has been created. The complete-multipart-upload API does not have an md5-rehash parameter. The list-multipart-uploads API will only return information about the multipart upload while the upload is running.","links":[{"url":"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuoverview.html","title":"Multipart Upload Overview"},{"url":"https://aws.amazon.com/solutions/serverless-fixity-for-digital-preservation-compliance/?did=sl_card&trk=sl_card","title":"Serverless Fixity for Digital Preservation Compliance"},{"url":"https://aws.amazon.com/premiumsupport/knowledge-center/s3-multipart-upload-cli/","title":"How do I use the AWS CLI to perform a multipart upload of a file to Amazon S3?"}],"answers":[{"id":"fe2f446e0e84bb45be4130b327b8b47b","text":"When performing S3 multipart uploads, calculate the checksum of the source file and store it in a custom metadata parameter. Have the Lambda function that compares checksums use the custom metadata parameter if it's present instead of the entity tag checksum. Reload all objects that were written with multipart upload that need to be included in the integrity check.","correct":true},{"id":"df361f3568504f0db56ea3faddc6928a","text":"For all S3 objects created with multipart upload, retrieve the object, compute it's checksum, and store the value in the Content-MD5 metadata parameter. Have the Lambda function that validates checksums use the Content-MD5 metadata parameter if it's present instead of the entity tag checksum.","correct":false},{"id":"2a27b97da81e5d7f237719319a3d85fc","text":"When performing S3 multipart uploads, after all upload-parts API calls have been made, call the complete-multipart-upload API and include the md5-rehash parameter to reset the entity tag checksum to the sum of the parts. Reload all objects that were written with S3 multipart upload that need to be included in the integrity check.","correct":false},{"id":"15ca1d17e48531d75eda4298140756e6","text":"In the Lambda function that retrieves the objects, if the object was created with a multipart upload, call the list-multipart-uploads API and retrieve each part of the multipart upload along with the entire object. In the Lambda function that computes checksums, compute the checksum of each part along with the checksum of the entire object. In the Lambda function that validates checksums, compare the sum of the checksum parts to the checksum for the entire object.","correct":false}]},{"id":"dac73d1f-8c64-48b1-90be-3432e789933d","domain":"awscsapro-domain2","question":"Your company is bringing to market a new Windows-based application for Computer Aided Manufacturing.  As part of the promotion campaign, you want to allow users an opportunity to try the software without having to purchase it.  The software is quite complex and requires specialized drivers so it's not conducive to allowing the public to download and install in their own systems.  Rather you want to control the installation and configuration.  Therefore, you want something such as a VDI concept.  You'll also need to have a landing page as well as a custom subdomain (demo.company.com) and limit users to 1 hour of use at a time to contain costs.  Which of the following would you recommend to minimize cost and complexity?","explanation":"AppStream is a way to deploy an application on a virtual desktop and allow anyone with a browser to use the application.  This is the most efficient and simplest option given the other choices.","links":[{"url":"https://docs.aws.amazon.com/appstream2/latest/developerguide/what-is-appstream.html","title":"What Is Amazon AppStream 2.0? - Amazon AppStream 2.0"}],"answers":[{"id":"9b85d56999fa276cfa4a01df8195700c","text":"Create a landing page in HTML and deploy to an S3 bucket configured as a Static Web Host.  Embed in the HTML a Javascript-based RDP client that is downloaded with the webpage.  Create a CloudFront distribution with the S3 bucket as the origin.  Use an S3 Event to launch a Lambda function which starts up an EC2 instance with your golden AMI.  Once the instance is up and running, use a web socket call from the Lambda function to initiate the RDP client and log the user in.  After 1 hour, have the Lambda function issue a shutdown command to the EC2 instance.","correct":false},{"id":"bdc9c29dcecb6611cd71c4660fc235ca","text":"Deploy your application as an app in the Workspaces Application Manager.  Spin up several Workspaces and configure them to automatically install your application via WAM. Create the landing page such that it redirects to the web client for Workspaces and deploy the landing page via S3 configured as a web host.  Use Route 53 to create a DNS record for the demo subdomain as an alias record for the S3 bucket.  Configure the Workspaces for a 1 hour timeout.  ","correct":false},{"id":"129d13b81f52a8ab01ce9e8ea7009289","text":"Create a landing page in HTML and deploy to an S3 bucket configured as a Static Web Host.  Use Route 53 to create a DNS record for the \"demo\" subdomain as alias record for the S3 bucket.  Deploy your application using Amazon AppStream.  Set Maximum Session Duration for 1 hour.","correct":true},{"id":"a1c67181ea5765383a7b477e821391b4","text":"Configure an EC2 auto scaling fleet of spot instances with your golden AMI.  Create security groups to allow inbound RDP for the auto scaling group.  Deploy Apache Guacamole on an EC2 instance and place your landing page in its web server directory.  Use Guacamole to provide an RDP session into one of the EC2 instances directly in the users browser.  Use AWS Batch to reboot the EC2 instances after 1 hour of runtime.  ","correct":false}]},{"id":"29e18988-677f-4ce3-b70b-8c0ef6b45824","domain":"awscsapro-domain2","question":"You have a domain name (example.net) registered in an AWS Route53 hosted zone. You deploy multiple servers in different regions and each server has an elastic IP address. DNS record sets need to be created in Route53 for \"www.example.net\". You would like to return multiple IP addresses in response to DNS queries. Every IP address should have a custom health check and Route53 only replies to DNS queries with healthy IPs. Which of the following Route53 policy configuration should you use to achieve this?","explanation":"In this question, Route53 needs to return multiple IP addresses in response to DNS queries and each record should have a health check. The most suitable routing policy is Multivalue Answer. The traffic would be routed randomly to multiple resources. You cannot attach a health check to a Simple routing policy record. As the question does not mention the requirements of allocating weights or active-passive failover, Weighted Routing or Failover routing is inappropriate.","links":[{"url":"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy.html#routing-policy-latency","title":"Choosing a routing policy"}],"answers":[{"id":"06487f00d062ca6482a44ed515d0622c","text":"Create one primary record and one secondary record with the Failover routing policy. Allocate the same number of IP addresses to each record. Associate health checks to them. If the health check of the primary record fails, the traffic goes to the secondary record automatically.","correct":false},{"id":"0b677fa1dbbeff3e55c5c27829133156","text":"Create several records in Route53 for \"www.example.net\". Configure separate health checks in Route53 and attach them to the new records. Choose Weighted Routing policy and allocate the same weight in the records.","correct":false},{"id":"a3fe29a9c966b12721c6ec7b57ebd146","text":"Configure a single record that contains multiple elastic IP addresses. The record has a Simple Routing policy and a health check is attached to the record. Route53 returns all healthy values to the resolver in random order.","correct":false},{"id":"565f475081d62dee89690c5bca688fc1","text":"Configure several Multivalue Answer routing policy records for \"www.example.net\". Each record has an IP address as its value and is associated with a Route53 health check. Clients only receive a DNS response that is reachable.","correct":true}]},{"id":"2d9a7fba-ee40-4128-8f36-b32ef55ce662","domain":"awscsapro-domain3","question":"You have just been informed that your company's data center has been struck by a meteor and it is a total loss.  Your company's applications were not capable of being deployed with high availability so everything is currently offline.  You do have a recent VM images and DB backup stored off-site.  Your CTO has made a crisis decision to migrate to AWS as soon as possible since it would take months to rebuild the data center.  Which of the following options will get your company's applications up and running again in the fastest way possible?","explanation":"The Server Migration Service uses the Server Migration Service Connector which is an appliance VM that needs to be loaded locally in vCenter.  We don't have a VMware system...only a backup of an image so this won't work.  The best thing we can do is import the VM and restore the database.","links":[{"url":"https://docs.aws.amazon.com/server-migration-service/latest/userguide/prereqs.html","title":"Server Migration Service (SMS) Requirements - AWS Server Migration Service"},{"url":"https://aws.amazon.com/ec2/vm-import/","title":"VM Import/Export"}],"answers":[{"id":"364a256b0572da0bd43823d35b22e01d","text":"Call your data communications provider and order a Direct Connect link to your main office.  Order a Snowball Edge to serve as a mobile data center.  Restore the VM image to the Snowball Edge device as an EC2 instance.  Restore the backup to an RDS instance on the Edge device.  When the Direct Connect link is installed, use that to smoothly migrate to AWS.","correct":false},{"id":"c3692f609e87c0dc0416f0ad05897b3f","text":"Explain to company stakeholders that it is not possible to migrate from the backups directly to AWS.  Recommend that we first find a co-location site, procure similar hardware as before the disaster and restore everything there.  Then, we can carefully migrate to AWS.","correct":false},{"id":"e50f3fc14c0feac5ff24b30bf605d687","text":"Use Server Migration Service to import the VM into EC2.  Use DMS to restore the backup to an RDS instance on AWS.","correct":false},{"id":"af2dfb68e123596c40e5014f3e8dc491","text":"Copy the VMs into AWS and create new AMIs from them.  Create a clustered auto scaling group across multiple AZs for your application servers.  Provision a multi-AZ RDS instance to eliminate the single-point-of-failure problem.  Restore the data from the backups using the database admin tools.","correct":false},{"id":"b8015467f854fe29575bd8fd26c819a5","text":"Use VM Import to upload the VM image to S3 and create the AMI of key servers.  Manually start them in a single AZ.  Stand-up a single AZ RDS instance and use the backup files to restore the database data.","correct":true}]},{"id":"af6501cb-5a69-4af7-a5e7-cf03d6ce09c1","domain":"awscsapro-domain1","question":"As an AWS Solutions Architect, you are responsible for the configuration of your company's Organization in AWS. In the Organization, the Root is connected with two Organizational Units (OUs) called Monitor_OU and Project_OU. Monitor_OU has AWS accounts to manage and monitor AWS services. Project_OU has another two OUs as its children named Team1_OU and Team2_OU. Both Team1_OU and Team2_OU have invited several AWS accounts as their members. To simplify management, all the AWS accounts under Team1_OU and Team2_OU were added with a common administrative IAM role which is supposed to be used by EC2 instances in their accounts. For security concerns, this role should not be deleted or modified by users in these AWS accounts. How would you implement this?","explanation":"The requirement of this scenario is that the IAM role should not be modified by IAM principals in Team1_OU and Team2_OU. The best place to implement this is in SCP as it provides central management. Since Team1_OU and Team2_OU can inherit the SCP policy from Project_OU, only Project_OU needs to attach the SCP that denies the action. In the meantime, the Root should have a default full access policy. It is improper to use IAM policies or Permissions Boundary to achieve this requirement as they may be easily changed at a later stage by other IAM users, and it is also complicated to implement if there is a large number of IAM principals.","links":[{"url":"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scp.html","title":"How SCP works in AWS Organization?"}],"answers":[{"id":"77abf7e62575051a27444694461acccd","text":"The nodes of Root, Project_OU and Monitor_OU in the Organization should allow all actions. For AWS accounts in Team1_OU and Team2_OU, attach an IAM policy that denies modifying the IAM role to IAM users, groups and roles.","correct":false},{"id":"e5acb8782282566185828b0ca39813fc","text":"Configure a new SCP policy to prevent IAM principals from deleting or modifying the IAM role. Attach the SCP policy to Project_OU, Team1_OU and Team2_OU. Configure a default full access SCP policy to Monitor_OU.","correct":false},{"id":"46f9090f957b494e2e0075ceef9bac8b","text":"For the AWS accounts in Team1_OU and Team2_OU, configure a Permissions Boundary in IAM principals to prevent them from making modifications to this particular IAM role. As a result, all IAM principals will not have IAM policies to potentially change the role.","correct":false},{"id":"f868081ae3429a7ed8318636537ec834","text":"Make sure that Root node has a SCP policy that allows all actions. Create a SCP policy that restricts IAM principals from changing this particular IAM role. Attach the SCP policy to Project_OU.","correct":true}]},{"id":"edf9ffa9-02ec-4341-a179-577cd590543e","domain":"awscsapro-domain1","question":"You work for a technology product company that owns two AWS Accounts - Prod and DevTest, both belonging to the same Organizational Unit (OU) under AWS Organizations Root. There are three different teams in your company - Dev Team, Testing Team and Ops Team. While Dev and Testing Team members have IAM Users created in the DevTest account, the Ops Team members have IAM Users created in the Prod account. There is an S3 bucket created in the Prod account that Testing Team members need access to - they need both read and write access. What is the best way to give the Testing Team members access to the Prod account S3 bucket?","explanation":"Cross-Account Access is best achieved using IAM Cross-Account Roles. The solution that suggests that the Testing Team members have to sign in to a different AWS account every time they need to access the S3 bucket is not correct as it is inefficient and unproductive.\nThere is no such AWS Organization feature that can directly enable Cross-Account Access from the console. There no way to select or deselect groups or users in this manner. Hence, the option that suggests using these is eliminated.\nThe remaining two options are a play in words. Carefully read both options. The Role must be created in the Trusting Account, in this case Prod Account because it has the Resource (S3 bucket) that needs to be accessed by the someone from another AWS Account, i.e., the Trusted Account.","links":[{"url":"https://docs.aws.amazon.com/IAM/latest/UserGuide/tutorial_cross-account-with-roles.html","title":"Tutorial - Delegate Access Across AWS Accounts Using IAM Roles"},{"url":"https://aws.amazon.com/organizations/","title":"AWS Organizations"},{"url":"https://aws.amazon.com/blogs/security/how-to-enable-cross-account-access-to-the-aws-management-console/","title":"How to Enable Cross-Account Access to the AWS Management Console"}],"answers":[{"id":"e661ebc45484fb5a715bc96c884b4024","text":"Enable Cross-Account Access at the AWS Organizational Unit (OU) level from the console. Deselect the Dev Team UAM Users from Cross-Account Access Setup Wizard. This will allow only the Testing Team members to be able to access the Prod account. Write a bucket policy for the S3 bucket that lists the Testing Team members as Principals who are allowed to access the bucket.","correct":false},{"id":"e91ff3381d499ccd06e7891c37a77891","text":"Create IAM Users for the Testing Team members in the Prod account. Create a Testing IAM Group in the Prod account and add the IAM Users of the Testing team members to the Group. Assign an access policy to the Testing Group in the Prod account that grants Read and Write access to the correct S3 bucket. Testing team members will sign into the Prod account to access the S3 bucket.","correct":false},{"id":"87953f71b8915388e4ecb3f7b2378374","text":"Create an IAM Role in the DevTest Account that allows access to the Prod Account, thus establishing trust between the Accounts. Attach a Trust Policy to the Role that grants the Testing Team members permission to assume the Role. Attach an Access Policy to the Testing Team's IAM Users in the DevTest Account that allows them to call STS AssumeRole for the specific Resource whose value is the ARN of the Role in Prod Account. Attach a Bucket Policy to the S3 Bucket that specifies the IAM Users of Testing Team members as Principal.","correct":false},{"id":"56e4fe89e8a8ffb36bfcd67126afa0d5","text":"Create an IAM Role in the Prod Account that allows the DevTest Account to assume it, thus establishing trust between the Accounts. Attach an Access Policy to the Role that allows access to the S3 bucket. Attach a Bucket Policy to the S3 Bucket that specifies the ARN of the Role as Principal. Attach an Access Policy to the Testing Team's IAM Users in the DevTest Account that allows them to call STS AssumeRole for the specific Resource whose value is the ARN of the Role in Prod Account.","correct":true}]},{"id":"ebcf9ff3-82a1-48f8-b2fc-5d2aeb1d018c","domain":"awscsapro-domain3","question":"You are consulting with a company who is at the very early stages of their cloud journey.  As a framework to help work through the process, you introduce them to the Cloud Adoption Framework.  They read over the CAF and come back with a list of activities as next steps.  They are asking you to validate these activities to keep them focused.  Of these activities, which would you recommend delaying until later in the project?","explanation":"External communication usually comes much later in the process once project plans are defined and specific customer impact is better understood.","links":[{"url":"https://aws.amazon.com/professional-services/CAF/","title":"The AWS Cloud Adoption Framework"}],"answers":[{"id":"937d0c376f475ce2eac7a3356601b8fb","text":"Investigate the need for training for Program and Project Management staff around agile project management.","correct":false},{"id":"2f063bd85b14ae1bbeec72bf0f6c06f5","text":"Work with the Human Resources business partners to create new job roles, titles and compensation/remuneration scales.","correct":false},{"id":"525fde29088ab22597d7d8063c7dadf6","text":"Work with internal Finance business partners to design a transparent chargeback model.","correct":false},{"id":"153eadc71676701cd67fdf00dc6c4723","text":"Work with Marketing business partners to design an external communications strategy to be used during potential outages during the migration.","correct":true},{"id":"199907bba5306a10dbadf5a330d5f1f6","text":"Hold a workshop with IT business partners about the creation of an IT Service Catalog concept.","correct":false}]},{"id":"6fcb65b9-6213-4b86-b7d8-48feb4dee16d","domain":"awscsapro-domain2","question":"You have registered a domain name (example.com) and created a hosted zone in Route 53. The network team configures several record sets that route the traffic to AWS resources including CloudFront distributions and Elastic Load Balancers. You need to collect the information of DNS queries that Route 53 receives for this particular hosted zone and save the data in a secure and highly available place. Which option would you choose to record the required information?","explanation":"You can configure Amazon Route 53 to log the query information to a CloudWatch Logs log group in the US East Region. Then you can use CloudWatch Logs tools to access the query logs. The logs from Route 53 cannot be directly forwarded to an S3 bucket or CloudWatch Metrics. VPC Flow Logs can capture IP traffic information going to and from network interfaces but the logs do not contain the DNS query data.","links":[{"url":"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/query-logs.html","title":"Logging DNS Queries"}],"answers":[{"id":"e5ce673695e34b533c1aa4dea4673838","text":"In Amazon Route 53 management console, forward the Route 53 query logs to CloudWatch Metrics. Save the metrics data in CloudWatch Logs and ensure the log events in the log group never expire so that the logs are not deleted by CloudWatch.","correct":false},{"id":"2fdbd173f2e3d6aef24c02df40c9dcb8","text":"Find out the AWS resources including the origins of CloudFront distributions and the targets of Elastic Load Balancers. Locate the VPCs of these resources and enable VPC Flow Logs. Save the logs in an S3 bucket that contains the DNS query records from Route 53.","correct":false},{"id":"4d3fcf4269f935cb4ecc5e67b1c8777d","text":"Create a CloudWatch Log group in US East (N. Virginia) Region and publish the DNS query logs to the log group. Configure an IAM policy to grant Route 53 permission to publish query logs to the log group.","correct":true},{"id":"b329ad4dfc36a45f3f0e594f9b27dfd9","text":"Select the Route 53 hosted zone in each AWS region and configure it to forward its query logs to an S3 bucket. The S3 bucket should have a bucket policy that allows the Route 53 service to put objects. Each AWS region should be assigned a folder in the S3 bucket.","correct":false}]},{"id":"79f2f5be-b591-44e6-957b-eb0383640d7d","domain":"awscsapro-domain5","question":"You have a standard SQS queue to receive messages from the frontend application. The backend application is JAVA based and the AWS SDK is used to get the messages from the queue for processing. The SQS queue is not busy most of the time. According to the backend application logs, there is a high number of empty ReceiveMessageResponse instances returned. You want to adjust the settings to minimize the number of empty responses and reduce the cost. How would you implement this? ","explanation":"Amazon SQS long polling is preferable to short polling in most of the cases. Long polling requests let the consumers receive messages as soon as they arrive in the queue. It can help to reduce the number of empty responses. In order to enable long polling, the attribute ReceiveMessageWaitTimeSeconds should be more than 0. Short polling is incorrect. Visibility timeout and delivery delay do not address the problem of empty responses.","links":[{"url":"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-short-and-long-polling.html","title":"Amazon SQS short and long polling"}],"answers":[{"id":"a5cdcd2968c3566cbb7fc7bcd5fef01a","text":"Add a delivery delay in the SQS queue such as 1 minute. The delay helps to postpone the delivery of new messages to the queue for some time. When the JAVA application polls the messages from the queue, there will be a lower chance to get an empty response.","correct":false},{"id":"220352e5b3779c1f2030cfd4b391b19e","text":"Modify AWS SDK to get the messages in the SQS queue by short polling. The ReceiveMessage call from the consumer sets the WaitTimeSeconds attribute to 0. As a result, the empty responses are eliminated.","correct":false},{"id":"203fa6faf2e6bf53939b43300ec6dac2","text":"Increase the default visibility timeout of the queue to reduce the possibilities that the messages become visible to consumers again. The application can also use the ChangeMessageVisibility API to specify a suitable timeout value.","correct":false},{"id":"c3cbf51c591cb7fa17bd023ab814f95c","text":"Consume the messages in the SQS queue using long polling. Set the queue attribute ReceiveMessageWaitTimeSeconds to be more than 0. Amazon SQS will wait until there is an available message in a queue before sending a response.","correct":true}]},{"id":"599dee9a-6ae7-4c85-a7c6-49edc6ae7d6b","domain":"awscsapro-domain5","question":"A development team is comprised of 20 different developers working remotely around the globe all in different timezones.  They are currently practicing Continuous Delivery and desperately want to mature to true Continuous Deployment.  Given a very large codebase and distributed nature of the team, enforcing consistent coding standards has become the top priority.  Which of the following would be the most effective to address this problem and get them closer to Continuous Deployment?","explanation":"Including an automated style check prior to the build can move them closer to a fully automated Continuous Deployment process.  A style check only before UI testing is too far in the SDLC.","links":[{"url":"https://d1.awsstatic.com/whitepapers/DevOps/practicing-continuous-integration-continuous-delivery-on-AWS.pdf","title":"Practicing Continuous Integration and Continuous Delivery on AWS"}],"answers":[{"id":"e60e97c4fb6cbf6c1dcf3e806624762f","text":"Require all developers to use the Pair Programming feature of Cloud9.  The commits must be signed by both developers before merging.","correct":false},{"id":"db4ecdbd1c7c8fda5d3e0792a15411ab","text":"Include code style check in the build stage of the deployment pipeline using a linting tool.  ","correct":true},{"id":"ec61b60c7eeb3bf9ca9c4149c09c5f3d","text":"Issue a department directive that standards must be followed and require the developers to sign the document.","correct":false},{"id":"f4cd7f15eb32d8ddd77234b38d0b35b8","text":"Incorporate a code style check right before user interface testing to ensure standards are being followed.","correct":false},{"id":"628453003287afe2200912bb38d0456b","text":"After integrating and load testing, run a code compliance check against the binary created during the build.","correct":false},{"id":"1f40591b9d9dbe7a2371e5e82ec05997","text":"Introduce a peer review step into their deployment pipeline during the daily stand-up, requiring sign off for each commit.","correct":false}]},{"id":"6d93e859-e1a9-468f-9a05-61a2dbc2be9c","domain":"awscsapro-domain5","question":"You manage a group of EC2 instances that host a critical business application.  You are concerned about the stability of the underlying hardware and want to reduce the risk of a single hardware failure impacting multiple nodes.  Regarding Placement Groups, which of the following would be the best course of action in this case?","explanation":"Spread Placement Groups ensure your instances are each placed on separate underlying hardware so this reduces the risk of a single hardware failure taking down multiple instances.","links":[{"url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/placement-groups.html#placement-groups-spread","title":"Placement Groups - Amazon Elastic Compute Cloud"}],"answers":[{"id":"e346d1667489b5726c0367eff4ea4a34","text":"You would use the AWS CLI to move the existing instances into a spread placement group.","correct":true},{"id":"3bde2d7fff7ead39c4035ab0600275f1","text":"You would use the AWS CLI to move the existing instances into a diversified placement group.","correct":false},{"id":"b6153af57a0b8805fc28d93a2859fb9e","text":"You cannot move existing instances into a new placement group.  You would create AMIs from the existing instances and redeploy them into a clustered placement group.","correct":false},{"id":"e6d129a06320300aaf95634a6691b7cb","text":"You would the AWS Console to move the existing instances into a clustered placement group.","correct":false},{"id":"c8b809a2fef3f21146774b82e8f03f12","text":"You would move the instances onto a Dedicated Host.","correct":false}]},{"id":"65488e0c-c0a5-4f3e-a802-a1da3e60bb19","domain":"awscsapro-domain2","question":"A regional bank would like to create open banking APIs for account and payment information service providers to be able to perform automated digital transactions with them. The backend applications will be hosted on AWS with calls being made through Amazon API Gateway. AWS Direct Connects have been established to the bank's corporate network. The security team is concerned about potential authentication attacks through the open banking APIs. Which architecture will provide the highest level of authentication security for the solution?","explanation":"Network Load Balancers serve well as Authentication and API endpoints. Mutual TLS authentication validates the identity of both parties. Issuing an access token to be included in the API calls provides proof that the authentication took place. The reverse proxy on EC2 provides a greater level of control and abstraction for the API backend infrastructure. AWS PrivateLink requires that the service provider have an AWS account, which may not be the case. AWS access key ids, secret access keys, and roles are used for IAM authentication, and generally not for authentication between business partners.","links":[{"url":"https://docs.aws.amazon.com/elasticloadbalancing/latest/network/introduction.html","title":"What is a Network Load Balancer?"},{"url":"https://aws.amazon.com/api-gateway/","title":"Amazon API Gateway"},{"url":"https://d1.awsstatic.com/architecture-diagrams/ArchitectureDiagrams/open-banking-on-aws.pdf?did=wp_card&trk=wp_card","title":"Open Banking on AWS"}],"answers":[{"id":"2782a089c585620d03850835b94ab2d0","text":"Implement AWS PrivateLink between the bank and the service provider. Validate the service provider's certificate. Provide the bank's certificate to the service provider for mutual TLS authentication. Once the handshake has occurred, obtain an access token and send it to the service provider for API access. Register the PrivateLink connection with Amazon API Gateway","correct":false},{"id":"9ff1088fa4a69a8e46797940195d70e5","text":"Implement a Network Load Balancer as an authentication endpoint. Validate the service provider's AWS access key id and secret access key. Send the bank's AWS access key id and secret access key to the service provider for mutual authentication. Once the handshake has occurred, grant the service provider an IAM role for API access. Establish an API endpoint on a Network Load Balancer and register it with Amazon API Gateway","correct":false},{"id":"548b85ef3740ef0cd18ce8fe5a55186e","text":"Implement AWS PrivateLink between the bank and the service provider. Validate the service provider's AWS access key id and secret access key. Send the bank's AWS access key id and secret access key to the service provider for mutual authentication. Once the handshake has occurred, grant the service provider an IAM role for API access. Register the PrivateLink connection with Amazon API Gateway","correct":false},{"id":"3c5ee9c43d81def99eb5bc5dfcab6836","text":"Implement a Network Load Balancer as an authentication endpoint. Validate the service provider's certificate. Provide the bank's certificate to the service provider for mutual TLS authentication. Once the handshake has occurred, obtain an access token and send it to the service provider for API access. Establish an API endpoint on another Network Load Balancer. Deploy a reverse proxy on EC2 to frontend Amazon API Gateway calls","correct":true}]},{"id":"872cd65b-287b-4fdb-b59f-f07f7bff707f","domain":"awscsapro-domain5","question":"Your client is a small engineering firm which has decided to migrate their engineering CAD files to the cloud.  They currently have an on-prem SAN with 30TB of CAD files and growing at about 1TB a month as they take on new projects.  Their engineering workstations are Windows-based and mount the SAN via SMB shares.  Propose a design solution that will make the best use of AWS services, be easy to manage and reduce costs where possible. ","explanation":"At present, EFS doesn't support Windows-based clients.  Storage Gateway-File Gateway does support SMB mount points.  The other options introduce additional unneeded costs.","links":[{"url":"https://aws.amazon.com/storagegateway/faqs/","title":"AWS Storage Gateway FAQs - Amazon Web Services"},{"url":"https://docs.aws.amazon.com/efs/latest/ug/limits.html","title":"Amazon EFS Limits - Amazon Elastic File System"}],"answers":[{"id":"340da8cc24330ac5b143b526c880e4f7","text":"Order a Snowball appliance to migrate the bulk of the data.  Setup an EFS share on AWS and configure the CAD workstations to mount via SMB.  ","correct":false},{"id":"f52e177dc6a594ed2c0852c91b6133d3","text":"Order a Snowmobile to migrate the bulk of the data.  Setup S3 buckets on AWS to store the data.  Use AWS WorkDocs to mount the S3 buckets from the engineering workstations.","correct":false},{"id":"9c4821e0d9178e80636a5d4c7d0c6441","text":"Setup Storage Gateway-File Gateway and configure the CAD workstations to mount as iSCSI.  Use a Snowball appliance to sync data daily to S3 buckets at AWS.","correct":false},{"id":"c15496feac5aa7ce58d0c5d4813a5a29","text":"Use AWS CLI to sync the CAD files to S3.  Setup Storage Gateway-File Gateway locally and configure the CAD workstations to mount as SMB.","correct":true},{"id":"7cad520a624f4c3b174014f339f732df","text":"Use AWS CLI to sync the CAD files to S3.  Use EC2 and EBS to create an SMB file server.  Configure the CAD workstations to mount the EC2 instances.  Setup Direct Connect to ensure performance is acceptable.","correct":false}]},{"id":"722221be-beb9-4a2b-8ae1-dff52b80125c","domain":"awscsapro-domain3","question":"You work for a technology company with two leased data centres (one on the east coast and one on the west coast) and one owned on-premises data centre. Management has decided to move the two leased data centres to the AWS cloud - one to us-east-1 and the other to us-west-1. The on-premises data centre will still continue running workloads which are not ready to move to the cloud.\nThis on-premises data centre must be always connected to the VPC-s in us-east-1 and us-west-1 for (a) the continuous replication of several databases and (b) the need to access some data residing on the on-premises data centre from applications running in both the AWS regions. The peak bandwidth required for these connections is (a) 500 Mbps between us-east-1 and on-premises, and (b) 8 Gbps between us-west-1 and on-premises. The applications would still be able to function at lower bandwidth, but the experience will be poor, which is not desirable. Both these connections must be Highly Available with 99.999% uptime. The connectivity solution must be cost-effective as well.\nAs the AWS Architect, what connectivity solution would you propose, so that all Bandwidth, HA and cost-effectiveness requirements are met?","explanation":"We can eliminate the VPC Peering solution immediately, as VPC Peering is for connecting two VPC-s on AWS. VPC Peering cannot be used to connect an AWS VPC with an on-premises network.\nOut of the remaining choices, the one that proposes connecting to us-east-1 using VPN and us-west-1 using Direct Connect comes very close to fulfilling all requirements. It suffers from two problems, however. One - the peak bandwidth requirement for us-east-1 is 500 Mbps. A VPN connection cannot be expected to provide 500 Mbps most of the time, as the true bandwidth someone can get from a VPN connection depends on a lot of factors including internet traffic it is sharing the route with. Secondly, if we are paying for a Direct Connect connection for the other region anyway, why not just use that one for this region too? Now, there is something called Direct Connect Gateways that makes it possible to share multiple AWS Regions using the same Direct Connect connection. The knowledge of Direct Connect Gateways is important for the AWS SA-P exam. Hence, this question tests this knowledge. The correct answer is the only one that uses Direct Connect Gateway.\nThe other choice that uses two separate Direct COnnect connections (one for each region) is not cost-effective, especially because since 2017, Direct Connect Gateways make it possible to connect to multiple AWS Regions using the same Direct Connect connection.\nRegarding HA, it is always a good practice to set up a VPN connection as a back-up for Direct Connect. The only requirement to do this is that the back-up VPN connection must also use the same Virtual Private Gateway on the AWS VPC side, otherwise traffic cannot fail over easily.\nNote about Direct Connect Gateways - they not only allow a customer to connect to two AWS Regions using a single Direct Connect connection, they also let the connected Regions communicate with each other! (This is why the VPC CIDR-s in us-east-1 and us-west-1 in the correct answer have to be non-overlapping.) There may be questions testing this aspect as well. Before Direct Connect Gateways existed, VPC Peering would be the only way for Inter-Region VPC Access. There is also another solution now - Transit Gateway, but this was announced late 2018. Usually, topics do not start appearing on the exam unless they have been more than 6 months in GA. Expect Transit Gateways to start appearing in questions now as well!","links":[{"url":"https://aws.amazon.com/blogs/aws/new-aws-direct-connect-gateway-inter-region-vpc-access/","title":"AWS Direct Connect Gateway for Inter-Region VPC Access"},{"url":"https://aws.amazon.com/premiumsupport/knowledge-center/configure-vpn-backup-dx/","title":"Configuring VPN as back up of Direct Connect"},{"url":"https://aws.amazon.com/directconnect/sla/","title":"Direct Connect SLA puts uptime target at 99.9%. Therefore, if we need more than that, we should set up VPN as back up"}],"answers":[{"id":"85b6b49a01a28a90d71ef3c20ca9da8d","text":"Connect the on-premises data centre and us-east-1 using redundant site-to-site VPN connections as its bandwidth requirements do not require a costly Direct Connect connection. The redundant VPN connections must use different customer gateways and will provide an HA solution for that region. Connect the on-premises data centre with us-west-1 using a 10 Gbps Direct Connect circuit. Set up a back-up VPN connection for this region such that it uses the same Virtual Private Gateway as the Direct Connect circuit","correct":false},{"id":"608dc6c035921ef09c640ebb70de9ddd","text":"Use VPC Peering to connect the on-premises network with both the us-east-1 and us-west-1 VPC-s independently. Bandwidth provided by VPC Peering is virtually unlimited, limited only by the instance sizes used. Also, VPC peering connections are fault-tolerant and scalable, so no back-up connectivity is needed","correct":false},{"id":"3ea4a9645ac22c0b2c6c427764a7ae01","text":"Set up a Direct Connect Gateway. Associate the Virtual Private Gateways from both the us-east-1 and us-west-1 VPC-s with this Direct Connect Gateway. Then set up a single 10 Gbps Direct Connect connection between the on-premises data centre and the Direct Connect Gateway, using a Private Virtual Interface. Ensure that the VPC CIDR-s in the two AWS Regions are non-overlapping. To increase HA, set up separate back-up VPN connections between the on-premises data centre and each of the two AWS Regions","correct":true},{"id":"f0671c30ae58d58c0d64162640e69527","text":"Use two Direct Connect connections - an 1 Gbps one between the on-premises data centre and us-east-1, and a 10 Gbps one between the on-premises data centre and us-west-1. For each Direct Connect connection, set up a back-up VPN connection that must use the same Virtual Private Gateway as the Direct Connect circuit","correct":false}]},{"id":"dc5b1869-9feb-4074-a582-f42e8f358272","domain":"awscsapro-domain4","question":"You have decided to make some changes to your landscape. Your landscape consists of four EC2 instances within a VPC interacting mostly with S3 buckets.  You decide to move your EC2 instances into a spread placement group.  You then create a VPC Gateway Endpoint for S3.  These changes have which of these impacts?","explanation":"Costs will decrease because you are using the VPC Gateway Endpoint to reach S3 rather than Internet egress.  Security will be improved because the traffic is not routed out through the Internet.","links":[{"url":"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints-s3.html","title":"Endpoints for Amazon S3 - Amazon Virtual Private Cloud"}],"answers":[{"id":"a98a8d72a35888659eaf4659936a6809","text":"Security profile will be reduced.","correct":false},{"id":"cdbabf3a8907b7fc48761f3c8c22864e","text":"Security profile will be improved.","correct":true},{"id":"7a549fb0ca57680e691ab656b55d0277","text":"Costs will stay the same.","correct":false},{"id":"ec2facee172127252b37883f153ee675","text":"Costs will increase.","correct":false},{"id":"1ea65cd7f8d031e9a625162d59461522","text":"Security profile will stay the same.","correct":false},{"id":"1de433430d814a079012ae9f2bb7b404","text":"Costs will decrease.","correct":true}]},{"id":"d750b73a-f283-4da4-97c8-4686049e9ccf","domain":"awscsapro-domain4","question":"The marketing department at your company has been using a homegrown approach to content management for the company's customer facing website. Recent content publishing issues have resulted in a directive to move to Drupal for all content management going forward. The IT budget is already stretched, and there is no capital available to purchase new servers, so the Drupal solution will be implemented on AWS. The current on-premises content management system runs on six Linux servers, each with four CPUs and sixteen gigabytes of memory. There are also two MySQL database servers, each with four CPUs and thirty-two gigabytes of memory. Spikes in volume are common during the fourth quarter of the year with increases up to fifty percent during these months. Which architecture will provide the most cost effective solution?","explanation":"Since the company has deployed six on-premises content management servers to handle seasonal spikes in volume up to fifty percent, four servers will be needed during most of the year. So we should purchase four EC2 Reserved Instances, and have Auto Scaling add up to an additional two when needed. Since content management systems are mostly read-intensive, we can save on the sizing and cost of our Aurora nodes, and improve performance by implementing larger ElastiCache nodes. The rich feature set of Redis is not needed for this use case, so we'll go with Memcached for simplicity.","links":[{"url":"https://github.com/aws-samples/aws-refarch-drupal?did=wp_card&trk=wp_card","title":"Running Drupal on AWS"},{"url":"https://aws.amazon.com/ec2/pricing/reserved-instances/pricing/","title":"Amazon EC2 Reserved Instances Pricing"},{"url":"https://aws.amazon.com/rds/aurora/pricing/","title":"Amazon Aurora Pricing"},{"url":"https://aws.amazon.com/elasticache/pricing/","title":"Amazon ElastiCache Pricing"}],"answers":[{"id":"7adefaeb634686fb343da16d89ddd8fc","text":"Purchase four EC2 m5.xlarge Reserved Instances on a 3-year term. Configure Auto Scaling with Drupal AMI launch configurations. Implement one Amazon Aurora db.r5.large instance and one Amazon ElastiCache Memcached r5.2xlarge instance.","correct":true},{"id":"61a0c4b4a4069b1f4343231156850d8a","text":"Purchase four EC2 m5.xlarge Reserved Instances on a 3-year term. Configure Auto Scaling with Drupal AMI launch configurations. Implement one Amazon Aurora db.r5.xlarge instance and one Amazon ElastiCache Redis r5.xlarge instances.","correct":false},{"id":"d67c7bb266f4dcdc91559f6f046d4f01","text":"Purchase three EC2 m5.xlarge Reserved Instances on a 3-year term. Configure Auto Scaling with Drupal AMI launch configurations. Implement one Amazon Aurora db.r5.large instance and one Amazon ElastiCache Redis r5.2xlarge instance.","correct":false},{"id":"ae881ce32027d7c1d77feaa29c31af97","text":"Purchase six EC2 m5.xlarge Reserved Instances on a 3-year term. Configure Auto Scaling with Drupal AMI launch configurations. Implement one Amazon Aurora db.r5.xlarge instance and one Amazon ElastiCache Memcached r5.xlarge instance.","correct":false}]},{"id":"760cbc05-d8ba-4d58-a555-250f26815963","domain":"awscsapro-domain4","question":"Your team is working on a long-term government project. You have purchased several reserved instances (c5.18xlarge) to host the applications to reduce costs. There is a requirement to track the utilization status of these instances and the actual utilization should be always over 80% of the reservation. When the utilization falls below 80%, the team members need to receive email and SMS alerts immediately. Which AWS services would you use to achieve this requirement?","explanation":"The AWS Budgets service is able to track the reserved instances utilization. Several optional budget parameters can be configured such as linked account, region and instance type. You can use an SNS notification to receive alerts when the actual usage is less than a defined threshold. You do not need to maintain a new Lambda function to get the usage data and send alerts. Besides, either CloudWatch alarm or Trusted Advisor cannot provide alerts based on the reserved instances utilization.","links":[{"url":"https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/budgets-create.html#create-reservation-budget","title":"Create a reservation budget"}],"answers":[{"id":"c13e13d0cd86acac35a5358fff11066a","text":"Configure the reserved EC2 instances to send the utilization metrics to CloudWatch. Create a CloudWatch dashboard based on the metrics and set up a CloudWatch alarm. Use an SNS topic to receive the alert when the alarm is on.","correct":false},{"id":"a4024e0dbac3a9e9e371ebfe3a511ba7","text":"In the Cost Optimization category of AWS Trusted Advisor, monitor the usage of the EC2 reserved instances. If the usage is less than 80% of the reservation, Trusted Advisor raises an action recommended alarm and sends a message to an SNS topic which notifies the team via email and SMS.","correct":false},{"id":"9cb24caa236c81ae714987bb14b0faee","text":"Create a new reservation budget in AWS Budgets service. Set the reservation budget type to be RI Utilization and configure the utilization threshold to be 80%. Use an SNS topic to notify the team when the utilization drops below 80%.","correct":true},{"id":"ba6dc1f65ab53b3ac3bb10944df422b4","text":"Create a Lambda function using Python boto3 to get the utilization status of the reserved instances. Execute the Lambda function at a regular basis such as every day and notify the team by an SNS topic if the utilization drops below 80%.","correct":false}]},{"id":"3b08a75a-01b7-4083-bbd1-af1acd7e5314","domain":"awscsapro-domain2","question":"A clothing retailer has decided to run all of their online applications on AWS. These applications are written in Java and currently run on Tomcat application servers hosted on VMware ESXi Linux virtual machines on-premises. Because many of the applications require extremely high availability, they've deployed Oracle RAC as their database layer. Some business logic resides in stored procedures in the database. Due to the timing of other business initiatives, the migration needs to take place in a span of four months. Which architecture will provide the most reliable and operationally efficient solution?","explanation":"Elastic Beanstalk provides the most operationally efficient solution for the application server layer. With Elastic Beanstalk, you can quickly deploy and manage applications without worrying about the infrastructure that runs those applications. VMware Cloud on AWS delivers a robust environment for running Oracle RAC environments. Oracle RAC doesn't run natively on EC2. Due to the time constraints for the project, a migration to Aurora Multi-Master is probably not feasible in four months, especially when the migration of stored procedure code is involved. RDS Oracle Multi-AZ provides active/passive failover, whereas Oracle RAC is active/active, providing no-downtime failovers. Oracle Recovery Manager can run on EC2 and access the database via the VMware Cloud ENIs to perform backups to S3 over a VPC Endpoint.","links":[{"url":"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_Java.html","title":"Creating and Deploying Java Applications on AWS Elastic Beanstalk"},{"url":"https://aws.amazon.com/vmware/","title":"VMware Cloud on AWS"},{"url":"https://d1.awsstatic.com/VMwareCloudonAWS/aws_reference_architecture_oracle_rac_on_vmware_cloud.pdf?did=wp_card&trk=wp_card","title":"Oracle RAC on VMware Cloud on AWS"}],"answers":[{"id":"2a2d87b2ff0208d44d780f2cf354f3f2","text":"Use a certified Tomcat AMI to deploy the application servers on EC2 instances with Auto Scaling across multiple Availability Zones. Install Oracle RAC on EC2 across multiple Availability Zones. Connect the Tomcat servers to the database via JDBC. Use Oracle Recovery Manager to backup the database to Amazon S3.","correct":false},{"id":"3cac9f7ec8cba84a36f70ab25c667485","text":"Use a certified Tomcat AMI to deploy the application servers on VMware Cloud on AWS EC2 instances with Auto Scaling across multiple Availability Zones. Configure Oracle on Amazon RDS with Multi-AZ. Connect the Tomcat servers to the database instances with VMware Cloud ENI route table entries. Use Oracle Recovery Manager to backup the database to Amazon S3.","correct":false},{"id":"69173b8054edfd0b9be84428b694bc53","text":"Implement AWS Elastic Beanstalk to run the Tomcat servers in multiple Availability Zones. Run Oracle RAC on VMware Cloud on AWS in multiple Availability Zones. Connect the Tomcat servers to the database instances with VMware Cloud ENI route table entries. Use Oracle Recovery Manager to backup the database to Amazon S3.","correct":true},{"id":"b555cc3afefbe63e6b58594cd86b4fa5","text":"Deploy AWS Elastic Beanstalk to run the Tomcat servers in multiple Availability Zones. Migrate the database to Amazon Aurora Multi-Master. Connect the Tomcat servers to the database via JDBC. Leverage Aurora's Multi-AZ and automated backup capabilities to achieve high availability.","correct":false}]},{"id":"9fc0785a-d5cb-47e3-bc2f-829b5a36ba26","domain":"awscsapro-domain3","question":"You work for a Genomics company which has decided to migrate its DNA Sequencing application to the AWS Cloud. The application is containerized. Currently, container image A works on genomics data residing on an on-premises file server, validating the data and updating the metadata in a local database. When it is done, engineers manually trigger 100 or more instances of container image B that process this data in parallel by reading the metadata, creating output files. When all these container instances have done their job, engineers manually trigger container image C that validates the results, cleans up and sends notifications.\nThe CTO has decided to use S3 for storing the input and output data files. She has also mandated that the parallel processing phase should run on a fleet of Spot EC2 instances to reduce compute costs. She also wants to automate the workflow, so that engineers do not have to manually trigger the next set of actions. The requirement is to minimize administrative overhead and custom development for the migration.\nAs the AWS Architect, which of the following approaches should you recommend?","explanation":"AWS ECS does not natively provide workflow management. In an ECS service definition file, you cannot specify a sequence of tasks with execution dependencies such that one will be run only after the previous one completes. Hence, the two ECS choices are ruled out.\nDistraction warning - Fargate does not allow you to specify Spot instances as it is serverless in nature (it absolves you from specifying server details). This effectively creates a distraction - when the candidate rules out ECS Fargate due to this reason, they may be relieved to see the ECS EC2 choice and jump to a conclusion because it is relatively easy to remember that EC2 launch type actually lets you select Spot instances. However, this distraction is designed to take focus away from the fact that neither of these two choices is correct. Both of the choices require service definition files to set up execution workflows. Task instances mentioned in an ECS service definition file are executed in parallel - ECS does not control the sequence of tasks.\nAWS SWF does not let you specify Spot instances either. Also, SWF is usually used in cases where human intervention is needed in the workflow.\nThis leaves AWS Batch as the correct answer. AWS Batch is indeed the most suitable AWS service for this scenario as it meets all requirements.","links":[{"url":"https://docs.aws.amazon.com/batch/latest/userguide/create-compute-environment.html","title":"How to create a compute environment for AWS Batch"},{"url":"https://docs.aws.amazon.com/batch/latest/userguide/example_array_job.html","title":"Example AWS Batch Array Job Workflow"},{"url":"https://aws.amazon.com/ec2/spot/containers-for-less/get-started/","title":"How to run ECS clusters in EC2 Spot Instances"}],"answers":[{"id":"49755d6c34da495b8c91964f52946d29","text":"Use AWS SWF workers and deciders to manage the workflow. Configure the workers to use EC2 Spot Instances","correct":false},{"id":"e46ada36d33a9e5b23aa37ee94c4c5d6","text":"Use AWS ECS with EC2 Launch Type to run the container images, configuring the cluster to use Spot Instances and setting up the workflow in the service definition JSON file so that it runs Task C only after Task B is completed and it runs Task B only after Task A is completed","correct":false},{"id":"757ddde350053553e44844d066c91386","text":"Use AWS ECS with Fargate Launch Type to run the container images, configuring the cluster to use Spot Instances and setting up the workflow in the service definition JSON file so that it runs Task C only after Task B is completed and it runs Task B only after Task A is completed","correct":false},{"id":"ceb4c03a526e8ddb01ada7a40bb60001","text":"Use AWS Batch, setting up an array job with 100 or more copies preceded by pre-requisite and follow-up jobs where the workflow is controlled by dependencies between jobs. Also, use Spot as the Provisioning Model for compute environment","correct":true}]},{"id":"02a9611c-591c-4280-bb83-6c65c7c4921f","domain":"awscsapro-domain5","question":"A sporting goods retailer runs WordPress on Amazon EC2 Linux instances to host their customer-facing website. An ELB Application Load Balancer sits in front of the EC2 instances in Auto Scaling Groups in two different Availability Zones of a single AWS region. The load balancer serves as an origin for Amazon CloudFront. Amazon Aurora provides the database for WordPress with the master instance in one of the Availability Zones and a read replica in the other. Many custom and downloaded WordPress plugins have been installed. Much of the DevOps teams' time is spent manually updating plugins across the EC2 instances in the two Availability Zones. The website suffers from poor performance between the Thanksgiving and Christmas holidays due to a high occurrence of product catalog lookups. What should be done to increase ongoing operational efficiency and performance during high-volume periods?","explanation":"ElastiCache Memcached will provide in-memory access speeds for the catalog read transactions. A WordPress plugin is required to leverage caching. WordPress can access an EFS Mount Target for file sharing across all instances. Aurora offers a MySQL option, and WordPress requires MySQL, so the solution would have been set up that way already. CodeDeploy could update plugins on all instances, and will work well for the custom in-house code, but triggering the updates of downloaded plugins will need to be orchestrated. Aurora Auto Scaling will distribute catalog reads across multiple replicas for increased performance, but not to the extent of in-memory caching. Elastic File System is a managed service providing operational advantages over NFS file shares. ElastiCache Redis will provide the in-memory read performance desired, but changing the wp-config.php file won't provide access to it, as a plugin is needed for that. WordPress does work with S3, but a shared file system is easier to implement.","links":[{"url":"https://aws.amazon.com/getting-started/projects/build-wordpress-website/","title":"Build a WordPress Website"},{"url":"https://github.com/aws-samples/aws-refarch-wordpress?did=wp_card&trk=wp_card","title":"Hosting WordPress on AWS"}],"answers":[{"id":"bc643d3342a5a675e65e5baed00e88b9","text":"Deploy Amazon ElastiCache Memcached as a caching layer between the EC2 instances and the database. Install a WordPress plugin to read from Memcached. Implement Amazon Elastic File System to store the WordPress files and create mount targets in each EC2 subnet.","correct":true},{"id":"aeb27370afc3b672eb0a1afcb28e9176","text":"Implement Aurora Auto Scaling to increase the number of replicas automatically as demand increases. Create an NFS file share to hold the WordPress files. Access the file share from the EC2 instances in both Availability Zones.","correct":false},{"id":"17b12e57cd85610e888cda82b5a8a145","text":"Migrate the WordPress database to RDS MySQL since MySQL is WordPress's native database and WordPress is performance optimized for MySQL. Implement AWS CodeDeploy to update WordPress plugins on all EC2 instances.","correct":false},{"id":"f060160b20c4408b2442010d3ea4d387","text":"Use Amazon ElastiCache Redis as a caching layer between the EC2 instances and the database. Change wp-config.php to point to the Redis caching layer, and have Redis point to Aurora. Move the WordPress files to S3 and have WordPress access them there.","correct":false}]},{"id":"65288d1e-af34-43b4-9be7-0c1696c649fc","domain":"awscsapro-domain2","question":"What backup and restore options are available to you when using RDS for Oracle?","explanation":"Amazon RDS for Oracle can use the standard backup methods for RDS which is Snapshot and Point In Time Recovery.  You can also use Data Pump to export logical data to binary files, which you can later import into the database as well as the standard 'exp' and 'imp' utilities.  RMAN is not supported in RDS as a backup mechanism, although you can run certain RMAN commands against the database using the rdsadmin.rdsadmin_rman_util package.  Replication Backups is not a valid function within RDS for Oracle.","links":[{"url":"https://aws.amazon.com/rds/oracle/faqs/","title":"Amazon RDS for Oracle FAQs"},{"url":"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_Oracle.html","title":"Oracle on Amazon RDS"},{"url":"https://aws.amazon.com/rds/oracle/features/","title":"Amazon RDS for Oracle features"}],"answers":[{"id":"d7b065bec7ec0dbd1d1985543b28aec5","text":"Oracle Data Pump Export and Import","correct":true},{"id":"bf7eb3e57b2ec9b7b52b41ebe6c155ce","text":"RDS Snapshot and Point In Time Recovery","correct":true},{"id":"4cff81b1f97c64130a64b1ea818c7f24","text":"Oracle Export/Import Utilities","correct":true},{"id":"5cd4a59bc9ce2cd88904b1edee24be49","text":"Oracle Recovery Manager (RMAN)","correct":false},{"id":"d93f3c575a1b1947fc462dc84cd425bc","text":"Replication Backups","correct":false}]},{"id":"777fd0a9-391f-4072-b147-a64a2016f5a1","domain":"awscsapro-domain2","question":"You are working with a company to design a DR strategy for the data layer of their news website.  The site serves customers globally so regional diversity is required.  The RTO is defined as 4 hours and RPO have been defined as 5 minutes. Which of the following provide the most cost-effective DR strategy for this client?","explanation":"While Multi-AZ RDS may be a best practice, the question only stipulates regional resilience.  So, we are looking for options that create regional diversity and fall within our RPO and RTO.  Those options would be cross-region bucket replication and cross-region RDS replicas.  The RPO given means that we must not loose anything more than 5 minutes of data, so any sort of backup that is less frequent than every 5 minutes is eliminated.","links":[{"url":"https://aws.amazon.com/blogs/aws/cross-region-snapshot-copy-for-amazon-rds/","title":"Cross-Region Snapshot Copy for Amazon RDS | AWS News Blog"},{"url":"https://aws.amazon.com/blogs/aws/new-whitepaper-use-aws-for-disaster-recovery/","title":"New Whitepaper: Using AWS for Disaster Recovery | AWS News Blog"}],"answers":[{"id":"cfe51da2c91348146ba1bb989b4c2225","text":"Configure RDS to perform daily backups then copy those to another region.","correct":false},{"id":"b3810d00767bfbb6b85fe44c1c3d2dd1","text":"Configure RDS to use multi-AZ and automatically fail over in the event of a problem.","correct":false},{"id":"aa26654aaaf6239fe7acd7dc4e952d5a","text":"Write a script to create a manual RDS snapshot and transfer it to another region.  Use AWS Batch to run the script every three hours.","correct":false},{"id":"035a09840d025b52ad7c808976c94da2","text":"setup cross-region replication for S3 buckets.","correct":true},{"id":"0890c4152307ffd34ebeb6ea7c500814","text":"Write a script to export the RDS database to S3 every hour then use cross-regional replication to stage the exports in a backup region.","correct":false},{"id":"7c7f5169f7bfea8c0aa5d79d8f1f1565","text":"Configure RDS Read Replicas to use cross-region replication from the primary to a backup region.","correct":true}]},{"id":"4e6b1423-41e3-4d39-93b1-c5c47705477b","domain":"awscsapro-domain2","question":"Given an IP CIDR block of 56.23.0.0/24 assigned to a VPC and the single subnet within that VPC for that whole range, how many usable addresses will you have?","explanation":"For VPCs and subnets, you can use IP addresses that are in RFC1918 or not.  If you choose addresses not in the RFC1918 ranges, you will not be able to route traffic to the internet directly with those addresses.  You would have to use a NAT.  For a /24 netmask, you can expect 251 usable addresses because of the 5 reserved addresses.","links":[{"url":"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-ip-addressing.html","title":"IP Addressing in Your VPC - Amazon Virtual Private Cloud"}],"answers":[{"id":"c52f1bd66cc19d05628bd8bf27af3ad6","text":"254","correct":false},{"id":"3873a2be62d17c29ac441293ab21e143","text":"You cannot assign the entire CIDR range of a VPC to a single subnet.","correct":false},{"id":"6aa49d907a3637314f53838d83286e5d","text":"Zero.  You must use a private IP range as defined in RFC1918 for VPCs.","correct":false},{"id":"f7efa4f864ae9b88d43527f4b14f750f","text":"4096","correct":false},{"id":"19f3cd308f1455b3fa09a282e0d496f4","text":"251","correct":true}]},{"id":"abd5a1c8-719f-4025-9804-8876b93d5633","domain":"awscsapro-domain2","question":"You are troubleshooting a CloudFront setup for a client.  The client has an Apache web server that is configured for both HTTP and HTTPS.  It has a valid TLS certificate acquired from LetsEncrypt.org.  They have also configured the Apache server to redirect HTTP to HTTPS to ensure a safe connection.  In front of that web server, they have created a CloudFront distribution with the web server as the origin.  The distribution is set for GET and HEAD HTTP methods, an Origin Protocol Policy of HTTP only, Minimum TTL of zero and Default TTL of 86400 seconds.  When a web browser tries to connect to the CloudFront URL, the browser just spins and never reaches the web server.  However, when a web browser points to the web server itself, we get the page properly. Which of the following if done by themselves would most likely fix the problem?","explanation":"With CloudFront only configured for HTTP Only, we have a loop when the web server redirects HTTP to HTTPS.  We can either enable HTTPS on CloudFront or disable the redirection policy on the Apache server.","links":[{"url":"https://aws.amazon.com/premiumsupport/knowledge-center/custom-origin-cloudfront-fails/","title":"Troubleshoot Failing Custom Origins in CloudFront"}],"answers":[{"id":"caa85ea467e37e906dca5499b196b327","text":"Use an ALB instead of CloudFront to provide content caching.","correct":false},{"id":"a24567748b0a6f2b185b2d69a0ced579","text":"Add the OPTION HTTP methods on the CloudFront distribution.","correct":false},{"id":"c7717815f23591b0fdaf1c616725535b","text":"Remove the redirection policy on the origin server and allow it to accept HTTP.","correct":true},{"id":"f393ea6e3b2e4d003e821f57c52df1d2","text":"Change the CloudFront distribution origin protocol policy to use only HTTPS.","correct":true},{"id":"2970fc3adfc086f41b20364111c10e11","text":"Add POST and PUT HTTP methods on the CloudFront distribution.","correct":false},{"id":"961c2031ccad89e399f2ffee45459704","text":"Enable CloudFront to forward cookies and enable query string forwarding.","correct":false}]},{"id":"8765bd56-057b-488c-9a0a-f5bd413dd240","domain":"awscsapro-domain5","question":"Due to new corporate policies on data security, you are now required to use encryption at rest for all data.  You have some EC2 Linux instances on AWS that were created without encryption for the root EBS volume.  What can you do that meet the requirement and reduce administrative overhead?","explanation":"AWS does support encrypted root volumes but conversion from unencrypted root to an encrypted root requires a bit of a process. You must first create an AMI then copy that newly created AMI to the same region, specifying that you want to encrypt the EBS volumes during the copy.  You can then create a new instance with an encrypted root volume from the copied AMI.  You can use either a generated key from KMS or your own CMK imported into KMS.","links":[{"url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIEncryption.html","title":"AMIs with Encrypted Snapshots - Amazon Elastic Compute Cloud"},{"url":"https://aws.amazon.com/blogs/aws/new-encrypted-ebs-boot-volumes/","title":"New – Encrypted EBS Boot Volumes | AWS News Blog"}],"answers":[{"id":"50c17b27f0bd0390ae321943f7db5c3d","text":"Create a certificate in CMS for the encryption key.  Stop the instances and temporarily detach the root volumes.  Via the AWS CLI, enable encryption on the root volumes using the \"ebs modify-volume\" argument with the flag of \"encryption=<CMS ARN>\" to specify the certificate.","correct":false},{"id":"9fbbb2e71386cb7f7a7ed77129a1a960","text":"Create an encrypted EFS instance and mount-points in the respective subnets.  Log into the instance and mount an encrypted EFS mount-point.  Copy all the root files over to the EFS mount point.  Edit the FSTAB file to mount the EFS mount point as the root volume instead of the root EBS device and reboot.","correct":false},{"id":"4430b7492a6c058c3574ce4e8ea43955","text":"Stop the instances and temporarily detach the EBS volumes.  Attach the root volumes to another EC2 instance and mount them a data volume.  Use a encryption tool like GPG or OpenPGP to recursively encrypt all the files on the mounted root volumes.  Detach and reattach the encrypted EBS volumes to the original instances and restart.  Import the encryption keys in KMS as a CMK.","correct":false},{"id":"180e9aecdb74f204b1df00ffe6fa8b56","text":"Stop the instances and create AMIs from the instances.  Copy the AMIs to the same region and select the \"Encrypt target EBS snapshots\".  Redeploy the instances using the AMI copies you made with encrypted root volumes.","correct":true},{"id":"1e30ccf0b75e9e70fd76c6e041510c75","text":"At present, EC2 does not support encrypted root volumes.  Create new encrypted EBS data volumes and attach the new volumes to the existing instances.  Use RSYNC to migrate all the non-OS data over to the encrypted data volumes.","correct":false}]},{"id":"a5ad7848-a002-475f-8cb1-eab23822846e","domain":"awscsapro-domain4","question":"A toy company needs to reduce customer service costs related to email handling. With the current process, representatives read the emails, determine the intent, identify next best action, and compile all information required for a response. The company would like to automate as much of the process as possible. They've already established connectivity to AWS for other applications, and they're planning to link their corporate email exchange to Amazon Simple Email Service (SES). Which architecture will provide them with the best cost reduction opportunity over their current solution?","explanation":"The process starts with the storing of the raw email text to S3 for use by the machine learning services later. The SNS notification triggers the email responder workflow, which employs Comprehend to extract keywords. The keywords serve as input parameters to the SageMaker models for formulation of the next best action. The confidence scores from the SageMaker inference drive the decision as to whether a Lambda function should generate an automated email response or route to a representative for handling. Using EC2 or ECS will generally be more expensive and require more operational effort than using Lambda. Transcribe is used for voice recognition, and Amazon Lex is used for creating chat bots. Neither is used for keyword extraction. Amazon Pinpoint provides additional customer contact capabilities not needed for this use case.","links":[{"url":"https://aws.amazon.com/comprehend/","title":"Amazon Comprehend"},{"url":"https://aws.amazon.com/sagemaker/","title":"Amazon SageMaker"},{"url":"https://d1.awsstatic.com/architecture-diagrams/ArchitectureDiagrams/ai-ml-based-intelligent-email-responder-ra.pdf?did=wp_card&trk=wp_card","title":"AI/ML Based Intelligent Email Responder"}],"answers":[{"id":"36fb6500a6d540182f27959a12c1e9e5","text":"Configure SES to write the emails to an Amazon Simple Queue Service queue. Have a program in an Amazon Elastic Container Service container read the queue and invoke Amazon Transcribe to perform keyword extraction. Call Amazon SageMaker intent determination and next-best-action model endpoints. Based on confidence scores, have the program either build and send a response email through SES, or route the original email to a representative for handling","correct":false},{"id":"fe8b2750f1ebef6fc86d4bf7224b99cc","text":"Configure SES to write the emails to an Amazon Simple Queue Service queue. Have a program on EC2 read the queue and invoke Amazon Transcribe to perform keyword extraction. Call Amazon SageMaker intent determination and next-best-action model endpoints. Based on confidence scores, have the program either build and send a response email through Amazon Pinpoint, or route the original email to a representative for handling","correct":false},{"id":"330f1889136383d262cb0d652843bd75","text":"Configure SES to write the emails to S3 and publish notifications to an Amazon Simple Notification Service topic. From the SNS publish, trigger an AWS Lambda function to invoke Amazon Lex to perform keyword extraction. Have the Lambda function forward the email text and keywords to a representative for intent and next-best-action determination. Give the representative a menu of pre-written response letters to be customized and sent automatically through SES.","correct":false},{"id":"c7ce297a851f2728e3e035b08aed9f8f","text":"Configure SES to write the emails to S3 and publish notifications to an Amazon Simple Notification Service topic. From the SNS publish, trigger an AWS Lambda function to invoke Amazon Comprehend to perform keyword extraction. Trigger another Lambda function to call Amazon SageMaker intent determination and next-best-action model endpoints. Based on confidence scores, have another Lambda function either build and send a response email through SES, or route the original email to a representative for handling","correct":true}]},{"id":"49107f33-5b31-4d7e-a2cb-95f3ce8a2d75","domain":"awscsapro-domain1","question":"Your customer has setup AWS Organizations to help manage a collection of AWS Accounts.  They are running into a problem though and need your help.  They have created accounts for each business unit and applied SCPs to those OUs. However, they notice that root accounts in in those sub-accounts can still change root access keys and disable MFA.  How do you instruct your customer?","explanation":"Service Control Policies can control many aspects but they cannot restrict root account actions of changing root access keys or disabling MFA.","links":[{"url":"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scp.html","title":"Service Control Policies - AWS Organizations"}],"answers":[{"id":"194cc2d07b5c378b62b1e090f0aea956","text":"You can add an explicit Deny for \"arn:aws:iam:<account>:user/root\" in the SCP for the entire OU in the root account.","correct":false},{"id":"3d722952f024bcec9174a311c17dcc14","text":"You can not use SCPs to restrict root account activities of changing the root password or managing MFA settings.","correct":true},{"id":"94a2f948d3d2f9c317a6ebb1f5a24ea5","text":"You can add an explicit Deny for \"arn:aws:iam:<account>:user/root\" in the SCP for the specific sub-accounts.","correct":false},{"id":"77df34553819fdc2e31fb79762948993","text":"You can establish a trust with the top-level account and use the \"organizations:ServicePrinciple\" condition key to restrict root access at the sub-account level.","correct":false}]},{"id":"07f91ae7-094b-48a9-8924-a4d142cbbcb6","domain":"awscsapro-domain5","question":"On your last Security Penetration Test Audit, the auditors noticed that you were not effectively protecting against SQL injection attacks.  Even though you don't have any resources that are vulnerable to that type of attack, your Chief Information Security Officer insists you do something.  Your organization consists of approximately 30 AWS accounts.  Which steps will allow you to most efficiently protect against SQL injection attacks?","explanation":"Firewall Manager is a very effective way of managing WAF rules across many WAF instances and accounts.  It does require that the accounts be linked as an AWS Organization.","links":[{"url":"https://docs.aws.amazon.com/waf/latest/developerguide/what-is-aws-waf.html","title":"What Are AWS WAF, AWS Shield, and AWS Firewall Manager? - AWS WAF, AWS  Firewall Manager, and AWS Shield Advanced"}],"answers":[{"id":"e072f443d93c569cce94eb4946a912af","text":"Ensure all sub-accounts are members of an organization in the AWS Organizations service and use Consolidated Billing. Subscribe to AWS Shield Advanced to automatically enable SQL injection protection across all sub-accounts.","correct":false},{"id":"3927b32bfb85cc040d2b7dcb21015fc5","text":"Use AWS WAF to create an ACL that denies requests that include SQL code.  Assign the ACL to Firewall Manager instances in each account using AWS OpsWorks.","correct":false},{"id":"2238e9ae7489214f767fa479d013cd23","text":"Create a custom NACL filter using Lambda@Edge to check requests for SQL code.  Use OpsWorks to apply the NACL across all public subnets across the organization. ","correct":false},{"id":"ee9c067e3dea2fa4cd2e3968abaf86de","text":"Ensure all sub-accounts are members of an organization in the AWS Organizations.  Use CloudFormation to implement request restrictions for SQL code on the CloudFront distributions across all accounts.  Setup a CloudWatch event to notify administrators if requests with SQL code are seen.","correct":false},{"id":"9a5fa8e9a1a9be9149138c6307abde19","text":"Ensure all sub-accounts are members of an organization in the AWS Organizations service.  Use Firewall Manager to create an ACL rule to deny requests that contain SQL code.  Apply the ACL to WAF instances across all organizational accounts.","correct":true}]},{"id":"7eebbdef-e751-4d76-be2a-1e3a746b87f6","domain":"awscsapro-domain5","question":"You are a database administrator for a company in the process of changing over from RDS MySQL to Amazon Aurora for MySQL.  You setup the new Aurora database in a similar fashion to how your pre-existing RDS MySQL landscape was setup:  Multi-AZ with Read Replica in a backup region.  You have just completed the migration of data and verified that the new Aurora landscape is performing like it should.  You are now in the process of decommissioning the old RDS MySQL landscape.  First, you decide to disable automatic backups.  Via the console, you try to set the Retention Period to 0 but receive an error saying \"Cannot Set Backup Retention Period to 0\".  How can you disable automatic backups?","explanation":" For RDS, Read Replicas require backups for managing read replica logs and thus you cannot set the retention period to 0.  You must first remove the read replicas and then you can disable backups.","links":[{"url":"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_Troubleshooting.html#CHAP_Troubleshooting.Backup.Retention","title":"Troubleshooting - Amazon Relational Database Service"}],"answers":[{"id":"5698f7c6bb0530fc1c0ad18e6911f528","text":"You must first reprovision the database as a single AZ instances.  Multi-AZ replication requires backups to be enabled.","correct":false},{"id":"fb2c22782c91868676981ff65332f1d5","text":"You cannot disable backups via the console.  You must do this via the AWS CLI or SDK.","correct":false},{"id":"898042b8eeafc1bbb4dd146c98dbb919","text":"Remove the Read Replicas first.","correct":true},{"id":"c61323c176e6d23809f0d467770ed205","text":"Automatic backups are enabled and disabled at the database engine level.  You need to login using a MySQL client to turn off automatic backups.","correct":false},{"id":"7086f25af0d0410de9d8826003760752","text":"You cannot disable automatic backups on RDS instances.  This feature is built into the platform as a failsafe.","correct":false}]},{"id":"f02ba751-479b-4ff0-a09b-8f18a63177b5","domain":"awscsapro-domain3","question":"An automotive supply company has decided to migrate their online ordering application to AWS. The application leverages a Model-View-Controller architecture with the user interface handled by a Tomcat server and twenty thousand lines of Java Servlet code. Business logic also resides in two thousand lines of PL/SQL stored procedure code in an Oracle database. The company's technology leadership has directed your team to move the database to a more cost-effective offering, and to adopt a more cloud-native architecture. Business objectives dictate that the application must be live in the AWS cloud in sixty days. Which migration approach will provide the most scalable architecture and meet the schedule objectives?","explanation":"This solution will require trade-offs between schedule requirements and architectural desires. Converting twenty thousand lines of Model-View-Controller code to a serverless architecture in sixty days is unreasonable, so moving the Tomcat MVC as-is to EC2 for the initial migration is the best approach. We can migrate to a serverless user interface in a later phase. Database Migration Service will suit our needs well for moving the application data to Aurora, but the most scalable architecture strategy is to migrate the stored procedure code out of the database so that database nodes won't need to be resized when the business logic needs more compute resources. Under normal circumstances, recoding two thousand lines of PL/SQL code to Python Lambda functions within a sixty day time frame will not be a problem.","links":[{"url":"https://aws.amazon.com/dms/","title":"AWS Database Migration Service"},{"url":"https://aws.amazon.com/blogs/database/migrate-your-procedural-sql-code-with-the-aws-schema-conversion-tool/","title":"Migrate Your Procedural SQL Code with the AWS Schema Conversion Tool"},{"url":"https://aws.amazon.com/lambda/","title":"AWS Lambda"}],"answers":[{"id":"db222d8a15bda541fc4147908131cfd6","text":"Migrate the Tomcat server and Servlet code to EC2. Use AWS Database Migration Service to move the application data into Amazon Aurora. Convert the stored procedure code to AWS Lambda Python functions, and modify the Servlet code to invoke them","correct":true},{"id":"97a348ed01424c357958b49bcc030935","text":"Migrate the Tomcat server and Servlet code to EC2. Use AWS Database Migration Service and the AWS Schema Conversion Tool to migrate the application data and stored procedures to Amazon Aurora","correct":false},{"id":"5ab40b2a54c4e82a7aafa05c8fc9a458","text":"Convert the Servlet Code to JavaScript Lambda functions accessed through Amazon API Gateway. Use AWS Database Migration Service to migrate the application data and stored procedures to an Amazon RDS Oracle instance","correct":false},{"id":"2cf84f7f8daee7548143ad181423c7cb","text":"Convert the Servlet Code to JavaScript Lambda functions accessed through Amazon API Gateway. Use AWS Database Migration Service and the AWS Schema Conversion Tool to migrate the application data and stored procedures to Amazon Aurora","correct":false}]},{"id":"b77449a6-88a8-4ac9-ae75-664623acccd3","domain":"awscsapro-domain4","question":"Which of the following activities will have the most cost impact (increase or decrease) on your AWS bill?","explanation":"Provisioning an EIP to a running instance or using Placement Groups or App Mesh all do not cost anything.  OpsWorks Stacks on EC2 does not cost anything but using it for on-prem systems does cost a small amount.  The only thing on this list that would increase your AWS bill is adding a Route 53 hosted zone.","links":[{"url":"https://aws.amazon.com/route53/pricing/","title":"AWS | Amazon Route 53 | Pricing"}],"answers":[{"id":"f80a8cefb8a1936309b0092f00c241b2","text":"Begin using AWS OpsWorks Stacks on EC2 to manage your landscape","correct":false},{"id":"f6e98aff4272a541442980d4782b0524","text":"Start using AWS App Mesh to improve the stability of your existing service landscape.","correct":false},{"id":"a1597dd35c1fb3560a6831b69b72bd26","text":"Add a new Route 53 hosted zone.","correct":true},{"id":"fb2023a84d6c95591c6f756c641eae0d","text":"Deploy existing reserved instances into a Placement Group.","correct":false},{"id":"568c5ec8d576ba0532c9e440440a3be9","text":"Provision an Elastic IP and associate it to a running instance.","correct":false}]},{"id":"1db0c4e1-44ef-4a3a-8e71-6dce38e4a0bb","domain":"awscsapro-domain3","question":"You are considering a migration of your on-prem containerized web application and CouchBase database to AWS.  Which migration approach has the lowest risk and lowest ongoing administration requirements after migration?","explanation":"A lift-and-shift approach when containers are involved is often a very easy and low-risk way to migrate to the cloud.  ECS is a good option of you already have a container landscape.  Fargate provides more automated scale and management, but AWS wants users to treat Fargate as an ephemeral platform, so an application like CouchBase that requires persistent storage would not work well.  Our best option for least management is ECS on an EC2 cluster.","links":[{"url":"https://aws.amazon.com/blogs/enterprise-strategy/6-strategies-for-migrating-applications-to-the-cloud/","title":"6 Strategies for Migrating Applications to the Cloud | AWS Cloud Enterprise  Strategy Blog"},{"url":"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_GetStarted.html","title":"Getting Started with Amazon ECS using Fargate - Amazon Elastic Container  Service"}],"answers":[{"id":"e1b011698db39a5bd75f9561625d28a0","text":"Import the containers into Elastic Container Registry.  Deploy the web application and database on ECS using an EC2 cluster.  Once the AWS version is proven, do a final commit of the container state to the latest version in the registry and use Force New Deployment on the ECS console for the service.  Change over DNS entries to point to the new AWS landscape.","correct":true},{"id":"e2ca91149ec9ad6a9ca978f52b63f9a7","text":"Use SCT to read the existing Couchbase schema and recreate it in DynamoDB.  Use DMS to initially migrate the data from Couchbase and keep it in sync.  Import the web application into ECS using a Fargate cluster.  Update the ECS web application to use DynamoDB.  Once the AWS landscape is proven, do a final commit from the web application container state to the latest version in the registry.  Wait until ECS completes the update of the new container and change DNS entries to point to the new AWS landscape.","correct":false},{"id":"77591c2773a9058fb91669c7bb4104ac","text":"Provision sufficient sized EC2 instances to host the web application and Couchbase.  Manually install the web application and Couchbase on the EC2 instances and configure rsync and DMS to synchronize the web server and database respectively.  Once the AWS environment is proven, change the DNS entries to point to the new AWS landscape.  Mange the instances going forward with AWS Config.","correct":false},{"id":"ecd3b08ae8761671f56d59cca00dba2e","text":"Use Server Migration Service to migrate the on-prem servers into AWS as AMIs.  Configure data volume replication to synchronize both the web server and database AMIs.  Run in parallel for no longer than 90 days.  When the new environment is proven, change over the DNS entry to point to the new AWS landscape.","correct":false}]},{"id":"1520156f-0918-4ab4-a759-ce33a931c744","domain":"awscsapro-domain5","question":"Your company has an online shopping web application. It has adopted a microservices architecture approach and a standard SQS queue is used to receive the orders placed by the customers. A Lambda function sends orders to the queue and another Lambda function fetches messages from the queue and processes them. On some occasions the message in the queue cannot be handled properly. For example, when an order has a deleted production ID, the message cannot be consumed successfully and is returned to the queue. The problematic messages in the queue keep growing and the ability to process normal messages is affected. You need a mechanism to handle the message failure and isolate error messages for further analysis. Which method would you choose?","explanation":"It is not a good idea to adjust the retention period or simply delete the messages that fail to be processed as the question asks for a mechanism to isolate the messages for further troubleshooting. A redrive policy should be used to auto-forward error message to a dead letter queue. Then you can analyze the contents of messages to diagnose the producer’s or consumer’s issues. One thing to note is that a standard queue can only have another standard queue as the dead letter queue. Therefore a FIFO dead letter queue is incorrect as this scenario uses a standard SQS queue and requires a standard dead letter queue.","links":[{"url":"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-dead-letter-queues.html","title":"Amazon SQS dead-letter queues"}],"answers":[{"id":"64fd54fe78b534f0eac9222a6e32747d","text":"Create a FIFO (First-In-First-Out) queue as the dead letter queue and use a redrive policy to forward problematic messages to this new queue. Create a Lambda function to read the message contents in the FIFO queue for further analysis.","correct":false},{"id":"3c8453a6c57faf61e761f771bab6f1af","text":"Create a standard queue as the dead letter queue and configure a redrive policy to put error messages to the dead letter queue. Analyze the contents of messages in the dead letter queue to diagnose the issues.","correct":true},{"id":"a7eb53a7df09334677590165f666c58f","text":"Modify the error handling logic of the Lambda function to delete the messages whenever the processing is unsuccessful with an error or exception. The error messages do not return to the queue and the normal message handling is not blocked.","correct":false},{"id":"f7b3898cfcb4851b120c9b14d044ab90","text":"Decrease the message retention period of the queue to 1 day. When the messages are not processed properly and put back in the queue, they can be quickly deleted when the retention period expires.","correct":false}]},{"id":"2eee6f1c-96d7-4d2b-821f-4ce8acaf3de3","domain":"awscsapro-domain5","question":"You've deployed a mobile app for a dance competition television show's viewers to vote on performances. The app's backend leverages Amazon API Gateway, AWS Lambda, and Amazon RDS Oracle, with voting activity going from devices directly to API Gateway. In the middle of the broadcast, you begin receiving errors in CloudWatch indicating that the database connection pool has been exhausted. You also see log entries in CloudWatch with a 429 status code. After the show concludes, ratings for the app indicate a very poor user experience, with multiple retries needed to cast a vote. What would be the best way to increase the scalability of the app going forward?","explanation":"Placing Kineses between API Gateway and Lambda decouples the architecture, making use of an intermediary service to buffer incoming requests. The 429 status code indicates a Lambda concurrency throttling error, which you can resolve by controlling the Kinesis batch size per batch delivery. Database sharding will increase scalability, but will still have an upper limit of capacity. Increasing available Lambda memory will have no effect. Inserting a Lambda traffic manager doesn't address the database scalability issues, nor does increasing the regional Lambda concurrency limit. Modifying RDS DB Parameter Group values will require a database restart to take effect, which won't be feasible during live voting activity.","links":[{"url":"https://aws.amazon.com/blogs/architecture/how-to-design-your-serverless-apps-for-massive-scale/","title":"How to Design Your Serverless Apps for Massive Scale"},{"url":"https://docs.aws.amazon.com/lambda/latest/dg/scaling.html","title":"AWS Lambda Function Scaling"},{"url":"https://docs.aws.amazon.com/lambda/latest/dg/with-kinesis.html","title":"Using AWS Lambda with Amazon Kinesis"}],"answers":[{"id":"8f962935878f87ebc9523dc54f505886","text":"Scale the database horizontally by creating additional instances and use sharding to distribute the data across them. Provide the Lambda function with a mapping of the sharding scheme in DynamoDB. Increase the amount of memory available to the Lambda function during execution","correct":false},{"id":"2f66b519925956d6a91d0026056904d9","text":"Have API Gateway route requests to a new Lambda function that manages traffic and retries for the voting logic Lambda function. Request that the regional function concurrency limit be increased based on volume projections","correct":false},{"id":"a4051078cf0289e689e79fe70eab1f14","text":"Create a separate Lambda function to increase the maximum DB connection value in the RDS DB Parameter Group when a CloudWatch Metrics DB connection threshold is exceeded. Invoke Lambda functions with an 'event' invocation type to retry failed events automatically","correct":false},{"id":"6b6e6fb8b54db42df4d343376ccd8c60","text":"Insert Amazon Kinesis between API Gateway and Lambda, and configure Kinesis as an event source for Lambda. Set the number of records to be read from a Kinesis shard to an optimal value based on volume projections","correct":true}]},{"id":"de88bc69-44a8-4a12-b28f-0a5e86db3939","domain":"awscsapro-domain1","question":"You have been entrusted to act as the interim AWS Administrator following the departure of the erstwhile Administrator in your company. You notice that there are several existing roles called role-engineer, role-manager, role-qa, role-dba, role-data-scientist, etc. When a new person joins the company, the new IAM user simply assumes the right role while using AWS - this allows central management of permissions and eliminates the need to manage permissions on a per-user basis.\nA new QA hire joins the company a few days later. You create an IAM User for her. You attach a Policy to the new IAM User that allows Action STS AssumeRole on any Resource. However, when this employee logs in the same day and tries to switch roles to role-qa, she is denied and is unable to assume the role-qa Role.\nWhat could be one reason why this is happening and how can it be best fixed?","explanation":"In order to allow an IAM User to successfully assume an IAM Role, two things must happen. First, the Policy attached to the User must allow the action STS AssumeRole. This is already true according to the question. Second, the Trust Policy of the Role itself must allow the User in question to assume the Role. This second condition can be met if we specify the arn of the User in the Principal element of the Trust Policy. In general, this question can be answered if the candidate is familiar with the concept of Principal in a Role, see link - A Principal within an Amazon IAM Role specifies the user (IAM user, federated user, or assumed-role user), AWS account, AWS service, or other principal entity that is allowed or denied to assume or impersonate that Role. Trust Policy is different than the Policy permissions - think of Policy Permissions as [what can be accessed] and Trust Policy as [who can access].\nTrust Policy cannot belong to an IAM User, hence the choice that claims the problem to be an unmodified User Trust Policy is incorrect. IAM changes are instantly effective, so the choice that points at the need of a time delay is also incorrect. Among the other two choices, the knowledge needed to pick the right one is an awareness of the Principal element.","links":[{"url":"https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_principal.html","title":"AWS JSON Policy Elements - Principal"},{"url":"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html","title":"IAM Roles"}],"answers":[{"id":"dbb48c05e238c18bdb9c17ee265e387b","text":"You have not modified the Trust Policy of the IAM Role role-qa to allow the new IAM User to assume the Role. To fix this, add the arn of the new IAM User to the Condition element of the Trust Policy of the Role","correct":false},{"id":"e6dacaf19a289e1f73855c5e904b21fb","text":"You have not modified the Trust Policy of the IAM Role role-qa to allow the new IAM User to assume the Role. To fix this, add the arn of the new IAM User to the Principal element of the Trust Policy of the Role","correct":true},{"id":"765f20e64b35dbc08c2bc319bcbe7e1a","text":"Sufficient time has not passed since you made the changes. It takes up to 12 hours to propagate IAM role changes. To fix this, ask her to try again the next day.","correct":false},{"id":"b3bf261fca3a734ad312d3ac0e5d0589","text":"You have not modified the Trust Policy of the IAM User to trust the Role role-qa. To fix this, add a Condition to the IAM Policy attached to the new user that filters on the role and specify the arn of role-qa","correct":false}]},{"id":"1239c235-107c-4f5e-8bac-9dc824c00680","domain":"awscsapro-domain5","question":"You are helping a client with some process automation.  They have managed to get their website landscape and deployment process encapsulated in a large CloudFormation template.  They have recently contracted with a third-party service to provide some automated UI testing.  To initiate the test scripts, they need to make a call out to an external REST API.  They would like to integrate this into their existing CloudFormation template but not quite sure of the best way to do that.  Help them decide which of the following ideas is feasible and incurs the least extra cost.","explanation":"To integrate external services into a CloudFormation template, we can use a custom resource.  Lambda makes a very good choice for this scenario because it can handle some logic if needed and make a call out to an external API.  Using an EC2 instances to make this call is excessive and we likely would not have the ability to configure the third-party API to poll an SQS queue.","links":[{"url":"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources-lambda.html","title":"AWS Lambda-backed Custom Resources - AWS CloudFormation"}],"answers":[{"id":"6b3b26e17f2323a91f04f792f0c2d20c","text":"Create a Lambda function which issues a call out to the external REST API using the POST method.  Define a custom resources in the CloudFormation template and associate the Lambda function and execution role with the custom resource.  Include DependsOn to ensure that the function is only called after the other instances are ready.","correct":true},{"id":"97a123d11bbf3be0e3e1788e2f0874ac","text":"Add an API Gateway deployment to the CloudFormation template.  Add the DependsOn parameter to the API Gateway resource to ensure that the call to the external API only happens after all the other resources have been created.  Create a POST method and define it as a proxy for the external REST API endpoint.  Using SWF, call the API Gateway endpoint to trigger the testing process.","correct":false},{"id":"f761e84ee0cd0f689465458a41b69fae","text":"Include an SQS queue definition in the CloudFormation template.  Define a User Script on the deployed EC2 instance which will insert a message into the SQS queue only once it has fully booted.  Configure the external REST API to use long polling to check the queue for new messages in order to initiate the testing process.","correct":false},{"id":"43569df3ec4b7db0265dea4051c04644","text":"Add a small EC2 instance definition to the CloudFormation template.  Define a User Script for that instance which will install a custom application from S3 to call out to the external REST API endpoint using the POST method to trigger the testing process.  Add a CleanUp parameter to the EC2 instance definition that will shut down the instance once the activity has completed.","correct":false}]},{"id":"f679d23d-14d4-4021-9749-481bbe11046c","domain":"awscsapro-domain3","question":"A telecommunications company has decided to migrate their entire application portfolio to AWS. They host their customer database and billing application on IBM mainframes. IBM AIX servers running WebSphere provide an API layer into the mainframes. Customer-facing online applications are hosted on Linux systems. The customer service backend application resides on Oracle Solaris and makes use of gigabytes of persistent information. Their ERP and CRM systems also run on Solaris boxes. Telecom switches send call records to Linux-based applications, and their employee productivity suite runs on Windows. They need to complete the project in twelve months to satisfy budgetary constraints. Which migration strategy will provide them with the most resilient, scalable, and operationally efficient cloud environment within the project time frame?","explanation":"Since the company has twelve months to complete the project, they can plan for a highly cloud-centric migration. Refactoring the mainframe billing application to EC2 and the customer database to Aurora will require significant cost and effort, but will result in significant intermediate to long-term business value for most companies. A number of AWS Partner Network (APN) solutions are available to assist with this. The WebSphere layer can be replaced by API Gateway with HTTP, REST, or WebSocket APIs that call modules on the EC2 instances. Refactoring the customer-facing online apps to Lambda serverless and Step Functions will provide high operational efficiency. Performing a replatform of the Solaris customer service application to EC2 with Auto Scaling will achieve elasticity to avoid the excess capacity inefficiencies that were most-likely present in the on-premises environment. Many robust ERP, CRM, and employee productivity SaaS solutions exist and should be leveraged rather than trying to manage these applications with in-house staff. The call record processing Linux system can simply be rehosted to EC2. Repurchasing mainframe capacity from a third party provider only extends the rigidness of making mainframe changes whenever new business requirements arise. A Lambda/Step Functions solution will provide all the functionality needed for the online apps, and will be more economical than Elastic Beanstalk. Refactoring the customer service application to Lambda presents issues with processing the gigabytes of persistent information, so replatforming to EC2 is a better choice.","links":[{"url":"https://aws.amazon.com/blogs/enterprise-strategy/6-strategies-for-migrating-applications-to-the-cloud/","title":"6 Strategies for Migrating Applications to the Cloud"},{"url":"https://aws.amazon.com/blogs/apn/automated-refactoring-of-a-new-york-times-mainframe-to-aws-with-modern-systems/","title":"Automated Refactoring of a New York Times Mainframe to AWS with Modern Systems"},{"url":"https://aws.amazon.com/getting-started/projects/build-serverless-web-app-lambda-apigateway-s3-dynamodb-cognito/","title":"Build a Serverless Web Application"}],"answers":[{"id":"57d6d888b4cee16e22852910fa09cdb8","text":"Refactor the mainframe applications onto Amazon EC2 Linux instances, and migrate the customer database to Amazon Aurora. Replace the API layer with Amazon API Gateway. Rehost the customer-facing online applications to Amazon Elastic Beanstalk. Refactor the customer service application to serverless on AWS Lambda, and orchestrate workflows with AWS Step Functions. Repurchase SaaS solutions for the ERP and CRM systems. Rehost the call record processing applications and the employee productivity suite onto EC2.","correct":false},{"id":"290da60b3bdd11f28e175fa86972386a","text":"Repurchase mainframe capacity from a third party provider and run the customer database and billing application there. Replace the API layer with Amazon API Gateway. Rehost the customer-facing online applications to Amazon Elastic Beanstalk. Refactor the customer service application to serverless on AWS Lambda, and orchestrate workflows with AWS Step Functions. Replatform the ERP and CRM applications to EC2 Linux instances with Auto Scaling. Rehost the call record processing applications, and repurchase SaaS applications for the employee productivity suite.","correct":false},{"id":"5a404284de876ce2a054dcd916ed80ec","text":"Refactor the mainframe applications onto Amazon EC2 Linux instances, and migrate the customer database to Amazon Aurora. Replace the API layer with Amazon API Gateway. Refactor the customer-facing online applications to serverless on AWS Lambda, and orchestrate workflows with AWS Step Functions. Replatform the customer service applications to EC2 Linux with Auto Scaling. Repurchase SaaS solutions for the ERP and CRM systems. Rehost the call record processing applications onto EC2, and repurchase SaaS applications for the employee productivity suite.","correct":true},{"id":"c875a6eb6d74f098c971af4a638f288f","text":"Repurchase mainframe capacity from a third party provider and run the customer database and billing application there. Replatform the API layer onto EC2 Linux instances. Refactor the customer-facing online applications to serverless on AWS Lambda, and orchestrate workflows with AWS Step Functions. Replatform the customer service, ERP, and CRM applications to EC2 Linux instances with Auto Scaling. Rehost the call record processing applications onto EC2, and repurchase SaaS applications for the employee productivity suite.","correct":false}]},{"id":"c9d5dfbb-8dda-4a84-bf04-49aa7f88d4db","domain":"awscsapro-domain2","question":"A healthcare provider has a recent history of failing to match patient clinical records from other providers with their own records. This has resulted in missed diagnoses and delayed treatments. To address the issue, they've begun an initiative to store patient records, both those generated in-house and those coming from other providers, in CSV format on an Amazon S3 data lake. They'll use other AWS services to aggregate and deduplicate patient information. Which HIPAA compliant solution will provide them with the highest level of accuracy to improve their level of patient care?","explanation":"An AWS Glue crawler can scan the raw patient CSV data and store the schemas in the Glue data catalog. A Glue ML Transform can be written to find patient information matches in tables defined in the Glue data catalog. If you don't want to write an ML Transform to find the matches, AWS provides a custom one called FindMatches. After training the ML Transform, you can use it as part of a scheduled Glue ETL job, which can write results back to the S3 data lake. Kinesis Data Analytics isn't capable of querying data in S3. It only provides SQL manipulation of the incoming stream. An EMR Hive job will be able to perform some basic record matching, but machine learning will provide greater matching accuracy over time. While SageMaker could provide a viable solution, the Caffe framework is most commonly used for computer vision use cases, not record matching.","links":[{"url":"https://aws.amazon.com/glue/","title":"AWS Glue"},{"url":"https://aws.amazon.com/about-aws/whats-new/2019/08/aws-glue-provides-findmatches-ml-transform-to-deduplicate/","title":"AWS Glue now provides FindMatches ML transform to deduplicate and find matching records in your dataset"},{"url":"https://aws.amazon.com/blogs/big-data/matching-patient-records-with-the-aws-lake-formation-findmatches-transform/","title":"Matching patient records with the AWS Lake Formation FindMatches transform"}],"answers":[{"id":"50bb504039515eef7c1372c744aa4d79","text":"As new patient records are ingested to S3, trigger an AWS Lambda function to start an AWS Glue crawler to update the Glue data catalog. Have the Lambda function then run an Amazon EMR Hive job to perform patient record matching and write the results back to the data lake","correct":false},{"id":"7a5ba1c8cc4da315c99a4458891c790d","text":"Prior to depositing patient records in the S3 data lake, ingest them with Amazon Kinesis Data Streams and configure Amazon Kinesis Data Analytics as the consumer of the stream. Have Kinesis Data Analytics correlate records with those already ingested to S3 and write them to the corresponding patient folder","correct":false},{"id":"734eda6752df4074b7d1de2dc63055d6","text":"Create and train an Amazon SageMaker Caffe model to match patient records. Schedule an AWS Lambda function to periodically run the SageMaker model and deposit the results back into S3","correct":false},{"id":"4745b6f6f2c711702b03c99faaab04b1","text":"Implement an AWS Glue crawler to determine patient record formats. Create and train a Glue ML Transform to match patient records. Execute a Glue ETL job using the ML Transform, and store results back in the data lake. Configure the Glue scheduler to run the crawler and the ETL jobs periodically","correct":true}]},{"id":"f43ec458-0ff5-4633-a57b-6bf82f60bd14","domain":"awscsapro-domain5","question":"You have a target group in an elastic load balancer (ELB) and its target type is \"instance\". You attach an Auto Scaling group (ASG) in the target group. All the instances pass the health check and have a healthy state in the target group. Due to a new requirement, the ELB target group needs to forward the incoming traffic to an IP address that belongs to an on-premise server. The ASG is no longer needed. There is already a VPN connection between the on-premise server and AWS VPC. How would you configure the target in the ELB target group?","explanation":"The target type of existing target groups cannot be changed from \"instance\" to \"IP\". Because of this, users have to create a new target group and set the target type to be \"IP\". After that, the on-premise IP address can be registered as a target. A domain name cannot be registered as a target in the target group. You also do not need to create a new elastic load balancer since you only need a new target group to register the IP address.","links":[{"url":"https://docs.aws.amazon.com/elasticloadbalancing/latest/network/load-balancer-target-groups.html#target-type","title":"Target type in ELB target group"}],"answers":[{"id":"99f63c1cf5bcfbcb188328714abb8ed3","text":"Register a record set in AWS Route 53 to forward a domain name to the on-premise IP address. Modify the target group to register the domain name as its target. Remove the previous Auto Scaling group from the target group.","correct":false},{"id":"265de6fdcab5323b156774dcb949d309","text":"Create a new network load balancer with a new listener and target group. Configure the target type to be \"IP\" in the target group and attach the on-premise IP address to it. Set up the health check using the HTTP protocol.","correct":false},{"id":"49646fca04901301d145a2a814a7e481","text":"In the elastic load balancer, create a new target group with an \"IP\" target type. Register the on-premise IP address as its target. Monitor if the target becomes healthy after some time. Remove the old target group.","correct":true},{"id":"e0b619a421d68626ffb82b1a6e1d22d5","text":"Remove the Auto Scaling group from the target group and modify the target type to be \"IP\". Attach the IP address to the target and set up the IP address and port in the health check configurations.","correct":false}]},{"id":"9038ce91-1730-47e6-b804-571614ac4752","domain":"awscsapro-domain5","question":"For your production web farm, you have configured an auto scaling group behind a Network Load Balancer.  Your auto-scaling group is defined to have a core number of reserved instances and to scale with spot instances.  Because of differences in spot pricing across AZs, sometimes you end up with many more instances in one AZ over another.  During times of peak load, you notice that AZs with fewer instances are averaging 70% CPU utilization while the AZ with more instances average barely above 10% CPU utilization.  What is the most likely cause of this behavior? ","explanation":"Cross-zone load balancing ensures that requests are equally spread across all available instances, regardless of AZ.  When cross-zone load balancing is enabled, each load balancer node distributes traffic across the registered targets in all enabled Availability Zones. When cross-zone load balancing is disabled, each load balancer node distributes traffic across the registered targets in its Availability Zone only. ","links":[{"url":"https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/how-elastic-load-balancing-works.html","title":"How Elastic Load Balancing Works - Elastic Load Balancing"}],"answers":[{"id":"1d1ef2b9e2525e667cc97a8dd5e91429","text":"The TTL for sticky sessions is set too high and therefore are blocking a scale-out event until some connections are dropped.","correct":false},{"id":"61e42ddbbd5b30ec8e73f350f7782986","text":"At the time a scale event is triggered, there are no more available resources in the AZ or region of the instance type you have configured in your auto scaling group.","correct":false},{"id":"733135f9c29b6aef570b5c4f6748df2f","text":"CloudWatch is not accurately reflecting the true CPU load due to mesh processing on Nginx.  The real CPU load might in fact not reach the threshold which explains why the group is not scaling.","correct":false},{"id":"dbec1ca528c5fed82acd6704fa187842","text":"The cooldown time is too short in the launch configuration.","correct":false},{"id":"19fc4224d11c7dbb028fcb29fc93ce38","text":"Cross-zone load balancing is disabled on the Network Load Balancer.","correct":true}]},{"id":"1727d24a-6bf1-4fc6-b99b-24c0bc4552e9","domain":"awscsapro-domain2","question":"NextGen Appliances Corporation is developing a new smart refrigerator that sends telemetry data to a backend application running on AWS. The refrigerator will also be able to receive commands from a mobile dashboard app that will be provided with the product. Features of the mobile dashboard app include data query, analytics, notifications, and settings commands. The mobile dashboard app will be developed using AWS Amplify and will be deployed to an Amazon S3 bucket configured for web hosting. The software on the refrigerator will be developed with the AWS IoT Device SDK, and will communicate with AWS IoT Core. How should the company architect the backend application to provide management capabilities for the refrigerator from the mobile dashboard app?","explanation":"The smart refrigerator solution has an AWS IoT Core rule set up to route messages to a Lambda function which stores event data in DynamoDB and sends desired notifications to an SNS topic for viewing in the mobile dashboard app. The mobile dashboard app can be developed in AWS Amplify, and deployed to an S3 bucket configured for web hosting. CloudFront can be used to provide public access to the bucket. The app can send RESTful API requests to the backend through API Gateway to a Lambda function that performs the DynamoDB queries and sends commands to the refrigerator through IoT Core. Analytics requests can be routed to QuickSight Mobile, which uses IOT Analytics as its data source. The mobile app won't be able to send settings commands to IoT Core directly. API Gateway and Lambda need to be involved for that. QuickSight can't use Kinesis Data Analytics as a data source. The data will need to be written to S3 for QuickSight queries. IoT Analytics will provide analytics capabilities more suited to this use case than general solutions like Kinesis Data Analytics and Redshift. Amazon Pinpoint is used for sending personalized marketing messages, not general notifications. ","links":[{"url":"https://aws.amazon.com/iot-analytics/","title":"AWS IoT Analytics"},{"url":"https://aws.amazon.com/amplify/","title":"AWS Amplify"},{"url":"https://docs.aws.amazon.com/quicksight/latest/user/using-quicksight-mobile.html","title":"Using the Amazon QuickSight Mobile App"},{"url":"https://aws.amazon.com/solutions/smart-product-solution/?did=sl_card&trk=sl_card","title":"Smart Product Solution"}],"answers":[{"id":"f0ebf0f93a7448dab82c61c11dcc2c4a","text":"Deliver IoT Core messages to an AWS Lambda function that writes product event data to Amazon DynamoDB and publishes notifications to an Amazon Simple Notification Service topic. Also write IoT Core messages to AWS IoT Analytics. Have the mobile dashboard app send settings commands to AWS IoT Core. Configure the AWS Mobile Hub NoSQL Database option and register the DynamoDB event table for app data queries. Have the app redirect analytics requests to Amazon QuickSight Mobile, which uses IoT Analytics as its source.","correct":false},{"id":"af8854f867f77abde2a38d7b3d1d84b7","text":"Route IoT Core messages to an AWS Lambda function that writes product event data to Amazon DynamoDB and sends notifications to Amazon Pinpoint. Also write IoT Core messages to an Amazon S3 bucket to be loaded into Amazon Redshift by AWS Glue. Have the mobile dashboard app call RESTful APIs hosted by Amazon API Gateway, which are backed by other Lambda functions to perform data queries against DynamoDB, and to send settings commands to the refrigerator. Have the app redirect analytics requests to Amazon QuickSight Mobile, which uses Redshift as its source.","correct":false},{"id":"5840ee0fec04ee6fca146272a5e75892","text":"Write IoT Core messages to Amazon Kinesis Data Streams with Amazon Kinesis Data Analytics as one consumer and Amazon EC2 instances with Auto Scaling as a second consumer. Have the EC2 instances write product event data to Amazon DynamoDB and publish notifications to an Amazon Simple Notification Service topic. Configure the mobile dashboard app to call RESTful APIs hosted by Amazon API Gateway, which are backed by other Lambda functions to perform data queries against DynamoDB, and to send settings commands to the refrigerator. Have the app redirect analytics requests to Amazon QuickSight Mobile, which uses Kinesis Data Analytics as its source.","correct":false},{"id":"57c04a93b4f460af88471726dcca35b2","text":"Send IoT Core messages to an AWS Lambda function that writes product event data to Amazon DynamoDB and publishes notifications to an Amazon Simple Notification Service topic. Also write IoT Core messages to AWS IoT Analytics. Have the mobile dashboard app call RESTful APIs hosted by Amazon API Gateway, which are backed by other Lambda functions to perform data queries against DynamoDB, and to send settings commands to the refrigerator. Have the app redirect analytics requests to Amazon QuickSight Mobile, which uses IoT Analytics as its source.","correct":true}]},{"id":"694c2138-4b6e-466d-b5b2-7a34cc0a3360","domain":"awscsapro-domain1","question":"AWS Cost Management encompasses a number of services to help you to organize, control and optimize your AWS costs and usage.  Which of the following Cost Management related tools gives you the ability to set alerts when costs or usage are exceeded?","explanation":"The correct answer is AWS Budgets.  AWS Cost Explorer lets you visualize, understand, and manage your AWS costs and usage over time. AWS Cost & Usage Report lists AWS usage for each service category used by an account and its IAM users and finally, Reserved Instance Reporting provides a number of RI-specific cost management solutions to help you better understand and manage RI Utilization and Coverage.","links":[{"url":"https://aws.amazon.com/aws-cost-management/aws-budgets/","title":"AWS Budgets"}],"answers":[{"id":"eef79d956328d5e4ec426d448cc53c74","text":"Reserved Instance Reporting","correct":false},{"id":"e32a801c8e0beab6abb9361e937365be","text":"AWS Budgets","correct":true},{"id":"824fd559c917b4ae56f36787b886eb81","text":"AWS Cost & Usage Report","correct":false},{"id":"c7f176d72688fd87853e31b84159d541","text":"AWS Cost Explorer","correct":false}]},{"id":"f19a95ac-c0b9-4d00-a84a-67f71b7e2a76","domain":"awscsapro-domain2","question":"You are advising a client on some recommendations to increase performance of their web farm.  You notice that traffic seems to usually spike on the days after public holidays and unfortunately the responsiveness of the web server as collected by a third-party analytics company reflects a customer experience that is slower than targets.  Of these choices, which is the best way to improve performance with minimal cost?","explanation":"Of these options, only one meets the question requirements of performance at minimal cost.  Simply scheduling a scale event during a known period of traffic is a perfectly valid way to address the requirement and does not incur unnecessary cost. CloudTrail records API access and is not suitable for network alarms.  Route 53 would not be able to \"consolidate\" dynamic and static web resources.","links":[{"url":"https://docs.aws.amazon.com/auto scaling/ec2/userguide/schedule_time.html","title":"#N/A"}],"answers":[{"id":"3c6b1f2e20a3204df3886f680991b76d","text":"Use CloudTrail and SNS to trigger a Lambda function to scale the web farm when network traffic spikes over a configured threshold.  Create an additional Internet Gateway and split the traffic equally between the two gateways using an additional route table.  ","correct":false},{"id":"8a2f77fe64a24871e80eae971ce2c877","text":"Create replicas of the existing web farm in multiple regions.  Migrate static assets to S3 and use cross-region replication to synchronize across regions.  Create CloudFront distributions in each region.  Use Route 53 to direct traffic to the closest CloudFront alias based on a geolocation routing policy.","correct":false},{"id":"24c302b442af96b7c1eedb04e2c4069b","text":"Configure a dynamic scaling policy based on network traffic or CPU utilization.  Migrate static assets from EBS volumes to S3.  Configure two Cloudfront distributions--one for static content and one for dynamic content.  Use Route 53 to consolidate both Cloudfront distributions under one alias.","correct":false},{"id":"247053f8b211aeace0894f849838ef6f","text":"Configure a scheduled scaling policy to increase server capacity on days after public holidays.  ","correct":true}]},{"id":"b5f80e7e-7b92-402f-b74d-7397f0778eaf","domain":"awscsapro-domain4","question":"You are an AWS administrator and you want to enforce a company policy to reduce the cost of AWS usage. For the AWS accounts of testing environments, all instances in Auto Scaling groups should be terminated at 10:00PM every night and one instance in ASG should be launched at 6:00AM every morning so that the team can resume their work. At 10:00PM and 6:00AM, the team should get an email alert for the scaling activities. Which of the following methods would you use to implement this?","explanation":"A Lambda function can be used to modify the desired capacity at 10:00PM and 6:00AM. Only the desired capacity should be changed and the maximum capacity should be kept. If the maximum capacity is 1 during the day, the number of instances in ASG cannot be over 1. AWS CLI \"terminate-instances\" is inappropriate to terminate all instances in an ASG because ASG will automatically create new ones to maintain the desired capacity.","links":[{"url":"https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-manual-scaling.html","title":"Manual Scaling for Amazon EC2 Auto Scaling"}],"answers":[{"id":"5e1b982a6d6e29c160572d2430d8e3bb","text":"Use AWS CLI \"aws autoscaling put-scheduled-update-group-action\" to modify the desired capacity and maximum capacity to be 0 at 10:00PM and 1 at 6:00AM. Notify the team by configuring a CloudWatch Event rule.","correct":false},{"id":"32fa65e299613094d47b0e1a67a22636","text":"Create a cron job running in an EC2 instance. The cron job modifies the minimum, desired and maximum capacities to 0 at 10:00PM and changes the minimum, desired and maximum capacities back to 1 at 6:00AM. Configure a CloudWatch Event rule to notify the team.","correct":false},{"id":"0344a7b1df36d0f6e904c191acd31686","text":"Create a Lambda function that runs at 10:00PM and 6:00AM every day. The function terminates all EC2 instances using AWS CLI \"terminate-instances\" at 10:00PM and launches a new instance using AWS CLI \"run-instances\" at 6:00AM. Notify the team by publishing a message to an SNS topic.","correct":false},{"id":"8bbb4a7f1fc80cbb616df074b2984bd7","text":"Create a Lambda function that loops through all Auto Scaling groups, modifies the desired capacity to be 0 every 10:00PM and increases the desired capacity to be 1 every 6:00AM. Notify the team through an SNS notification in the Lambda function.","correct":true}]},{"id":"35fc536d-d968-472d-84d5-a7ae5d343564","domain":"awscsapro-domain1","question":"You work for a genetics company that has extremely large datasets stored in S3. You need to minimize storage costs, while maintaining mandated restore times that depend on the age of the data. Data 30-59 days old must be available immediately, and data ≥ 60 days old must be available within 12 hours. Which of the following options below should you consider?","explanation":"You should use S3 - IA for the data that needs to be accessed immediately, and you should use Glacier for the data that must be recovered within 12 hours. S3 - RRS and 1Zone-IA would not be suitable solution for irreplaceable data or data that required immediate access (reduced Durability or Availability), and CloudFront is a CDN service, not a storage solution.  The use of absolute words like 'Must' is an important clue as it will eliminate options where the case may not be possible such as with OneZone-IA.","links":[{"url":"https://aws.amazon.com/s3/faqs/#sia","title":"S3 - Infrequent Access"},{"url":"https://aws.amazon.com/s3/faqs/#glacier","title":"About Glacier"}],"answers":[{"id":"bef6cb89241de238f082cb243307ad1b","text":"CloudFront","correct":false},{"id":"31e831ec49678aed7f467f791d1f8704","text":"S3 - RRS","correct":false},{"id":"4def2a084469f97f6372bfaf0823941b","text":"Glacier","correct":true},{"id":"4340570ba672bfa48cd45e3f026c01d1","text":"S3 - IA","correct":true},{"id":"e9a5105fa288ef2b71c037e42d665d91","text":"S3 - OneZone-IA","correct":false}]},{"id":"401cbed4-e977-4303-9344-586af01a4180","domain":"awscsapro-domain2","question":"You have been contracted by a manufacturing company to create an application that uses DynamoDB to store data collected in a automotive part machining process.  Sometimes this data will be used to replay a process for a given serial number but that's always done within 7 days or so of the manufacture date.  The record consists of a MACHINE_ID (partition key) and a SERIAL_NUMBER (sort key).  Additionally, there is a CREATE_TIMESTAMP attribute that contains the creation timestamp of the record and a DATA attribute that contains a BASE64 encoded stream of machine data.  To keep the DynamoDB table as small as possible, the industrial engineers have agreed that records older than 30 days can be purged on a continual basis.  Given this, what is the best way to implement this with the least impact on provisioned throughput.","explanation":"Using DynamoDB Time to Live feature is a perfect way to purge out old data and not consume any WCU or RCU.  Other methods of deleting records would impact the provisioned capacity units.","links":[{"url":"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/TTL.html","title":"Time To Live - Amazon DynamoDB"}],"answers":[{"id":"081f76fb4967f9d10a3799ae400ad898","text":"Update the table to add a attribute called EXPIRE  Change the application to store EXPIRE as CREATE_TIMESTAMP + 30 days.  Enable Time to Live on the DynamoDB table for the EXPIRE attribute.","correct":true},{"id":"41f68b5f48ef97cc437ebfe50ae10882","text":"Use AWS Batch to execute a daily custom script which queries the DynamoDB table and deletes those records where CREATE_TIMESTAMP is older than 30 days.  ","correct":false},{"id":"7c29d6c8effb51be4df54033ce45d01f","text":"Enabled Lifecycle Management on the DynamoDB table.  Create a rule that deletes any records where CREATE_TIMESTAMP attribute is greater than 30 days old.","correct":false},{"id":"0a945c4865c940ffaddaeade6f6bbdaf","text":"Use Step Functions to track the lifecycle of DynamoDB records.  Once 30 days has elapsed, branch to a Delete step and trigger a Lambda function to remove the record.","correct":false},{"id":"ef62d6ec88d117a0ac0cb7c99cd1abbd","text":"Use DynamoDB Streams to trigger a Lambda function when the record ages past 30 days.  Use the DynamoDB SDK in the Lambda function to delete the record.","correct":false}]},{"id":"4eb19466-6d1a-4ccd-987c-3f8f0cc71479","domain":"awscsapro-domain1","question":"A client wants help setting up a way to manage access to the AWS Console and various services on AWS for their employees.  They are starting out small but expect to provide AWS-hosted services to their 20,000 employees within the year.  They currently have Active Directory on-premises, use VMware to host their VMs.  They want something that will allow for minimal administrative overhead and something that could scale out to work for their 20,000 employees when they have more services on AWS.  Due to audit requirements, they need to ensure that the solution can centrally log sign-in activity.  Which option is best for them?","explanation":"For userbases more than 5,000 and if they want to establish a trust relationship with on-prem directories, AWS recommends using AWS Directory Service for Microsoft Active Directory.  This is also compatible with AWS Single Sign-On which provides a simple way to provide SSO for your users across AWS Organizations.  Additionally, you can monitor and audit sign-in activity centrally using CloudTrail. ","links":[{"url":"https://aws.amazon.com/single-sign-on/faqs/","title":"AWS Single Sign-On FAQs – Amazon Web Services (AWS)"},{"url":"https://docs.aws.amazon.com/directoryservice/latest/admin-guide/ad_connector_best_practices.html","title":"Best Practices for AD Connector - AWS Directory Service"}],"answers":[{"id":"1eb0420847890f99ddd38092ac88c5f0","text":"Create a OAuth Identity Provider in IAM and create roles and policies with the appropriate level of permissions.  In AD, create groups which correspond to the roles you have created in IAM and populate the AD groups with the desired users.  Download and install the OAuth Identity Connector for AD.  Configure the connector for the OAuth Identity Provider on AWS.  ","correct":false},{"id":"32479d3559d6ead0328c6419249c7859","text":"Connect the multiple accounts together using AWS Organizations.  Deploy AD Connector on AWS and configure their on-prem AD.  Create corresponding roles and groups in IAM and map those to their local AD groups.  Use STS to allow users to authenticate into AWS.","correct":false},{"id":"b1b70c7c05b814cf9685b3a64175cd80","text":"Connect the multiple accounts with AWS Organizations.  Deploy AWS Directory Service for Microsoft Active Directory on AWS and configure a trust with your on-premises AD.  Configure AWS Single Sign-On with the users and groups who are permitted to log into AWS.  Give the users the URL to the AWS SSO sign-in web page.","correct":true},{"id":"878c950f9d14c2d81185f1950edda98c","text":"Configure Cognito with web federation against the on-prem Active Directory.  In IAM, create corresponding users corresponding to the Cognito accounts you want to allow on AWS.  Assign these roles to the user pools within Cognito.  Distribute the Cognito SSO client to your users.","correct":false},{"id":"a3c1cc18aa02ff66c06476aa7b8e78ed","text":"Download and install the AWS ActiveDirectory Sync appliance and install it in vCenter.  Configure the Sync appliance to connect to the local AD and replicate to an instance of Simple AD on AWS.  In IAM, create corresponding roles and policies for the permissions you want to allow on AWS.  Assign these roles to the synchronized Simple AD users in IAM.","correct":false}]},{"id":"3ca7c5e0-432a-4d40-afee-ab996819b429","domain":"awscsapro-domain3","question":"You are consulting with a client to guide them on migration of an in-house data center to AWS.  The client has stipulated in the contract that the migration cannot require any more than 1 hour downtime at a time and that there is always a fallback path.  Additionally, they want an overall increase in business continuity capabilities when the migration is done.  Their landscape is as follows:  (1) Several databases with about 1TB of data combined which are heavily used 24x7 and considered mission critical; (2) About 40TB of historic files which are read sometimes but almost never updated; (3) About 150 web servers on VMware in various states of customization of which there is a current project underway to standardize them.  The client's team has suggested some next steps but because they aren't yet familiar with AWS, they are not using equivalent AWS terms.  Translating their suggestions, which of the following activities would you choose to meet the requirements, reducing costs and management where possible?","explanation":"The database migration suggestion aligns well with DMS as it can keep the databases in sync until cutover.  SAN replication sounds a lot like Storage Gateway which is a reasonable way to migrate data to AWS.  However, simply using K8s does not convert your VMs into containers or make them serverless.  We can't restore tapes to AWS.  Creating the same VM landscape on AWS just adds an additional layer of complexity that's not needed.","links":[{"url":"https://aws.amazon.com/dms/faqs/","title":"AWS Database Migration Service FAQs - Amazon Web Services"},{"url":"https://aws.amazon.com/storagegateway/faqs/","title":"AWS Storage Gateway FAQs - Amazon Web Services"}],"answers":[{"id":"75d528d2ec243c60d1478ae605c89f40","text":"Build a matching VMware environment on AWS and use third-party tools to backup and restore the VMs there.","correct":false},{"id":"801ce55cfc2a125e7d17c729ca3e2e93","text":"Create new high powered stand-alone database instances in AWS and migrate data from on-prem database.  Use log shipping to keep the databases in sync.  Once we better understand AWS, we'll rebuild the servers and repartition the tables. ","correct":true},{"id":"d2dde578790a34d9e740015474ea23e4","text":"Migrate the majority of the 150 web servers to a serverless concept by moving the VMs to a Kubernetes cluster.","correct":false},{"id":"31ea0eccdcea45ea4fce3b9459de52d4","text":"Use some block-level SAN replication tool to gradually migrate the on-prem historic files to AWS.","correct":true},{"id":"3a02ebcd33fe18255e4ce43e8babb730","text":"Over several months, at end of business on Friday, backup all the servers and data to tape and restore to new instances in AWS to prove out AWS capabilities and reliability.","correct":false}]},{"id":"9ff9e447-acaa-4dae-9bbf-08db786af693","domain":"awscsapro-domain2","question":"You are a AWS Solutions Architect, and your team is working on a new Java based project. After the application is deployed in an EC2 instance in the development AWS account, an encrypted EBS snapshot is created. You need to deploy the application in the production AWS account using the EBS snapshot. For security purposes, a different customer managed key (CMK) in key management service (KMS) is required to encrypt the EBS volume in the new EC2 instance. What is the best method to achieve this requirement?","explanation":"In order to share an encrypted EBS snapshot between AWS accounts, you must also share the customer managed key (CMK) used to encrypt the snapshot. You can then copy the snapshot to a new one encrypted with another encryption key. You cannot directly copy an EBS volume between accounts. An EBS snapshot encrypted by the default AWS key is not allowed to be shared with another account.","links":[{"url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-modifying-snapshot-permissions.html","title":"Sharing an Amazon EBS Snapshot"}],"answers":[{"id":"536a3b4a4f859146660d3b6dc2036650","text":"Create an AMI from the EBS snapshot and copy the AMI from the development account to the production account. Launch an Auto Scaling group with the AMI and encrypt it with a new customer managed key.","correct":false},{"id":"5751e42f86f4695e7309214d370c4d2b","text":"Share the snapshot and the encryption key to the production AWS account. Copy the snapshot to a new snapshot in the production account and encrypt it using another CMK in KMS. Create an AMI using the snapshot and launch a new EC2 instance.","correct":true},{"id":"941319ca17d0d8915ed822083e1dc2d4","text":"Re-encrypt the EBS snapshot with the default EBS encryption key in the development account. Share both the snapshot and the default EBS key to the production account. In the production account, create a volume from the snapshot and attach the volume to a new EC2 instance.","correct":false},{"id":"16c8a2b39dcb6723939653ed8deb9f90","text":"Share the CMK with the production account. In the development account, create a volume from the EBS snapshot. Copy the volume to the production account and encrypt it with another customer managed key. Launch a new EC2 instance and attach the new EBS volume to it.","correct":false}]},{"id":"338ce579-a236-4282-9670-8da3b0baf2e9","domain":"awscsapro-domain3","question":"You are helping a Retail client migrate some of their assets over to AWS.  Presently, they are in the process of moving their Enterprise Data Warehouse.  They are planning to re-host their very large Oracle data warehouse on EC2 in a high availability configuration across AZs.  They presently have several Scala scripts that process some detailed Point of Sale data that is collected each day.  The scripts perform some aggregation on the data and import the aggregate into their Oracle database.  They want to move this process to AWS as well.  Which option would be the most cost-effective way for them to do this?","explanation":"AWS Glue is a fully managed extract, translate and loading service and is compatible with Scala.  EMR could do this but represents more overhead than necessary.  Lambda is not compatible with Scala and migrating to Redshift does not bring anything in this case if the customer wants to retain their Oracle database.","links":[{"url":"https://aws.amazon.com/glue/faqs/","title":"AWS Glue Features - Amazon Web Services"}],"answers":[{"id":"8b01d948d5ad2f4b1c8e817c2d98e7c2","text":"Migrate the processing to AWS Glue.","correct":true},{"id":"1a4de6676c8c078310e08aad71d9dce6","text":"Migrate the processing to AWS EMR.","correct":false},{"id":"4f1ff8b853c3ba363bdd2bda53538ab4","text":"Migrate from Oracle to Redshift and use Kinesis Firehose.","correct":false},{"id":"04578ae8419780f9dc441d01fe11582d","text":"Create Lambda functions using your Scala scripts.","correct":false},{"id":"a445a1a877009cd7c31858687a818116","text":"Import your Scala scripts into AWS SCT for processing.","correct":false}]},{"id":"6a0e9756-1b9e-495c-965b-a8c715843d4f","domain":"awscsapro-domain1","question":"A client has asked you to help troubleshoot a Service Control Policy.  Upon reviewing the policy, you notice that they have used multiple \"Statement\" elements for each Effect/Action/Resource object but the policy is not working. What would you suggest next?  ","explanation":"The syntax for an SCP requires only one Statement element.  You can have multiple objects within a single Statement element though. ","links":[{"url":"https://docs.aws.amazon.com/organizations/latest/userguide/org_troubleshoot_policies.html","title":"Troubleshooting AWS Organizations Policies - AWS Organizations"}],"answers":[{"id":"c88df8df089061b0ce17c8aba3a63305","text":"Have them apply the same policy on another OU to eliminate any localized conflicts.","correct":false},{"id":"6d5becfe4962c177196b4dce486c4e58","text":"Look elsewhere as multiple Statement elements are used when multiple conditions are specified in SCPs.","correct":false},{"id":"4b06a8d83f7ea11c2700b91cae578fbb","text":"Split the SCP out into multiple policies and apply in a cascading manner to higher level OUs.","correct":false},{"id":"3410d9f58eea1a807fdc3d0f6194c3ce","text":"Change the policy to combine the multiple Statement elements into one element with an object array.","correct":true}]},{"id":"768271e9-9fd0-4921-a473-49ec465a0b34","domain":"awscsapro-domain4","question":"Your company is preparing for a large sales promotion coming up in a few weeks.  This promotion is going to increase the load on your web server landscape substantially.  In past promotions, you've run into scaling issues because the region and AZ of your web landscape is very heavily used.  Being unable to scale due to lack of resources is a very real possibility.  You need some way to absolutely guarantee that resources will be available for this one-time event.  Which of the following would be the most cost-effective in this scenario.","explanation":"If we only need a short-term resource availability guarantee, it does not make sense to contract for a whole year worth of Reserved Instance.  We can instead use On-Demand Capacity Reservations.","links":[{"url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-capacity-reservations.html","title":"On-Demand Capacity Reservations - Amazon Elastic Compute Cloud"}],"answers":[{"id":"0862f1bd2009c6ca8b52898831991642","text":"Use an On-Demand Capacity Reservation.","correct":true},{"id":"f10307b8e644773b68b43dade41382f1","text":"Purchase Dedicated Instances.","correct":false},{"id":"9dc64814f005254de6e1a269849ae0b1","text":"Purchase zonal Reserved Instance.","correct":false},{"id":"08d50c618757e489c5ac563be91f25f7","text":"Purchase a regional Reserved Instance.","correct":false},{"id":"0b48767c7357e407fa6f1e958fe0f051","text":"Purchase a Dedicated Host.","correct":false}]},{"id":"2c688b4f-f267-472d-a68f-db7c9070bfae","domain":"awscsapro-domain5","question":"An application has a UI automation test suite based on Selenium and the testing scripts are stored in a GitHub repository. The UI tests need a username and password to login to the application for the testing. You check the test scripts and find that the credentials are saved in the GitHub repository using plain text. This may bring in some potential security issues. You suggest saving the username and password in a secure, highly available and trackable place. Which of the following methods is the easiest one?","explanation":"AWS Parameter Store provides secure, hierarchical storage for configuration data management and secrets management. The credentials can be stored as ciphertext. The service is highly scalable, available, and durable. It also integrates with CloudTrail so the usage is easy to track. DynamoDB, DocumentDB and S3 are not designed to store parameters. These services need more configurations and are not as simple as AWS Parameter Store.","links":[{"url":"https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html","title":"AWS Systems Manager Parameter Store"}],"answers":[{"id":"fed8d54a1ce26b883744ac61a13e5ac9","text":"Configure an Amazon DocumentDB cluster with the d5.r5.large instance class. Create a schema for username and password. Enable Auto Scaling for the cluster and set up the default number of instances to be 3.","correct":false},{"id":"26e06a6fc6a107b0dd5aac356ad3908d","text":"Edit a JSON file to store the username and password and upload the file to an S3 bucket. Encrypt the S3 bucket with SSE-S3. Modify the S3 bucket policy to only allow the testing machines to get the file.","correct":false},{"id":"d540b786961136abf5dfd186e84fcca0","text":"Save the username and password in AWS Parameter Store. Select the SecureString type to encrypt the data with the default key in Key Management Service (KMS). Modify the scripts to fetch the parameter values through AWS SDK.","correct":true},{"id":"33442a701fc2a058eea89266ea439ee4","text":"Create a table in DynamoDB that has a primary key for username and a sort key for password. Select the encryption type as \"KMS - AWS managed CMK\". Enable the on-demand read/write capacity mode.","correct":false}]},{"id":"431e43bc-ccbc-480f-9915-210bc7773d2b","domain":"awscsapro-domain5","question":"You are in the process of migrating a large quantity of small log files to S3 for long-term storage.  To accelerate the process and just because you can, you have created quite sophisticated multi-threaded distributed process deployed across 100 VMs which can load hundreds of thousands of files at one time.  For some reason, the process seems to be throttled somewhere along the chain.  You try many things to try to uncover the source of the throttling but nothing works.  Reluctantly, you decide to turn off the KMS encryption setting for your S3 bucket and the throttling goes away.  You turn AMS-KMS back on and the throttling is back. Given the troubleshooting steps, what is the most likely cause of the throttling and how can you correct it?","explanation":"Through a process of elimination, it seems you have identified the variable that is causing the throttling.  KMS, like other AWS services, does have rate limiters which can be increased via Support Case.","links":[{"url":"https://docs.aws.amazon.com/kms/latest/developerguide/limits.html","title":"Limits - AWS Key Management Service"}],"answers":[{"id":"fe629daf7473efc279d7d8ee6f5a5806","text":"You are maxing out your SYNC requests to S3.  You need to request a limit increase via a Support Case.","correct":false},{"id":"1dd4f25e52404e18ddec0b8711a82a13","text":"You are hitting the KMS encrypt request account limit.  You must request a limit increase via a Support Case.","correct":true},{"id":"05aeb0bc36d7b53aa30bf9e22b6cd120","text":"You are maxing out your PUT requests to S3.  You need to change over to multi-part upload as a workaround.","correct":false},{"id":"01148eae3319190a0b228c6d02c9572c","text":"You are maxing out your network connection.  You must split the traffic over multiple interfaces.","correct":false},{"id":"60ff77ab365c15bb11771e94e3dc271d","text":"You have exceeded the number of API calls for your account.  You must create a new account.","correct":false}]},{"id":"c3ac5de9-a343-4cde-af1b-6c9f89824d2f","domain":"awscsapro-domain5","question":"An external auditor is reviewing your process documentation for a Payment Card Industry (PCI) audit.  The scope of this audit will extend to your immediate vendors where you store, transmit or process cardholder data.  Because you do store cardholder data in the AWS Cloud, the auditor would like to review AWS's PCI DSS Attestation of Compliance and Responsibility.  How would you go about getting this document? ","explanation":"AWS Artifact provides on-demand downloads of AWS security and compliance documents, such as AWS ISO certifications, Payment Card Industry (PCI), and Service Organization Control (SOC) reports. You can submit the security and compliance documents (also known as audit artifacts) to your auditors or regulators to demonstrate the security and compliance of the AWS infrastructure and services that you use. You can also use these documents as guidelines to evaluate your own cloud architecture and assess the effectiveness of your company's internal controls.","links":[{"url":"https://docs.aws.amazon.com/artifact/latest/ug/what-is-aws-artifact.html?icmpid=docs_artifact_console","title":"What Is AWS Artifact? - AWS Artifact"}],"answers":[{"id":"d9208942349d1c6f7dbaba3661069bc1","text":"AWS WorkDocs","correct":false},{"id":"63df0d05cd43af35c95cf04d92aaf685","text":"AWS Legal Services website","correct":false},{"id":"fefa18704e871eb671528fd4b7bc6ca2","text":"AWS Macie","correct":false},{"id":"d7cb47dd1f374d3ed079b14cc6f2cd75","text":"Submit a Support Case requesting the document","correct":false},{"id":"09e838e873f25f954fef911d50b3d1ab","text":"AWS Pinpoint","correct":false},{"id":"60b018772cea138af5a8c452ed694734","text":"AWS Artifact","correct":true},{"id":"1d16d307ee989a80e421198a01993a9c","text":"AWS IAM Console","correct":false}]},{"id":"9cab3dd3-61ad-44c6-b27a-2999e7aedf61","domain":"awscsapro-domain1","question":"For large organizationally complex AWS landscapes, it is considered a best practice to combine a tagging strategy with lifecycle tracking of various projects to identify orphaned resources that are no longer generating value for the organization and should be decommissioned.  With which AWS Well-Architected Framework Pillar is this best practice most aligned?","explanation":"Tagging has many uses but one strong use-case is in being able to tie resources that incur costs with cost centers or projects to create a direct line of sight to actual AWS expenses.  If this visibility does not exist, costs tend to increase because \"someone else is paying.\"  A Best Practice of the Cost Optimization Pillar is to maintain expenditure awareness.","links":[{"url":"https://aws.amazon.com/architecture/well-architected/","title":"AWS Well-Architected - Build secure, efficient, cloud enabled applications"}],"answers":[{"id":"2fa2e9f495df0cdcfa992171784f89b7","text":"Operational Excellence","correct":false},{"id":"bc368b371822f4e7df28c5768582dde8","text":"Performance Efficiency","correct":false},{"id":"2fae32629d4ef4fc6341f1751b405e45","text":"Security","correct":false},{"id":"820b8f74ad843d1574106ec4cadfc07e","text":"Reliability","correct":false},{"id":"d0bf6ab153eaa104c878925472ff129a","text":"Cost Optimization","correct":true}]},{"id":"4c49e888-8f76-4b15-b267-7f6ec35579ca","domain":"awscsapro-domain5","question":"A client has asked you to review their system architecture in advance of a compliance audit.  Their production environment is setup in a single AWS account that can only be accessed through a monitored and audited bastion host. Their EC2 Linux instances currently use AWS-encrypted EBS volumes and the web server instances sit in a private subnet behind an ALB that terminates TLS using a certificate from ACM. All their web servers share a single Security Group, and their application and data layer servers similarly share one Security Group each. Their S3 objects are stored with SSE-S3.  The auditors will require all data to be encrypted at rest and will expect the system to secure against the possibility that TLS certificates might be stolen by would-be spoofers.  How would you help this client pass their audit in a cost effective way? ","explanation":"All the measures they have taken with Certificate Manager, S3 encryption and the EBS volumes meet the audit requirements.  There is no need for LUKS, CloudHSM or client-side encryption.","links":[{"url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSEncryption.html","title":"Amazon EBS Encryption - Amazon Elastic Compute Cloud"},{"url":"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html","title":"Protecting Data Using Server-Side Encryption with Amazon S3-Managed  Encryption Keys (SSE-S3) - Amazon Simple Storage Service"}],"answers":[{"id":"92194f6603feb3f83a46b00bda37de5a","text":"Deploy CloudHSM and migrate the TLS keys to that service.","correct":false},{"id":"ab9ad7bfd57b97954a6f861d872c6137","text":"Continue to use the ACM for the TLS certificate.","correct":true},{"id":"d9447af4853ab8736e49349138cac8fb","text":"Make no changes to the EBS volumes.","correct":true},{"id":"0c31fb48e65443ba5bfa312a7dcc117c","text":"Encrypt the S3 objects with OpenPGP locally before re-uploading them to S3.","correct":false},{"id":"93113c2b6ca9be67acbd3561eef56481","text":"Reconfigure the EC2 EBS volumes to use LUKS OS-Level encryption.","correct":false},{"id":"bdddd09d0832e16504afd5c88136cf7e","text":"Leave the S3 objects alone.","correct":true}]},{"id":"951e49a8-9395-4b49-b623-1fb9e88a9639","domain":"awscsapro-domain5","question":"Your production web farm consists of a minimum of 4 instances.  The application can run on any instance type with at least 16GB of RAM but you have selected m5.xlarge in your current launch configuration.  You have defined a scaling policy such that you scale out when the average CPU across your auto scaling group reaches 70% for 5 minutes.  When this threshold is reached, your launch configuration should add more m5.xlarge instances.  You notice that auto scaling is not working as it should when your existing instances reach the scaling event threshold of 70% for 5 minutes.  Since you are deployed in a heavily used region, you suspect there are capacity issues.  Which of the following would be a reasonable way to solve this issue?","explanation":"If you do not have capacity reserved via a zonal RI or on-demand capacity reservation, it is possible that the AZ is out of available capacity for the type of instance you need.  You can reserve capacity or you can also increase the possible instance types in hopes that some other similarly equipped instance capacity is available.","links":[{"url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/reserved-instances-types.html","title":"Types of Reserved Instances (Offering Classes) - Amazon Elastic Compute  Cloud"}],"answers":[{"id":"04211a7288d23e07315243e9b492dcb4","text":"Provision some zonal reserved instances of m5.xlarge to ensure you have capacity when you need it. ","correct":true},{"id":"ea27906009e93ed8060db15ee28fa8ae","text":"Reduce the warm-up and cooldown period in the scaling policy to allow more time to provision resources.","correct":false},{"id":"04c8568f7761456b829145690b8d0cba","text":"Provision some regional reserved instances of m5.xlarge to ensure you have capacity when you need it. ","correct":false},{"id":"989bc9eb46719d5cf9d9b69d191ee8d8","text":"Lower the CPU threshold to 60% so the scaling event triggers earlier and therefore has a better chance of getting resources.","correct":false},{"id":"a791a52f0967a913925bc47c7ae1c0a6","text":"Version the launch configuration to include additional instances types that also have at least 16GB of RAM.","correct":false}]},{"id":"d8b88385-e15f-4313-bc53-e9fb82f89cc3","domain":"awscsapro-domain2","question":"You are developing an application to be hosted on EC2. The application uses some environmental configuration data and other necessary parameters when running. For example, the application needs to get the correct username and password in order to communicate with a RDS database. You want to find a free AWS service to store these parameters. To meet security requirements, these stored parameters must be encrypted by the AWS Key Management Service. Which of the following methods is the best?","explanation":"You can manage parameters in Systems Manager Parameter Store. The type of the parameters must be SecureString so that they are encrypted by KMS. Parameter Store has standard tier and advanced tier. In this scenario, standard tier is enough and advanced tier is not a free service. AWS Secrets Manager does not have the concept of standard or secure parameter. It also charges you per secret per month.","links":[{"url":"https://docs.aws.amazon.com/kms/latest/developerguide/services-parameter-store.html","title":"How AWS Systems Manager Parameter Store uses AWS KMS"}],"answers":[{"id":"41e6f55938cd5c32278c6f4b6708641e","text":"Create standard string parameters in AWS Systems Manager Parameter Store as it is a free service. The parameters are automatically encrypted with envelope encryption by the default AWS managed key (aws/ssm) in KMS. Use AWS Encryption SDK in the application to fetch the parameters.","correct":false},{"id":"3295f034025fe6d21155d228ee3dd0a2","text":"Store secure string parameters in AWS Systems Manager Parameter Store so that the parameters are encrypted by KMS. Use the standard tier as there is no additional charge for it. Use AWS Encryption SDK in the application to get the parameters.","correct":true},{"id":"4f357d94d3f20ee0d0c3c7c892ef0d70","text":"Create standard parameters in AWS Secrets Manager. Use the advanced tier as it uses envelope encryption to encrypt the stored parameters with KMS. You can also configure Secrets Manager to rotate the stored secrets or API keys automatically.","correct":false},{"id":"c08527f2eeacd9f56133d1dfed701f1a","text":"Create secure parameters in AWS Secrets Manager. Secrets Manager protects secrets by integrating with KMS and all stored parameters are automatically encrypted by the AWS managed key \"aws/secretsmanager\". You can also configure Secrets Manager to rotate the secrets.","correct":false}]},{"id":"58fa6440-b521-4dff-b6be-b1f8818c718d","domain":"awscsapro-domain2","question":"You currently manage a website that consists of two web servers behind an Application Load Balancer.  You currently use Route 53 as a DNS service.  Going with the current trend of websites doing away with the need to enter \"www\" in front of the domain, you want to allow your users to simply enter your domain name. What is required to allow this?","explanation":"Route 53 allows you to create a record for a zone apex.  In this case, we have created an alias record for the ALB.","links":[{"url":"https://docs.aws.amazon.com/govcloud-us/latest/ug-west/setting-up-route53-zoneapex-elb.html","title":"Setting Up Amazon Route 53 Zone Apex Support with an AWS GovCloud (US-West)  Elastic Load Balancing Load Balancer - AWS GovCloud (US-West) User Guide"}],"answers":[{"id":"9e87834a987d5b3556ce3e9f35ac6a82","text":"Create an A record for your top-level domain name as an alias for the ALB.","correct":true},{"id":"935c6d54a7555f482da11c1ded5dfc9c","text":"Create a CNAME record for the root domain and configure it to resolve to www subdomain name.","correct":false},{"id":"0dc522eb50b1c1320900ac02fcfb4dd6","text":"Create an S3 bucket as a static web host.  Create simple HTML file that redirects to the www subdomain.  Use CloudFront custom origins as a front-end for your top-level domain name.","correct":false},{"id":"f70aff68786523bc13fd44cb89feb502","text":"Create an A record for your top-level domain name using the public IP of your ALB.","correct":false},{"id":"5c48fe59299d582ae6074d269711de20","text":"Route 53 does not currently support zone apex records.  You must use a third-party DNS provider.","correct":false}]},{"id":"cc441e7c-594e-401f-a82c-84cb2984739d","domain":"awscsapro-domain2","question":"Your team is developing a web application. The application is hosted on EC2 instances and an application load balancer distributes the application traffic to the servers. A domain name called \"example.com\" is hosted in Route53. You want to resolve domain names \"test1.example.com\" and \"test2.example.com\" to \"server.example.com\". And domain name \"server.example.com\" should be resolved to the application load balancer DNS name. How would you configure the record sets in Route53?","explanation":"When a domain name needs to be routed to another one, a CNAME record should be used. In the \"server.example.com\" record set, the Alias target would be the ELB domain name. Alias records are suitable when you want to redirect queries to selected AWS resources such as S3, CloudFront and ELB. For A type records, the targets can only be IPv4 addresses. The targets cannot be domain names or ELB DNS names.","links":[{"url":"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-choosing-alias-non-alias.html","title":"Choosing Between Alias and Non-Alias Records"}],"answers":[{"id":"0ffd21f78c499ada42e566a7a9000aea","text":"Create two CNAME records \"test1.example.com\" and \"test2.example.com\" to direct DNS queries to the domain name \"server.example.com\". In the \"server.example.com\" record set, configure an A type record to route the traffic to the ELB DNS name as its target.","correct":false},{"id":"4b3bea9937caf31b398fa22c5aa2e255","text":"Create two A type records for \"test1.example.com\" and \"test2.example.com\". Route both records to the domain name \"server.example.com\". In the record set for \"server.example.com\", configure a CNAME record to distribute the traffic to the ELB DNS name.","correct":false},{"id":"3ae1eacef0f314b0f1b810cd51aebfa8","text":"Add two Alias records for \"test1.example.com\" and \"test2.example.com\". And direct both records to \"server.example.com\". In the \"server.example.com\" record set, configure an Alias record and use the application load balancer CNAME as its target.","correct":false},{"id":"6c304905717410886f3dd80373f65f18","text":"Create two CNAME records for \"test1.example.com\" and \"test2.example.com\". Direct both domain names to \"server.example.com\". In the record set for \"server.example.com\", configure an Alias record to route the traffic to the ELB DNS name as its target.","correct":true}]},{"id":"0e57f592-af77-4ff7-b32a-752702278ab5","domain":"awscsapro-domain2","question":"Several years ago, the company you are consulting for started an SOA concept to enable more modularity.  At that time, they chose to deploy each microservice as separate LAMP stacks launched in Elastic Beanstalk instances due to the ease of deployment and scalability.  They are now in the process of migrating all the services over to Docker containers.  Which of the following options would make the most efficient use of AWS resources?","explanation":"ECS might be a possible choice, but pods are a concept with Kubernetes and not ECS.  Elastic Beanstalk deployments run in their own self-contained environment and don't share resources.  Of the choices presented, the only feasible choice is K8s on EC2.","links":[{"url":"https://docs.aws.amazon.com/eks/latest/userguide/pod-networking.html","title":"Pod Networking - Amazon EKS"},{"url":"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/Welcome.html","title":"What Is AWS Elastic Beanstalk? - AWS Elastic Beanstalk"}],"answers":[{"id":"25ffdcfeb30ada0ea8a578689b8d0a49","text":"Create an ECS cluster and configure each container to exist in its own pod.  Use the Calico add-on to manage access to each service.","correct":false},{"id":"661aa72d0ab709e1931e20010a6e3ad7","text":"Use the Elastic Container Repository and AWS Spectrum to fully automate the deployment and scaling of the Docker containers.","correct":false},{"id":"a473fc9c398c6c24b4c0514eb9fb546a","text":"Configure Elastic Beanstalk to more efficiently run the existing landscapes across a single auto-scaled group rather than separate instances.","correct":false},{"id":"d93d65de15f35d86079a7a18bda05be2","text":"Package the containers as JAR files and deploy them with Lambda to take advantage of the pay-per-use model","correct":false},{"id":"f9f924e7f824f3e085294f8e97e7b362","text":"Create an auto-scaled group of EC2 instances and run Kubernetes across them to orchestrate the containers.","correct":true}]},{"id":"6da286f8-23a6-4e8a-a3a4-c7b496a06523","domain":"awscsapro-domain5","question":"An online health foods retailer stores its product catalog in an Amazon Aurora database. The catalog contains over 6,000 products. They'd like to offer a product search engine on the website using Amazon Elasticsearch Service. They'll use AWS Database Migration Service (DMS) to perform the initial load of the Elasticsearch indexes, and to handle change data capture (CDC) going forward. During the initial load of the indexes, the DMS job terminates with an Elasticsearch return code of 429 and a message stating 'Too many requests'. What must be done to load the Elasticsearch indexes successfully?","explanation":"When the ElasticSearch indexing queue is full, a 429 response code is returned and an es_rejected_execution_exception is thrown. The DMS load task then terminates. Throttling the DMS input stream based on the number of Elasticsearch indexes, shards, and replicas to be loaded will result in a successfully completed job. The DMS MaxFullLoadSubTasks parameter indicates how many source tables to load in parallel, and the ParallelLoadThreads parameter determines the number of threads that can be allocated for a given table. Increasing Elasticsearch shards without modifying DMS subtask and thread parameters could still overrun the request queue. Changing the DMS stream buffer count won't help with this issue. Amazon Elasticsearch currently doesn't provide support for AWS Glue as a source, so integration would require significant effort. Increasing Elasticsearch EBS volume IOPS won't solve an ingress queue overrun problem. The DMS batch split size parameter sets the maximum number of changes applied in a single batch, but doesn't reduce the total number of requests.","links":[{"url":"https://aws.amazon.com/dms/","title":"Amazon Database Migration Service"},{"url":"https://aws.amazon.com/elasticsearch-service/","title":"Amazon Elasticsearch Service"},{"url":"https://aws.amazon.com/blogs/database/scale-amazon-elasticsearch-service-for-aws-database-migration-service-migrations/","title":"Scale Amazon Elasticsearch Service for AWS Database Migration Service migrations"}],"answers":[{"id":"157e8733386382289486b3592774442f","text":"Increase the number of Elasticsearch shards for each index to increase distribution of the load. Change the DMS stream buffer count parameter to match the number of Elasticsearch shards","correct":false},{"id":"62ac117860ebe5397e04bad8ea29a5fb","text":"Replace DMS with AWS Glue for the initial index load and ongoing change data capture. Enable parallel reads when the ETL methods are called in the Glue jobs","correct":false},{"id":"c1e1a85b26a30433a6af5d30c8bb8d76","text":"Calculate the number of queue slots required for the Elasticsearch bulk request as a product of the number of indexes, shards, and replicas. Adjust DMS subtask and thread parameters accordingly","correct":true},{"id":"ee750f72f1e70b83f6d83819f2d504f5","text":"Raise the baseline IOPS performance of the Elasticsearch cluster EBS volumes to enable more throughput. Increase the DMS batch split size parameter to send more data in each request and reduce the number of total requests","correct":false}]},{"id":"375e7161-43df-4d2f-adab-75cc6166a453","domain":"awscsapro-domain5","question":"You build a CloudFormation stack for a new project. The CloudFormation template includes an AWS::EC2::Volume resource that specifies an Amazon Elastic Block Store (Amazon EBS) volume. The EBS volume is mounted in an EC2 instance and contains some important customer data and logs. However, when the CloudFormation stack is deleted, the EBS volume is deleted as well and the data is lost. You want to create a snapshot of the volume when the resource is deleted by CloudFormation. What is the easiest method for you to take?","explanation":"The easiest method is using the DeletePolicy attribute in the CloudFormation template. The \"Snapshot\" value ensures that a snapshot is created before the CloudFormation stack is deleted. The \"Retain\" value is incorrect as it keeps the volume rather than creates a snapshot. The EBS lifecycle manager can create daily snapshot however it is not required in the question. When the CloudWatch Event rule is triggered, the EBS volume may already be deleted and no snapshot can be taken. Besides, the CloudFormation deletion cannot be suspended by a Lambda function.","links":[{"url":"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-deletionpolicy.html","title":"DeletionPolicy Attribute"}],"answers":[{"id":"555e7ef93e63402dd6a074edd5b8a16d","text":"Create a CloudWatch Event rule that checks the CloudFormation delete-stack event. Trigger a Lambda function that pauses the CloudFormation stack deletion, creates the EBS snapshot of the volume and resumes the stack deletion after the snapshot is created successfully.","correct":false},{"id":"0719057e0f4aca49eb47cd94c333e599","text":"Add a DeletePolicy attribute in the CloudFormation template and specify \"Snapshot\" to have AWS CloudFormation create a snapshot for the EBS volume before deleting the resource.","correct":true},{"id":"692ea271f5ada1d555a5889be933267e","text":"Modify the CloudFormation template to create an EBS snapshot strategy in EBS lifecycle manager which creates a daily snapshot as backup and also another snapshot when the EBS volume’s CloudFormation stack is being deleted.","correct":false},{"id":"061af6db30e4b65a1d544d4e64546085","text":"Modify the CloudFormation template by adding a DeletePolicy variable for the AWS::EC2::Volume resource. Specify the value of \"Retain\" to automatically create a snapshot of the EBS volume before the stack is deleted.","correct":false}]}]}}}}
